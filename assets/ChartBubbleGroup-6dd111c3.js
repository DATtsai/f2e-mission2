import{r as se,l as ie,m as kp,q as Ap,s as Lc,o as Cp,b as Ai,c as Vr,t as Tp,e as Ir,u as Qf,a as Ec,d as Dp,w as Do,v as Rc,j as $c,f as Lp}from"./index-bfaab009.js";var Ep="5.16.0";function $e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mu(t){return t.length===1&&(t=Rp(t)),{left:function(e,n,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(i==null&&(i=0),r==null&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function Rp(t){return function(e,n){return $e(t(e),n)}}var Kf=mu($e),Ce=Kf.right,$p=Kf.left;function Ip(t,e){e==null&&(e=Jf);for(var n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(r,r=t[++n]);return a}function Jf(t,e){return[t,e]}function Pp(t,e,n){var i=t.length,r=e.length,a=new Array(i*r),o,s,u,c;for(n==null&&(n=Jf),o=u=0;o<i;++o)for(c=t[o],s=0;s<r;++s,++u)a[u]=n(c,e[s]);return a}function Np(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Te(t){return t===null?NaN:+t}function jf(t,e){var n=t.length,i=0,r=-1,a=0,o,s,u=0;if(e==null)for(;++r<n;)isNaN(o=Te(t[r]))||(s=o-a,a+=s/++i,u+=s*(o-a));else for(;++r<n;)isNaN(o=Te(e(t[r],r,t)))||(s=o-a,a+=s/++i,u+=s*(o-a));if(i>1)return u/(i-1)}function th(t,e){var n=jf(t,e);return n&&Math.sqrt(n)}function yu(t,e){var n=t.length,i=-1,r,a,o;if(e==null){for(;++i<n;)if((r=t[i])!=null&&r>=r)for(a=o=r;++i<n;)(r=t[i])!=null&&(a>r&&(a=r),o<r&&(o=r))}else for(;++i<n;)if((r=e(t[i],i,t))!=null&&r>=r)for(a=o=r;++i<n;)(r=e(t[i],i,t))!=null&&(a>r&&(a=r),o<r&&(o=r));return[a,o]}var eh=Array.prototype,zp=eh.slice,Yp=eh.map;function hr(t){return function(){return t}}function Bp(t){return t}function Ot(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}var vs=Math.sqrt(50),xs=Math.sqrt(10),_s=Math.sqrt(2);function bu(t,e,n){var i,r=-1,a,o,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(a=t,t=e,e=a),(s=xi(t,e,n))===0||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-t+1));++r<a;)o[r]=(t+r)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(t-e+1));++r<a;)o[r]=(t-r)/s;return i&&o.reverse(),o}function xi(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=vs?10:a>=xs?5:a>=_s?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=vs?10:a>=xs?5:a>=_s?2:1)}function qe(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=vs?r*=10:a>=xs?r*=5:a>=_s&&(r*=2),e<t?-r:r}function vu(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Op(){var t=Bp,e=yu,n=vu;function i(r){var a,o=r.length,s,u=new Array(o);for(a=0;a<o;++a)u[a]=t(r[a],a,r);var c=e(u),l=c[0],h=c[1],f=n(u,l,h);Array.isArray(f)||(f=qe(l,h,f),f=Ot(Math.ceil(l/f)*f,h,f));for(var d=f.length;f[0]<=l;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var g=new Array(d+1),p;for(a=0;a<=d;++a)p=g[a]=[],p.x0=a>0?f[a-1]:l,p.x1=a<d?f[a]:h;for(a=0;a<o;++a)s=u[a],l<=s&&s<=h&&g[Ce(f,s,0,d)].push(r[a]);return g}return i.value=function(r){return arguments.length?(t=typeof r=="function"?r:hr(r),i):t},i.domain=function(r){return arguments.length?(e=typeof r=="function"?r:hr([r[0],r[1]]),i):e},i.thresholds=function(r){return arguments.length?(n=typeof r=="function"?r:Array.isArray(r)?hr(zp.call(r)):hr(r),i):n},i}function Ci(t,e,n){if(n==null&&(n=Te),!!(i=t.length)){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(r-a)}}function Up(t,e,n){return t=Yp.call(t,Te).sort($e),Math.ceil((n-e)/(2*(Ci(t,.75)-Ci(t,.25))*Math.pow(t.length,-1/3)))}function Hp(t,e,n){return Math.ceil((n-e)/(3.5*th(t)*Math.pow(t.length,-1/3)))}function nh(t,e){var n=t.length,i=-1,r,a;if(e==null){for(;++i<n;)if((r=t[i])!=null&&r>=r)for(a=r;++i<n;)(r=t[i])!=null&&r>a&&(a=r)}else for(;++i<n;)if((r=e(t[i],i,t))!=null&&r>=r)for(a=r;++i<n;)(r=e(t[i],i,t))!=null&&r>a&&(a=r);return a}function Xp(t,e){var n=t.length,i=n,r=-1,a,o=0;if(e==null)for(;++r<n;)isNaN(a=Te(t[r]))?--i:o+=a;else for(;++r<n;)isNaN(a=Te(e(t[r],r,t)))?--i:o+=a;if(i)return o/i}function Fp(t,e){var n=t.length,i=-1,r,a=[];if(e==null)for(;++i<n;)isNaN(r=Te(t[i]))||a.push(r);else for(;++i<n;)isNaN(r=Te(e(t[i],i,t)))||a.push(r);return Ci(a.sort($e),.5)}function xu(t){for(var e=t.length,n,i=-1,r=0,a,o;++i<e;)r+=t[i].length;for(a=new Array(r);--e>=0;)for(o=t[e],n=o.length;--n>=0;)a[--r]=o[n];return a}function ih(t,e){var n=t.length,i=-1,r,a;if(e==null){for(;++i<n;)if((r=t[i])!=null&&r>=r)for(a=r;++i<n;)(r=t[i])!=null&&a>r&&(a=r)}else for(;++i<n;)if((r=e(t[i],i,t))!=null&&r>=r)for(a=r;++i<n;)(r=e(t[i],i,t))!=null&&a>r&&(a=r);return a}function Gp(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i}function Wp(t,e){if(n=t.length){var n,i=0,r=0,a,o=t[r];for(e==null&&(e=$e);++i<n;)(e(a=t[i],o)<0||e(o,o)!==0)&&(o=a,r=i);if(e(o,o)===0)return r}}function qp(t,e,n){for(var i=(n??t.length)-(e=e==null?0:+e),r,a;i;)a=Math.random()*i--|0,r=t[i+e],t[i+e]=t[a+e],t[a+e]=r;return t}function Vp(t,e){var n=t.length,i=-1,r,a=0;if(e==null)for(;++i<n;)(r=+t[i])&&(a+=r);else for(;++i<n;)(r=+e(t[i],i,t))&&(a+=r);return a}function rh(t){if(!(a=t.length))return[];for(var e=-1,n=ih(t,Zp),i=new Array(n);++e<n;)for(var r=-1,a,o=i[e]=new Array(a);++r<a;)o[r]=t[r][e];return i}function Zp(t){return t.length}function Qp(){return rh(arguments)}var Lo=Array.prototype.slice;function Kp(t){return t}var Pr=1,Nr=2,ws=3,ri=4,Ic=1e-6;function Jp(t){return"translate("+(t+.5)+",0)"}function jp(t){return"translate(0,"+(t+.5)+")"}function tg(t){return function(e){return+t(e)}}function eg(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function ng(){return!this.__axis}function Va(t,e){var n=[],i=null,r=null,a=6,o=6,s=3,u=t===Pr||t===ri?-1:1,c=t===ri||t===Nr?"x":"y",l=t===Pr||t===ws?Jp:jp;function h(f){var d=i??(e.ticks?e.ticks.apply(e,n):e.domain()),g=r??(e.tickFormat?e.tickFormat.apply(e,n):Kp),p=Math.max(a,0)+s,m=e.range(),y=+m[0]+.5,v=+m[m.length-1]+.5,b=(e.bandwidth?eg:tg)(e.copy()),x=f.selection?f.selection():f,w=x.selectAll(".domain").data([null]),S=x.selectAll(".tick").data(d,e).order(),M=S.exit(),E=S.enter().append("g").attr("class","tick"),T=S.select("line"),D=S.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(E),T=T.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),D=D.merge(E.append("text").attr("fill","currentColor").attr(c,u*p).attr("dy",t===Pr?"0em":t===ws?"0.71em":"0.32em")),f!==x&&(w=w.transition(f),S=S.transition(f),T=T.transition(f),D=D.transition(f),M=M.transition(f).attr("opacity",Ic).attr("transform",function(C){return isFinite(C=b(C))?l(C):this.getAttribute("transform")}),E.attr("opacity",Ic).attr("transform",function(C){var _=this.parentNode.__axis;return l(_&&isFinite(_=_(C))?_:b(C))})),M.remove(),w.attr("d",t===ri||t==Nr?o?"M"+u*o+","+y+"H0.5V"+v+"H"+u*o:"M0.5,"+y+"V"+v:o?"M"+y+","+u*o+"V0.5H"+v+"V"+u*o:"M"+y+",0.5H"+v),S.attr("opacity",1).attr("transform",function(C){return l(b(C))}),T.attr(c+"2",u*a),D.attr(c,u*p).text(g),x.filter(ng).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Nr?"start":t===ri?"end":"middle"),x.each(function(){this.__axis=b})}return h.scale=function(f){return arguments.length?(e=f,h):e},h.ticks=function(){return n=Lo.call(arguments),h},h.tickArguments=function(f){return arguments.length?(n=f==null?[]:Lo.call(f),h):n.slice()},h.tickValues=function(f){return arguments.length?(i=f==null?null:Lo.call(f),h):i&&i.slice()},h.tickFormat=function(f){return arguments.length?(r=f,h):r},h.tickSize=function(f){return arguments.length?(a=o=+f,h):a},h.tickSizeInner=function(f){return arguments.length?(a=+f,h):a},h.tickSizeOuter=function(f){return arguments.length?(o=+f,h):o},h.tickPadding=function(f){return arguments.length?(s=+f,h):s},h}function ig(t){return Va(Pr,t)}function ah(t){return Va(Nr,t)}function oh(t){return Va(ws,t)}function sh(t){return Va(ri,t)}var rg={value:function(){}};function sn(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new zr(n)}function zr(t){this._=t}function ag(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}zr.prototype=sn.prototype={constructor:zr,on:function(t,e){var n=this._,i=ag(t+"",n),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(t=i[a]).type)&&(r=og(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(r=(t=i[a]).type)n[r]=Pc(n[r],t.name,e);else if(e==null)for(r in n)n[r]=Pc(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zr(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,r=a.length;i<r;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};function og(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function Pc(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=rg,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ms="http://www.w3.org/1999/xhtml";const Ss={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ki(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ss.hasOwnProperty(e)?{space:Ss[e],local:t}:t}function sg(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ms&&e.documentElement.namespaceURI===Ms?e.createElement(t):e.createElementNS(n,t)}}function ug(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Za(t){var e=Ki(t);return(e.local?ug:sg)(e)}function cg(){}function Qa(t){return t==null?cg:function(){return this.querySelector(t)}}function lg(t){typeof t!="function"&&(t=Qa(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=new Array(o),u,c,l=0;l<o;++l)(u=a[l])&&(c=t.call(u,u.__data__,l,a))&&("__data__"in u&&(c.__data__=u.__data__),s[l]=c);return new Lt(i,this._parents)}function fg(){return[]}function _u(t){return t==null?fg:function(){return this.querySelectorAll(t)}}function hg(t){typeof t!="function"&&(t=_u(t));for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,c=0;c<s;++c)(u=o[c])&&(i.push(t.call(u,u.__data__,c,o)),r.push(u));return new Lt(i,r)}function wu(t){return function(){return this.matches(t)}}function dg(t){typeof t!="function"&&(t=wu(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&s.push(u);return new Lt(i,this._parents)}function uh(t){return new Array(t.length)}function pg(){return new Lt(this._enter||this._groups.map(uh),this._parents)}function Zr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Zr.prototype={constructor:Zr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gg(t){return function(){return t}}var Nc="$";function mg(t,e,n,i,r,a){for(var o=0,s,u=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],i[o]=s):n[o]=new Zr(t,a[o]);for(;o<u;++o)(s=e[o])&&(r[o]=s)}function yg(t,e,n,i,r,a,o){var s,u,c={},l=e.length,h=a.length,f=new Array(l),d;for(s=0;s<l;++s)(u=e[s])&&(f[s]=d=Nc+o.call(u,u.__data__,s,e),d in c?r[s]=u:c[d]=u);for(s=0;s<h;++s)d=Nc+o.call(t,a[s],s,a),(u=c[d])?(i[s]=u,u.__data__=a[s],c[d]=null):n[s]=new Zr(t,a[s]);for(s=0;s<l;++s)(u=e[s])&&c[f[s]]===u&&(r[s]=u)}function bg(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(S){d[++c]=S}),d;var n=e?yg:mg,i=this._parents,r=this._groups;typeof t!="function"&&(t=gg(t));for(var a=r.length,o=new Array(a),s=new Array(a),u=new Array(a),c=0;c<a;++c){var l=i[c],h=r[c],f=h.length,d=t.call(l,l&&l.__data__,c,i),g=d.length,p=s[c]=new Array(g),m=o[c]=new Array(g),y=u[c]=new Array(f);n(l,h,p,m,y,d,e);for(var v=0,b=0,x,w;v<g;++v)if(x=p[v]){for(v>=b&&(b=v+1);!(w=m[b])&&++b<g;);x._next=w||null}}return o=new Lt(o,i),o._enter=s,o._exit=u,o}function vg(){return new Lt(this._exit||this._groups.map(uh),this._parents)}function xg(t,e,n){var i=this.enter(),r=this,a=this.exit();return i=typeof t=="function"?t(i):i.append(t+""),e!=null&&(r=e(r)),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function _g(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var u=e[s],c=n[s],l=u.length,h=o[s]=new Array(l),f,d=0;d<l;++d)(f=u[d]||c[d])&&(h[d]=f);for(;s<i;++s)o[s]=e[s];return new Lt(o,this._parents)}function wg(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Mg(t){t||(t=Sg);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o=n[a],s=o.length,u=r[a]=new Array(s),c,l=0;l<s;++l)(c=o[l])&&(u[l]=c);u.sort(e)}return new Lt(r,this._parents).order()}function Sg(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ag(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function Cg(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function Tg(){var t=0;return this.each(function(){++t}),t}function Dg(){return!this.node()}function Lg(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],a=0,o=r.length,s;a<o;++a)(s=r[a])&&t.call(s,s.__data__,a,r);return this}function Eg(t){return function(){this.removeAttribute(t)}}function Rg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $g(t,e){return function(){this.setAttribute(t,e)}}function Ig(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Pg(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ng(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zg(t,e){var n=Ki(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Rg:Eg:typeof e=="function"?n.local?Ng:Pg:n.local?Ig:$g)(n,e))}function Mu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yg(t){return function(){this.style.removeProperty(t)}}function Bg(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Og(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ug(t,e,n){return arguments.length>1?this.each((e==null?Yg:typeof e=="function"?Og:Bg)(t,e,n??"")):Ve(this.node(),t)}function Ve(t,e){return t.style.getPropertyValue(e)||Mu(t).getComputedStyle(t,null).getPropertyValue(e)}function Hg(t){return function(){delete this[t]}}function Xg(t,e){return function(){this[t]=e}}function Fg(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Gg(t,e){return arguments.length>1?this.each((e==null?Hg:typeof e=="function"?Fg:Xg)(t,e)):this.node()[t]}function ch(t){return t.trim().split(/^|\s+/)}function Su(t){return t.classList||new lh(t)}function lh(t){this._node=t,this._names=ch(t.getAttribute("class")||"")}lh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function fh(t,e){for(var n=Su(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function hh(t,e){for(var n=Su(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Wg(t){return function(){fh(this,t)}}function qg(t){return function(){hh(this,t)}}function Vg(t,e){return function(){(e.apply(this,arguments)?fh:hh)(this,t)}}function Zg(t,e){var n=ch(t+"");if(arguments.length<2){for(var i=Su(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Vg:e?Wg:qg)(n,e))}function Qg(){this.textContent=""}function Kg(t){return function(){this.textContent=t}}function Jg(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function jg(t){return arguments.length?this.each(t==null?Qg:(typeof t=="function"?Jg:Kg)(t)):this.node().textContent}function tm(){this.innerHTML=""}function em(t){return function(){this.innerHTML=t}}function nm(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function im(t){return arguments.length?this.each(t==null?tm:(typeof t=="function"?nm:em)(t)):this.node().innerHTML}function rm(){this.nextSibling&&this.parentNode.appendChild(this)}function am(){return this.each(rm)}function om(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sm(){return this.each(om)}function um(t){var e=typeof t=="function"?t:Za(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function cm(){return null}function lm(t,e){var n=typeof t=="function"?t:Za(t),i=e==null?cm:typeof e=="function"?e:Qa(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function fm(){var t=this.parentNode;t&&t.removeChild(this)}function hm(){return this.each(fm)}function dm(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pm(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gm(t){return this.select(t?pm:dm)}function mm(t){return arguments.length?this.property("__data__",t):this.node().__data__}var dh={},L=null;if(typeof document<"u"){var ym=document.documentElement;"onmouseenter"in ym||(dh={mouseenter:"mouseover",mouseleave:"mouseout"})}function bm(t,e,n){return t=ph(t,e,n),function(i){var r=i.relatedTarget;(!r||r!==this&&!(r.compareDocumentPosition(this)&8))&&t.call(this,i)}}function ph(t,e,n){return function(i){var r=L;L=i;try{t.call(this,this.__data__,e,n)}finally{L=r}}}function vm(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function xm(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,a;n<r;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):e[++i]=a;++i?e.length=i:delete this.__on}}}function _m(t,e,n){var i=dh.hasOwnProperty(t.type)?bm:ph;return function(r,a,o){var s=this.__on,u,c=i(e,a,o);if(s){for(var l=0,h=s.length;l<h;++l)if((u=s[l]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),u.value=e;return}}this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function wm(t,e,n){var i=vm(t+""),r,a=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,l;u<c;++u)for(r=0,l=s[u];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value}return}for(s=e?_m:xm,n==null&&(n=!1),r=0;r<a;++r)this.each(s(i[r],e,n));return this}function Ti(t,e,n,i){var r=L;t.sourceEvent=L,L=t;try{return e.apply(n,i)}finally{L=r}}function gh(t,e,n){var i=Mu(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Mm(t,e){return function(){return gh(this,t,e)}}function Sm(t,e){return function(){return gh(this,t,e.apply(this,arguments))}}function km(t,e){return this.each((typeof e=="function"?Sm:Mm)(t,e))}var ku=[null];function Lt(t,e){this._groups=t,this._parents=e}function un(){return new Lt([[document.documentElement]],ku)}Lt.prototype=un.prototype={constructor:Lt,select:lg,selectAll:hg,filter:dg,data:bg,enter:pg,exit:vg,join:xg,merge:_g,order:wg,sort:Mg,call:kg,nodes:Ag,node:Cg,size:Tg,empty:Dg,each:Lg,attr:zg,style:Ug,property:Gg,classed:Zg,text:jg,html:im,raise:am,lower:sm,append:um,insert:lm,remove:hm,clone:gm,datum:mm,on:wm,dispatch:km};function Q(t){return typeof t=="string"?new Lt([[document.querySelector(t)]],[document.documentElement]):new Lt([[t]],ku)}function Am(t){return Q(Za(t).call(document.documentElement))}var Cm=0;function mh(){return new ks}function ks(){this._="@"+(++Cm).toString(36)}ks.prototype=mh.prototype={constructor:ks,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Au(){for(var t=L,e;e=t.sourceEvent;)t=e;return t}function Ka(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function Xe(t){var e=Au();return e.changedTouches&&(e=e.changedTouches[0]),Ka(t,e)}function Tm(t){return typeof t=="string"?new Lt([document.querySelectorAll(t)],[document.documentElement]):new Lt([t??[]],ku)}function Di(t,e,n){arguments.length<3&&(n=e,e=Au().changedTouches);for(var i=0,r=e?e.length:0,a;i<r;++i)if((a=e[i]).identifier===n)return Ka(t,a);return null}function Dm(t,e){e==null&&(e=Au().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Ka(t,e[n]);return r}function Eo(){L.stopImmediatePropagation()}function Sn(){L.preventDefault(),L.stopImmediatePropagation()}function Ja(t){var e=t.document.documentElement,n=Q(t).on("dragstart.drag",Sn,!0);"onselectstart"in e?n.on("selectstart.drag",Sn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ja(t,e){var n=t.document.documentElement,i=Q(t).on("dragstart.drag",null);e&&(i.on("click.drag",Sn,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function dr(t){return function(){return t}}function As(t,e,n,i,r,a,o,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=c}As.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Lm(){return!L.ctrlKey&&!L.button}function Em(){return this.parentNode}function Rm(t){return t??{x:L.x,y:L.y}}function $m(){return navigator.maxTouchPoints||"ontouchstart"in this}function yh(){var t=Lm,e=Em,n=Rm,i=$m,r={},a=sn("start","drag","end"),o=0,s,u,c,l,h=0;function f(x){x.on("mousedown.drag",d).filter(i).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!(l||!t.apply(this,arguments))){var x=b("mouse",e.apply(this,arguments),Xe,this,arguments);x&&(Q(L.view).on("mousemove.drag",g,!0).on("mouseup.drag",p,!0),Ja(L.view),Eo(),c=!1,s=L.clientX,u=L.clientY,x("start"))}}function g(){if(Sn(),!c){var x=L.clientX-s,w=L.clientY-u;c=x*x+w*w>h}r.mouse("drag")}function p(){Q(L.view).on("mousemove.drag mouseup.drag",null),ja(L.view,c),Sn(),r.mouse("end")}function m(){if(t.apply(this,arguments)){var x=L.changedTouches,w=e.apply(this,arguments),S=x.length,M,E;for(M=0;M<S;++M)(E=b(x[M].identifier,w,Di,this,arguments))&&(Eo(),E("start"))}}function y(){var x=L.changedTouches,w=x.length,S,M;for(S=0;S<w;++S)(M=r[x[S].identifier])&&(Sn(),M("drag"))}function v(){var x=L.changedTouches,w=x.length,S,M;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),S=0;S<w;++S)(M=r[x[S].identifier])&&(Eo(),M("end"))}function b(x,w,S,M,E){var T=S(w,x),D,C,_,A=a.copy();if(Ti(new As(f,"beforestart",D,x,o,T[0],T[1],0,0,A),function(){return(L.subject=D=n.apply(M,E))==null?!1:(C=D.x-T[0]||0,_=D.y-T[1]||0,!0)}))return function $(k){var R=T,Y;switch(k){case"start":r[x]=$,Y=o++;break;case"end":delete r[x],--o;case"drag":T=S(w,x),Y=o;break}Ti(new As(f,k,D,x,Y,T[0]+C,T[1]+_,T[0]-R[0],T[1]-R[1],A),A.apply,A,[k,M,E])}}return f.filter=function(x){return arguments.length?(t=typeof x=="function"?x:dr(!!x),f):t},f.container=function(x){return arguments.length?(e=typeof x=="function"?x:dr(x),f):e},f.subject=function(x){return arguments.length?(n=typeof x=="function"?x:dr(x),f):n},f.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:dr(!!x),f):i},f.on=function(){var x=a.on.apply(a,arguments);return x===a?f:x},f.clickDistance=function(x){return arguments.length?(h=(x=+x)*x,f):Math.sqrt(h)},f}function Hn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ji(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ie(){}var Ze=.7,Ln=1/Ze,kn="\\s*([+-]?\\d+)\\s*",Li="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Im=/^#([0-9a-f]{3,8})$/,Pm=new RegExp("^rgb\\("+[kn,kn,kn]+"\\)$"),Nm=new RegExp("^rgb\\("+[ce,ce,ce]+"\\)$"),zm=new RegExp("^rgba\\("+[kn,kn,kn,Li]+"\\)$"),Ym=new RegExp("^rgba\\("+[ce,ce,ce,Li]+"\\)$"),Bm=new RegExp("^hsl\\("+[Li,ce,ce]+"\\)$"),Om=new RegExp("^hsla\\("+[Li,ce,ce,Li]+"\\)$"),zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hn(Ie,De,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Yc,formatHex:Yc,formatHsl:Um,formatRgb:Bc,toString:Bc});function Yc(){return this.rgb().formatHex()}function Um(){return bh(this).formatHsl()}function Bc(){return this.rgb().formatRgb()}function De(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Im.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Oc(e):n===3?new yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Pm.exec(t))?new yt(e[1],e[2],e[3],1):(e=Nm.exec(t))?new yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zm.exec(t))?pr(e[1],e[2],e[3],e[4]):(e=Ym.exec(t))?pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bm.exec(t))?Xc(e[1],e[2]/100,e[3]/100,1):(e=Om.exec(t))?Xc(e[1],e[2]/100,e[3]/100,e[4]):zc.hasOwnProperty(t)?Oc(zc[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Oc(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function pr(t,e,n,i){return i<=0&&(t=e=n=NaN),new yt(t,e,n,i)}function Cu(t){return t instanceof Ie||(t=De(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function En(t,e,n,i){return arguments.length===1?Cu(t):new yt(t,e,n,i??1)}function yt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Hn(yt,En,Ji(Ie,{brighter:function(t){return t=t==null?Ln:Math.pow(Ln,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Ze:Math.pow(Ze,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uc,formatHex:Uc,formatRgb:Hc,toString:Hc}));function Uc(){return"#"+Ro(this.r)+Ro(this.g)+Ro(this.b)}function Hc(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ro(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Xc(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new re(t,e,n,i)}function bh(t){if(t instanceof re)return new re(t.h,t.s,t.l,t.opacity);if(t instanceof Ie||(t=De(t)),!t)return new re;if(t instanceof re)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,u=(a+r)/2;return s?(e===a?o=(n-i)/s+(n<i)*6:n===a?o=(i-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+r:2-a-r,o*=60):s=u>0&&u<1?0:o,new re(o,s,u,t.opacity)}function Qr(t,e,n,i){return arguments.length===1?bh(t):new re(t,e,n,i??1)}function re(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Hn(re,Qr,Ji(Ie,{brighter:function(t){return t=t==null?Ln:Math.pow(Ln,t),new re(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Ze:Math.pow(Ze,t),new re(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new yt($o(t>=240?t-240:t+120,r,i),$o(t,r,i),$o(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function $o(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var vh=Math.PI/180,xh=180/Math.PI,Kr=18,_h=.96422,wh=1,Mh=.82521,Sh=4/29,An=6/29,kh=3*An*An,Hm=An*An*An;function Ah(t){if(t instanceof Jt)return new Jt(t.l,t.a,t.b,t.opacity);if(t instanceof ue)return Th(t);t instanceof yt||(t=Cu(t));var e=zo(t.r),n=zo(t.g),i=zo(t.b),r=Io((.2225045*e+.7168786*n+.0606169*i)/wh),a,o;return e===n&&n===i?a=o=r:(a=Io((.4360747*e+.3850649*n+.1430804*i)/_h),o=Io((.0139322*e+.0971045*n+.7141733*i)/Mh)),new Jt(116*r-16,500*(a-r),200*(r-o),t.opacity)}function Xm(t,e){return new Jt(t,0,0,e??1)}function Jr(t,e,n,i){return arguments.length===1?Ah(t):new Jt(t,e,n,i??1)}function Jt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}Hn(Jt,Jr,Ji(Ie,{brighter:function(t){return new Jt(this.l+Kr*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Jt(this.l-Kr*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=_h*Po(e),t=wh*Po(t),n=Mh*Po(n),new yt(No(3.1338561*e-1.6168667*t-.4906146*n),No(-.9787684*e+1.9161415*t+.033454*n),No(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Io(t){return t>Hm?Math.pow(t,1/3):t/kh+Sh}function Po(t){return t>An?t*t*t:kh*(t-Sh)}function No(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function zo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ch(t){if(t instanceof ue)return new ue(t.h,t.c,t.l,t.opacity);if(t instanceof Jt||(t=Ah(t)),t.a===0&&t.b===0)return new ue(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*xh;return new ue(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Fm(t,e,n,i){return arguments.length===1?Ch(t):new ue(n,e,t,i??1)}function jr(t,e,n,i){return arguments.length===1?Ch(t):new ue(t,e,n,i??1)}function ue(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Th(t){if(isNaN(t.h))return new Jt(t.l,0,0,t.opacity);var e=t.h*vh;return new Jt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Hn(ue,jr,Ji(Ie,{brighter:function(t){return new ue(this.h,this.c,this.l+Kr*(t??1),this.opacity)},darker:function(t){return new ue(this.h,this.c,this.l-Kr*(t??1),this.opacity)},rgb:function(){return Th(this).rgb()}}));var Dh=-.14861,Tu=1.78277,Du=-.29227,to=-.90649,Ei=1.97294,Fc=Ei*to,Gc=Ei*Tu,Wc=Tu*Du-to*Dh;function Gm(t){if(t instanceof Fe)return new Fe(t.h,t.s,t.l,t.opacity);t instanceof yt||(t=Cu(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Wc*i+Fc*e-Gc*n)/(Wc+Fc-Gc),a=i-r,o=(Ei*(n-r)-Du*a)/to,s=Math.sqrt(o*o+a*a)/(Ei*r*(1-r)),u=s?Math.atan2(o,a)*xh-120:NaN;return new Fe(u<0?u+360:u,s,r,t.opacity)}function jt(t,e,n,i){return arguments.length===1?Gm(t):new Fe(t,e,n,i??1)}function Fe(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Hn(Fe,jt,Ji(Ie,{brighter:function(t){return t=t==null?Ln:Math.pow(Ln,t),new Fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Ze:Math.pow(Ze,t),new Fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*vh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new yt(255*(e+n*(Dh*i+Tu*r)),255*(e+n*(Du*i+to*r)),255*(e+n*(Ei*i)),this.opacity)}}));function Lh(t,e,n,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*i+o*r)/6}function Eh(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],o=i>0?t[i-1]:2*r-a,s=i<e-1?t[i+2]:2*a-r;return Lh((n-i/e)*e,o,r,a,s)}}function Rh(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],a=t[i%e],o=t[(i+1)%e],s=t[(i+2)%e];return Lh((n-i/e)*e,r,a,o,s)}}function eo(t){return function(){return t}}function $h(t,e){return function(n){return t+n*e}}function Wm(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function no(t,e){var n=e-t;return n?$h(t,n>180||n<-180?n-360*Math.round(n/360):n):eo(isNaN(t)?e:t)}function qm(t){return(t=+t)==1?pt:function(e,n){return n-e?Wm(e,n,t):eo(isNaN(e)?n:e)}}function pt(t,e){var n=e-t;return n?$h(t,n):eo(isNaN(t)?e:t)}const Ri=function t(e){var n=qm(e);function i(r,a){var o=n((r=En(r)).r,(a=En(a)).r),s=n(r.g,a.g),u=n(r.b,a.b),c=pt(r.opacity,a.opacity);return function(l){return r.r=o(l),r.g=s(l),r.b=u(l),r.opacity=c(l),r+""}}return i.gamma=t,i}(1);function Ih(t){return function(e){var n=e.length,i=new Array(n),r=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=En(e[o]),i[o]=s.r||0,r[o]=s.g||0,a[o]=s.b||0;return i=t(i),r=t(r),a=t(a),s.opacity=1,function(u){return s.r=i(u),s.g=r(u),s.b=a(u),s+""}}}var Ph=Ih(Eh),Vm=Ih(Rh);function Lu(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function Nh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zm(t,e){return(Nh(e)?Lu:zh)(t,e)}function zh(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)r[o]=ji(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<i;++o)a[o]=r[o](s);return a}}function Yh(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Gt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bh(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=ji(t[r],e[r]):i[r]=e[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var Cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yo=new RegExp(Cs.source,"g");function Qm(t){return function(){return t}}function Km(t){return function(e){return t(e)+""}}function Eu(t,e){var n=Cs.lastIndex=Yo.lastIndex=0,i,r,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(i=Cs.exec(t))&&(r=Yo.exec(e));)(a=r.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:Gt(i,r)})),n=Yo.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Km(u[0].x):Qm(e):(e=u.length,function(c){for(var l=0,h;l<e;++l)s[(h=u[l]).i]=h.x(c);return s.join("")})}function ji(t,e){var n=typeof e,i;return e==null||n==="boolean"?eo(e):(n==="number"?Gt:n==="string"?(i=De(e))?(e=i,Ri):Eu:e instanceof De?Ri:e instanceof Date?Yh:Nh(e)?Lu:Array.isArray(e)?zh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bh:Gt)(t,e)}function Jm(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function jm(t,e){var n=no(+t,+e);return function(i){var r=n(i);return r-360*Math.floor(r/360)}}function Oh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var qc=180/Math.PI,Ts={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Uh(t,e,n,i,r,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*qc,skewX:Math.atan(u)*qc,scaleX:o,scaleY:s}}var Wn,Bo,Vc,gr;function ty(t){return t==="none"?Ts:(Wn||(Wn=document.createElement("DIV"),Bo=document.documentElement,Vc=document.defaultView),Wn.style.transform=t,t=Vc.getComputedStyle(Bo.appendChild(Wn),null).getPropertyValue("transform"),Bo.removeChild(Wn),t=t.slice(7,-1).split(","),Uh(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ey(t){return t==null||(gr||(gr=document.createElementNS("http://www.w3.org/2000/svg","g")),gr.setAttribute("transform",t),!(t=gr.transform.baseVal.consolidate()))?Ts:(t=t.matrix,Uh(t.a,t.b,t.c,t.d,t.e,t.f))}function Hh(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}function a(c,l,h,f,d,g){if(c!==h||l!==f){var p=d.push("translate(",null,e,null,n);g.push({i:p-4,x:Gt(c,h)},{i:p-2,x:Gt(l,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function o(c,l,h,f){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:h.push(r(h)+"rotate(",null,i)-2,x:Gt(c,l)})):l&&h.push(r(h)+"rotate("+l+i)}function s(c,l,h,f){c!==l?f.push({i:h.push(r(h)+"skewX(",null,i)-2,x:Gt(c,l)}):l&&h.push(r(h)+"skewX("+l+i)}function u(c,l,h,f,d,g){if(c!==h||l!==f){var p=d.push(r(d)+"scale(",null,",",null,")");g.push({i:p-4,x:Gt(c,h)},{i:p-2,x:Gt(l,f)})}else(h!==1||f!==1)&&d.push(r(d)+"scale("+h+","+f+")")}return function(c,l){var h=[],f=[];return c=t(c),l=t(l),a(c.translateX,c.translateY,l.translateX,l.translateY,h,f),o(c.rotate,l.rotate,h,f),s(c.skewX,l.skewX,h,f),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,h,f),c=l=null,function(d){for(var g=-1,p=f.length,m;++g<p;)h[(m=f[g]).i]=m.x(d);return h.join("")}}}var Xh=Hh(ty,"px, ","px)","deg)"),Fh=Hh(ey,", ",")",")"),qn=Math.SQRT2,Oo=2,Zc=4,ny=1e-12;function Qc(t){return((t=Math.exp(t))+1/t)/2}function iy(t){return((t=Math.exp(t))-1/t)/2}function ry(t){return((t=Math.exp(2*t))-1)/(t+1)}function Gh(t,e){var n=t[0],i=t[1],r=t[2],a=e[0],o=e[1],s=e[2],u=a-n,c=o-i,l=u*u+c*c,h,f;if(l<ny)f=Math.log(s/r)/qn,h=function(v){return[n+v*u,i+v*c,r*Math.exp(qn*v*f)]};else{var d=Math.sqrt(l),g=(s*s-r*r+Zc*l)/(2*r*Oo*d),p=(s*s-r*r-Zc*l)/(2*s*Oo*d),m=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(p*p+1)-p);f=(y-m)/qn,h=function(v){var b=v*f,x=Qc(m),w=r/(Oo*d)*(x*ry(qn*b+m)-iy(m));return[n+w*u,i+w*c,r*x/Qc(qn*b+m)]}}return h.duration=f*1e3,h}function Wh(t){return function(e,n){var i=t((e=Qr(e)).h,(n=Qr(n)).h),r=pt(e.s,n.s),a=pt(e.l,n.l),o=pt(e.opacity,n.opacity);return function(s){return e.h=i(s),e.s=r(s),e.l=a(s),e.opacity=o(s),e+""}}}const ay=Wh(no);var oy=Wh(pt);function sy(t,e){var n=pt((t=Jr(t)).l,(e=Jr(e)).l),i=pt(t.a,e.a),r=pt(t.b,e.b),a=pt(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=i(o),t.b=r(o),t.opacity=a(o),t+""}}function qh(t){return function(e,n){var i=t((e=jr(e)).h,(n=jr(n)).h),r=pt(e.c,n.c),a=pt(e.l,n.l),o=pt(e.opacity,n.opacity);return function(s){return e.h=i(s),e.c=r(s),e.l=a(s),e.opacity=o(s),e+""}}}const uy=qh(no);var cy=qh(pt);function Vh(t){return function e(n){n=+n;function i(r,a){var o=t((r=jt(r)).h,(a=jt(a)).h),s=pt(r.s,a.s),u=pt(r.l,a.l),c=pt(r.opacity,a.opacity);return function(l){return r.h=o(l),r.s=s(l),r.l=u(Math.pow(l,n)),r.opacity=c(l),r+""}}return i.gamma=e,i}(1)}const ly=Vh(no);var io=Vh(pt);function fy(t,e){for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(o){var s=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[s](o-s)}}function hy(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}var Rn=0,ai=0,Vn=0,Zh=1e3,ta,oi,ea=0,Qe=0,ro=0,$i=typeof performance=="object"&&performance.now?performance:Date,Qh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xn(){return Qe||(Qh(dy),Qe=$i.now()+ro)}function dy(){Qe=0}function Ii(){this._call=this._time=this._next=null}Ii.prototype=ao.prototype={constructor:Ii,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Xn():+n)+(e==null?0:+e),!this._next&&oi!==this&&(oi?oi._next=this:ta=this,oi=this),this._call=t,this._time=n,Ds()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ds())}};function ao(t,e,n){var i=new Ii;return i.restart(t,e,n),i}function Kh(){Xn(),++Rn;for(var t=ta,e;t;)(e=Qe-t._time)>=0&&t._call.call(null,e),t=t._next;--Rn}function Kc(){Qe=(ea=$i.now())+ro,Rn=ai=0;try{Kh()}finally{Rn=0,gy(),Qe=0}}function py(){var t=$i.now(),e=t-ea;e>Zh&&(ro-=e,ea=t)}function gy(){for(var t,e=ta,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ta=n);oi=t,Ds(i)}function Ds(t){if(!Rn){ai&&(ai=clearTimeout(ai));var e=t-Qe;e>24?(t<1/0&&(ai=setTimeout(Kc,t-$i.now()-ro)),Vn&&(Vn=clearInterval(Vn))):(Vn||(ea=$i.now(),Vn=setInterval(py,Zh)),Rn=1,Qh(Kc))}}function Ls(t,e,n){var i=new Ii;return e=e==null?0:+e,i.restart(function(r){i.stop(),t(r+e)},e,n),i}function my(t,e,n){var i=new Ii,r=e;return e==null?(i.restart(t,e,n),i):(e=+e,n=n==null?Xn():+n,i.restart(function a(o){o+=r,i.restart(a,r+=e,n),t(o)},e,n),i)}var yy=sn("start","end","cancel","interrupt"),by=[],Jh=0,Es=1,Rs=2,Yr=3,Jc=4,$s=5,Br=6;function oo(t,e,n,i,r,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;vy(t,n,{name:e,index:i,group:r,on:yy,tween:by,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Jh})}function Ru(t,e){var n=te(t,e);if(n.state>Jh)throw new Error("too late; already scheduled");return n}function xe(t,e){var n=te(t,e);if(n.state>Yr)throw new Error("too late; already running");return n}function te(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vy(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=ao(a,0,n.time);function a(c){n.state=Es,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var l,h,f,d;if(n.state!==Es)return u();for(l in i)if(d=i[l],d.name===n.name){if(d.state===Yr)return Ls(o);d.state===Jc?(d.state=Br,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[l]):+l<e&&(d.state=Br,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[l])}if(Ls(function(){n.state===Yr&&(n.state=Jc,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Rs,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Rs){for(n.state=Yr,r=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=d);r.length=h+1}}function s(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=$s,1),h=-1,f=r.length;++h<f;)r[h].call(t,l);n.state===$s&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Br,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function Ge(t,e){var n=t.__transition,i,r,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((i=n[o]).name!==e){a=!1;continue}r=i.state>Rs&&i.state<$s,i.state=Br,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]}a&&delete t.__transition}}function xy(t){return this.each(function(){Ge(this,t)})}function _y(t,e){var n,i;return function(){var r=xe(this,t),a=r.tween;if(a!==n){i=n=a;for(var o=0,s=i.length;o<s;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function wy(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=xe(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:e,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===e){r[u]=s;break}u===c&&r.push(s)}a.tween=r}}function My(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=te(this.node(),n).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((e==null?_y:wy)(n,t,e))}function $u(t,e,n){var i=t._id;return t.each(function(){var r=xe(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return te(r,i).value[e]}}function jh(t,e){var n;return(typeof e=="number"?Gt:e instanceof De?Ri:(n=De(e))?(e=n,Ri):Eu)(t,e)}function Sy(t){return function(){this.removeAttribute(t)}}function ky(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ay(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttribute(t);return o===r?null:o===i?a:a=e(i=o,n)}}function Cy(t,e,n){var i,r=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?a:a=e(i=o,n)}}function Ty(t,e,n){var i,r,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===i&&u===r?a:(r=u,a=e(i=o,s)))}}function Dy(t,e,n){var i,r,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===i&&u===r?a:(r=u,a=e(i=o,s)))}}function Ly(t,e){var n=Ki(t),i=n==="transform"?Fh:jh;return this.attrTween(t,typeof e=="function"?(n.local?Dy:Ty)(n,i,$u(this,"attr."+t,e)):e==null?(n.local?ky:Sy)(n):(n.local?Cy:Ay)(n,i,e))}function Ey(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ry(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function $y(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&Ry(t,a)),n}return r._value=e,r}function Iy(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&Ey(t,a)),n}return r._value=e,r}function Py(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ki(t);return this.tween(n,(i.local?$y:Iy)(i,e))}function Ny(t,e){return function(){Ru(this,t).delay=+e.apply(this,arguments)}}function zy(t,e){return e=+e,function(){Ru(this,t).delay=e}}function Yy(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ny:zy)(e,t)):te(this.node(),e).delay}function By(t,e){return function(){xe(this,t).duration=+e.apply(this,arguments)}}function Oy(t,e){return e=+e,function(){xe(this,t).duration=e}}function Uy(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?By:Oy)(e,t)):te(this.node(),e).duration}function Hy(t,e){if(typeof e!="function")throw new Error;return function(){xe(this,t).ease=e}}function Xy(t){var e=this._id;return arguments.length?this.each(Hy(e,t)):te(this.node(),e).ease}function Fy(t){typeof t!="function"&&(t=wu(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a=e[r],o=a.length,s=i[r]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&s.push(u);return new le(i,this._parents,this._name,this._id)}function Gy(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var u=e[s],c=n[s],l=u.length,h=o[s]=new Array(l),f,d=0;d<l;++d)(f=u[d]||c[d])&&(h[d]=f);for(;s<i;++s)o[s]=e[s];return new le(o,this._parents,this._name,this._id)}function Wy(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qy(t,e,n){var i,r,a=Wy(e)?Ru:xe;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(e,n),o.on=r}}function Vy(t,e){var n=this._id;return arguments.length<2?te(this.node(),n).on.on(t):this.each(qy(n,t,e))}function Zy(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Qy(){return this.on("end.remove",Zy(this._id))}function Ky(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qa(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s=i[o],u=s.length,c=a[o]=new Array(u),l,h,f=0;f<u;++f)(l=s[f])&&(h=t.call(l,l.__data__,f,s))&&("__data__"in l&&(h.__data__=l.__data__),c[f]=h,oo(c[f],e,n,f,c,te(l,n)));return new le(a,this._parents,e,n)}function Jy(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_u(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var u=i[s],c=u.length,l,h=0;h<c;++h)if(l=u[h]){for(var f=t.call(l,l.__data__,h,u),d,g=te(l,n),p=0,m=f.length;p<m;++p)(d=f[p])&&oo(d,e,n,p,f,g);a.push(f),o.push(l)}return new le(a,o,e,n)}var jy=un.prototype.constructor;function tb(){return new jy(this._groups,this._parents)}function eb(t,e){var n,i,r;return function(){var a=Ve(this,t),o=(this.style.removeProperty(t),Ve(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}function t0(t){return function(){this.style.removeProperty(t)}}function nb(t,e,n){var i,r=n+"",a;return function(){var o=Ve(this,t);return o===r?null:o===i?a:a=e(i=o,n)}}function ib(t,e,n){var i,r,a;return function(){var o=Ve(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),Ve(this,t))),o===u?null:o===i&&u===r?a:(r=u,a=e(i=o,s))}}function rb(t,e){var n,i,r,a="style."+e,o="end."+a,s;return function(){var u=xe(this,t),c=u.on,l=u.value[a]==null?s||(s=t0(e)):void 0;(c!==n||r!==l)&&(i=(n=c).copy()).on(o,r=l),u.on=i}}function ab(t,e,n){var i=(t+="")=="transform"?Xh:jh;return e==null?this.styleTween(t,eb(t,i)).on("end.style."+t,t0(t)):typeof e=="function"?this.styleTween(t,ib(t,i,$u(this,"style."+t,e))).each(rb(this._id,t)):this.styleTween(t,nb(t,i,e),n).on("end.style."+t,null)}function ob(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function sb(t,e,n){var i,r;function a(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&ob(t,o,n)),i}return a._value=e,a}function ub(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,sb(t,e,n??""))}function cb(t){return function(){this.textContent=t}}function lb(t){return function(){var e=t(this);this.textContent=e??""}}function fb(t){return this.tween("text",typeof t=="function"?lb($u(this,"text",t)):cb(t==null?"":t+""))}function hb(t){return function(e){this.textContent=t.call(this,e)}}function db(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&hb(r)),e}return i._value=t,i}function pb(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,db(t))}function gb(){for(var t=this._name,e=this._id,n=n0(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,u,c=0;c<s;++c)if(u=o[c]){var l=te(u,e);oo(u,t,n,c,o,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new le(i,this._parents,t,n)}function mb(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--r===0&&a()}};n.each(function(){var c=xe(this,i),l=c.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),c.on=e})})}var yb=0;function le(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function e0(t){return un().transition(t)}function n0(){return++yb}var pn=un.prototype;le.prototype=e0.prototype={constructor:le,select:Ky,selectAll:Jy,filter:Fy,merge:Gy,selection:tb,transition:gb,call:pn.call,nodes:pn.nodes,node:pn.node,size:pn.size,empty:pn.empty,each:pn.each,on:Vy,attr:Ly,attrTween:Py,style:ab,styleTween:ub,text:fb,textTween:pb,remove:Qy,tween:My,delay:Yy,duration:Uy,ease:Xy,end:mb};function bb(t){return+t}function vb(t){return t*t}function xb(t){return t*(2-t)}function jc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function _b(t){return t*t*t}function wb(t){return--t*t*t+1}function Is(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Iu=3,Mb=function t(e){e=+e;function n(i){return Math.pow(i,e)}return n.exponent=t,n}(Iu),Sb=function t(e){e=+e;function n(i){return 1-Math.pow(1-i,e)}return n.exponent=t,n}(Iu),tl=function t(e){e=+e;function n(i){return((i*=2)<=1?Math.pow(i,e):2-Math.pow(2-i,e))/2}return n.exponent=t,n}(Iu),i0=Math.PI,r0=i0/2;function kb(t){return+t==1?1:1-Math.cos(t*r0)}function Ab(t){return Math.sin(t*r0)}function el(t){return(1-Math.cos(i0*t))/2}function Le(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function Cb(t){return Le(1-+t)}function Tb(t){return 1-Le(t)}function nl(t){return((t*=2)<=1?Le(1-t):2-Le(t-1))/2}function Db(t){return 1-Math.sqrt(1-t*t)}function Lb(t){return Math.sqrt(1- --t*t)}function il(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ps=4/11,Eb=6/11,Rb=8/11,$b=3/4,Ib=9/11,Pb=10/11,Nb=15/16,zb=21/22,Yb=63/64,mr=1/Ps/Ps;function Bb(t){return 1-Pi(1-t)}function Pi(t){return(t=+t)<Ps?mr*t*t:t<Rb?mr*(t-=Eb)*t+$b:t<Pb?mr*(t-=Ib)*t+Nb:mr*(t-=zb)*t+Yb}function Ob(t){return((t*=2)<=1?1-Pi(1-t):Pi(t-1)+1)/2}var Pu=1.70158,Ub=function t(e){e=+e;function n(i){return(i=+i)*i*(e*(i-1)+i)}return n.overshoot=t,n}(Pu),Hb=function t(e){e=+e;function n(i){return--i*i*((i+1)*e+i)+1}return n.overshoot=t,n}(Pu),rl=function t(e){e=+e;function n(i){return((i*=2)<1?i*i*((e+1)*i-e):(i-=2)*i*((e+1)*i+e)+2)/2}return n.overshoot=t,n}(Pu),$n=2*Math.PI,Nu=1,zu=.3,Xb=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=$n);function r(a){return e*Le(- --a)*Math.sin((i-a)/n)}return r.amplitude=function(a){return t(a,n*$n)},r.period=function(a){return t(e,a)},r}(Nu,zu),na=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=$n);function r(a){return 1-e*Le(a=+a)*Math.sin((a+i)/n)}return r.amplitude=function(a){return t(a,n*$n)},r.period=function(a){return t(e,a)},r}(Nu,zu),Fb=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=$n);function r(a){return((a=a*2-1)<0?e*Le(-a)*Math.sin((i-a)/n):2-e*Le(a)*Math.sin((i+a)/n))/2}return r.amplitude=function(a){return t(a,n*$n)},r.period=function(a){return t(e,a)},r}(Nu,zu),Ns={time:null,delay:0,duration:250,ease:Is};function Gb(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Ns.time=Xn(),Ns;return n}function Wb(t){var e,n;t instanceof le?(e=t._id,t=t._name):(e=n0(),(n=Ns).time=Xn(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,u,c=0;c<s;++c)(u=o[c])&&oo(u,t,e,c,o,n||Gb(u,e));return new le(i,this._parents,t,e)}un.prototype.interrupt=xy;un.prototype.transition=Wb;var qb=[null];function Vb(t,e){var n=t.__transition,i,r;if(n){e=e==null?null:e+"";for(r in n)if((i=n[r]).state>Es&&i.name===e)return new le([[t]],qb,e,+r)}return null}function Uo(t){return function(){return t}}function Zb(t,e,n){this.target=t,this.type=e,this.selection=n}function al(){L.stopImmediatePropagation()}function Ho(){L.preventDefault(),L.stopImmediatePropagation()}var ol={name:"drag"},Xo={name:"space"},gn={name:"handle"},mn={name:"center"};function sl(t){return[+t[0],+t[1]]}function zs(t){return[sl(t[0]),sl(t[1])]}function Qb(t){return function(e){return Di(e,L.touches,t)}}var Or={name:"x",handles:["w","e"].map(Ni),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ur={name:"y",handles:["n","s"].map(Ni),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Kb={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ni),input:function(t){return t==null?null:zs(t)},output:function(t){return t}},pe={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ul={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},cl={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Jb={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},jb={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ni(t){return{type:t}}function t2(){return!L.ctrlKey&&!L.button}function e2(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function n2(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function i2(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function r2(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function a2(){return Yu(Or)}function o2(){return Yu(Ur)}function s2(){return Yu(Kb)}function Yu(t){var e=e2,n=t2,i=n2,r=!0,a=sn("start","brush","end"),o=6,s;function u(m){var y=m.property("__brush",p).selectAll(".overlay").data([Ni("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pe.overlay).merge(y).each(function(){var b=Fo(this).extent;Q(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),m.selectAll(".selection").data([Ni("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pe.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=m.selectAll(".handle").data(t.handles,function(b){return b.type});v.exit().remove(),v.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return pe[b.type]}),m.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(m,y){m.selection?m.on("start.brush",function(){l(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){l(this,arguments).end()}).tween("brush",function(){var v=this,b=v.__brush,x=l(v,arguments),w=b.selection,S=t.input(typeof y=="function"?y.apply(this,arguments):y,b.extent),M=ji(w,S);function E(T){b.selection=T===1&&S===null?null:M(T),c.call(v),x.brush()}return w!==null&&S!==null?E:E(1)}):m.each(function(){var v=this,b=arguments,x=v.__brush,w=t.input(typeof y=="function"?y.apply(v,b):y,x.extent),S=l(v,b).beforestart();Ge(v),x.selection=w===null?null:w,c.call(v),S.start().brush().end()})},u.clear=function(m){u.move(m,null)};function c(){var m=Q(this),y=Fo(this).selection;y?(m.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+o:o})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(m,y,v){var b=m.__brush.emitter;return b&&(!v||!b.clean)?b:new h(m,y,v)}function h(m,y,v){this.that=m,this.args=y,this.state=m.__brush,this.active=0,this.clean=v}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(m){Ti(new Zb(u,m,t.output(this.state.selection)),a.apply,a,[m,this.that,this.args])}};function f(){if(s&&!L.touches||!n.apply(this,arguments))return;var m=this,y=L.target.__data__.type,v=(r&&L.metaKey?y="overlay":y)==="selection"?ol:r&&L.altKey?mn:gn,b=t===Ur?null:Jb[y],x=t===Or?null:jb[y],w=Fo(m),S=w.extent,M=w.selection,E=S[0][0],T,D,C=S[0][1],_,A,$=S[1][0],k,R,Y=S[1][1],N,B,X=0,F=0,at,et=b&&x&&r&&L.shiftKey,J,lt,Ut=L.touches?Qb(L.changedTouches[0].identifier):Xe,qt=Ut(m),Vt=qt,P=l(m,arguments,!0).beforestart();y==="overlay"?(M&&(at=!0),w.selection=M=[[T=t===Ur?E:qt[0],_=t===Or?C:qt[1]],[k=t===Ur?$:T,N=t===Or?Y:_]]):(T=M[0][0],_=M[0][1],k=M[1][0],N=M[1][1]),D=T,A=_,R=k,B=N;var G=Q(m).attr("pointer-events","none"),V=G.selectAll(".overlay").attr("cursor",pe[y]);if(L.touches)P.moved=mt,P.ended=vt;else{var I=Q(L.view).on("mousemove.brush",mt,!0).on("mouseup.brush",vt,!0);r&&I.on("keydown.brush",St,!0).on("keyup.brush",de,!0),Ja(L.view)}al(),Ge(m),c.call(m),P.start();function mt(){var kt=Ut(m);et&&!J&&!lt&&(Math.abs(kt[0]-Vt[0])>Math.abs(kt[1]-Vt[1])?lt=!0:J=!0),Vt=kt,at=!0,Ho(),j()}function j(){var kt;switch(X=Vt[0]-qt[0],F=Vt[1]-qt[1],v){case Xo:case ol:{b&&(X=Math.max(E-T,Math.min($-k,X)),D=T+X,R=k+X),x&&(F=Math.max(C-_,Math.min(Y-N,F)),A=_+F,B=N+F);break}case gn:{b<0?(X=Math.max(E-T,Math.min($-T,X)),D=T+X,R=k):b>0&&(X=Math.max(E-k,Math.min($-k,X)),D=T,R=k+X),x<0?(F=Math.max(C-_,Math.min(Y-_,F)),A=_+F,B=N):x>0&&(F=Math.max(C-N,Math.min(Y-N,F)),A=_,B=N+F);break}case mn:{b&&(D=Math.max(E,Math.min($,T-X*b)),R=Math.max(E,Math.min($,k+X*b))),x&&(A=Math.max(C,Math.min(Y,_-F*x)),B=Math.max(C,Math.min(Y,N+F*x)));break}}R<D&&(b*=-1,kt=T,T=k,k=kt,kt=D,D=R,R=kt,y in ul&&V.attr("cursor",pe[y=ul[y]])),B<A&&(x*=-1,kt=_,_=N,N=kt,kt=A,A=B,B=kt,y in cl&&V.attr("cursor",pe[y=cl[y]])),w.selection&&(M=w.selection),J&&(D=M[0][0],R=M[1][0]),lt&&(A=M[0][1],B=M[1][1]),(M[0][0]!==D||M[0][1]!==A||M[1][0]!==R||M[1][1]!==B)&&(w.selection=[[D,A],[R,B]],c.call(m),P.brush())}function vt(){if(al(),L.touches){if(L.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else ja(L.view,at),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);G.attr("pointer-events","all"),V.attr("cursor",pe.overlay),w.selection&&(M=w.selection),i2(M)&&(w.selection=null,c.call(m)),P.end()}function St(){switch(L.keyCode){case 16:{et=b&&x;break}case 18:{v===gn&&(b&&(k=R-X*b,T=D+X*b),x&&(N=B-F*x,_=A+F*x),v=mn,j());break}case 32:{(v===gn||v===mn)&&(b<0?k=R-X:b>0&&(T=D-X),x<0?N=B-F:x>0&&(_=A-F),v=Xo,V.attr("cursor",pe.selection),j());break}default:return}Ho()}function de(){switch(L.keyCode){case 16:{et&&(J=lt=et=!1,j());break}case 18:{v===mn&&(b<0?k=R:b>0&&(T=D),x<0?N=B:x>0&&(_=A),v=gn,j());break}case 32:{v===Xo&&(L.altKey?(b&&(k=R-X*b,T=D+X*b),x&&(N=B-F*x,_=A+F*x),v=mn):(b<0?k=R:b>0&&(T=D),x<0?N=B:x>0&&(_=A),v=gn),V.attr("cursor",pe[y]),j());break}default:return}Ho()}}function d(){l(this,arguments).moved()}function g(){l(this,arguments).ended()}function p(){var m=this.__brush||{selection:null};return m.extent=zs(e.apply(this,arguments)),m.dim=t,m}return u.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Uo(zs(m)),u):e},u.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Uo(!!m),u):n},u.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Uo(!!m),u):i},u.handleSize=function(m){return arguments.length?(o=+m,u):o},u.keyModifiers=function(m){return arguments.length?(r=!!m,u):r},u.on=function(){var m=a.on.apply(a,arguments);return m===a?u:m},u}var ll=Math.cos,fl=Math.sin,a0=Math.PI,yr=a0/2,hl=a0*2,dl=Math.max;function u2(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function c2(){var t=0,e=null,n=null,i=null;function r(a){var o=a.length,s=[],u=Ot(o),c=[],l=[],h=l.groups=new Array(o),f=new Array(o*o),d,g,p,m,y,v;for(d=0,y=-1;++y<o;){for(g=0,v=-1;++v<o;)g+=a[y][v];s.push(g),c.push(Ot(o)),d+=g}for(e&&u.sort(function(D,C){return e(s[D],s[C])}),n&&c.forEach(function(D,C){D.sort(function(_,A){return n(a[C][_],a[C][A])})}),d=dl(0,hl-t*o)/d,m=d?t:hl/o,g=0,y=-1;++y<o;){for(p=g,v=-1;++v<o;){var b=u[y],x=c[b][v],w=a[b][x],S=g,M=g+=w*d;f[x*o+b]={index:b,subindex:x,startAngle:S,endAngle:M,value:w}}h[b]={index:b,startAngle:p,endAngle:g,value:s[b]},g+=m}for(y=-1;++y<o;)for(v=y-1;++v<o;){var E=f[v*o+y],T=f[y*o+v];(E.value||T.value)&&l.push(E.value<T.value?{source:T,target:E}:{source:E,target:T})}return i?l.sort(i):l}return r.padAngle=function(a){return arguments.length?(t=dl(0,a),r):t},r.sortGroups=function(a){return arguments.length?(e=a,r):e},r.sortSubgroups=function(a){return arguments.length?(n=a,r):n},r.sortChords=function(a){return arguments.length?(a==null?i=null:(i=u2(a))._=a,r):i&&i._},r}var l2=Array.prototype.slice;function Go(t){return function(){return t}}var Ys=Math.PI,Bs=2*Ys,Oe=1e-6,f2=Bs-Oe;function Os(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Pe(){return new Os}Os.prototype=Pe.prototype={constructor:Os,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var a=this._x1,o=this._y1,s=n-t,u=i-e,c=a-t,l=o-e,h=c*c+l*l;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Oe)if(!(Math.abs(l*s-u*c)>Oe)||!r)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-a,d=i-o,g=s*s+u*u,p=f*f+d*d,m=Math.sqrt(g),y=Math.sqrt(h),v=r*Math.tan((Ys-Math.acos((g+h-p)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>Oe&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>c*d)+","+(this._x1=t+x*s)+","+(this._y1=e+x*u)}},arc:function(t,e,n,i,r,a){t=+t,e=+e,n=+n,a=!!a;var o=n*Math.cos(i),s=n*Math.sin(i),u=t+o,c=e+s,l=1^a,h=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Oe||Math.abs(this._y1-c)>Oe)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Bs+Bs),h>f2?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>Oe&&(this._+="A"+n+","+n+",0,"+ +(h>=Ys)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function h2(t){return t.source}function d2(t){return t.target}function p2(t){return t.radius}function g2(t){return t.startAngle}function m2(t){return t.endAngle}function y2(){var t=h2,e=d2,n=p2,i=g2,r=m2,a=null;function o(){var s,u=l2.call(arguments),c=t.apply(this,u),l=e.apply(this,u),h=+n.apply(this,(u[0]=c,u)),f=i.apply(this,u)-yr,d=r.apply(this,u)-yr,g=h*ll(f),p=h*fl(f),m=+n.apply(this,(u[0]=l,u)),y=i.apply(this,u)-yr,v=r.apply(this,u)-yr;if(a||(a=s=Pe()),a.moveTo(g,p),a.arc(0,0,h,f,d),(f!==y||d!==v)&&(a.quadraticCurveTo(0,0,m*ll(y),m*fl(y)),a.arc(0,0,m,y,v)),a.quadraticCurveTo(0,0,g,p),a.closePath(),s)return a=null,s+""||null}return o.radius=function(s){return arguments.length?(n=typeof s=="function"?s:Go(+s),o):n},o.startAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Go(+s),o):i},o.endAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Go(+s),o):r},o.source=function(s){return arguments.length?(t=s,o):t},o.target=function(s){return arguments.length?(e=s,o):e},o.context=function(s){return arguments.length?(a=s??null,o):a},o}var Ft="$";function ia(){}ia.prototype=be.prototype={constructor:ia,has:function(t){return Ft+t in this},get:function(t){return this[Ft+t]},set:function(t,e){return this[Ft+t]=e,this},remove:function(t){var e=Ft+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Ft&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Ft&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Ft&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Ft&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Ft&&++t;return t},empty:function(){for(var t in this)if(t[0]===Ft)return!1;return!0},each:function(t){for(var e in this)e[0]===Ft&&t(this[e],e.slice(1),this)}};function be(t,e){var n=new ia;if(t instanceof ia)t.each(function(s,u){n.set(u,s)});else if(Array.isArray(t)){var i=-1,r=t.length,a;if(e==null)for(;++i<r;)n.set(i,t[i]);else for(;++i<r;)n.set(e(a=t[i],i,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}function b2(){var t=[],e=[],n,i,r;function a(s,u,c,l){if(u>=t.length)return n!=null&&s.sort(n),i!=null?i(s):s;for(var h=-1,f=s.length,d=t[u++],g,p,m=be(),y,v=c();++h<f;)(y=m.get(g=d(p=s[h])+""))?y.push(p):m.set(g,[p]);return m.each(function(b,x){l(v,x,a(b,u,c,l))}),v}function o(s,u){if(++u>t.length)return s;var c,l=e[u-1];return i!=null&&u>=t.length?c=s.entries():(c=[],s.each(function(h,f){c.push({key:f,values:o(h,u)})})),l!=null?c.sort(function(h,f){return l(h.key,f.key)}):c}return r={object:function(s){return a(s,0,v2,x2)},map:function(s){return a(s,0,pl,gl)},entries:function(s){return o(a(s,0,pl,gl),0)},key:function(s){return t.push(s),r},sortKeys:function(s){return e[t.length-1]=s,r},sortValues:function(s){return n=s,r},rollup:function(s){return i=s,r}}}function v2(){return{}}function x2(t,e,n){t[e]=n}function pl(){return be()}function gl(t,e,n){t.set(e,n)}function ra(){}var Ye=be.prototype;ra.prototype=o0.prototype={constructor:ra,has:Ye.has,add:function(t){return t+="",this[Ft+t]=t,this},remove:Ye.remove,clear:Ye.clear,values:Ye.keys,size:Ye.size,empty:Ye.empty,each:Ye.each};function o0(t,e){var n=new ra;if(t instanceof ra)t.each(function(a){n.add(a)});else if(t){var i=-1,r=t.length;if(e==null)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function _2(t){var e=[];for(var n in t)e.push(n);return e}function w2(t){var e=[];for(var n in t)e.push(t[n]);return e}function M2(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var S2=Array.prototype,s0=S2.slice;function k2(t,e){return t-e}function A2(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}function we(t){return function(){return t}}function C2(t,e){for(var n=-1,i=e.length,r;++n<i;)if(r=T2(t,e[n]))return r;return 0}function T2(t,e){for(var n=e[0],i=e[1],r=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var u=t[a],c=u[0],l=u[1],h=t[s],f=h[0],d=h[1];if(D2(u,h,e))return 0;l>i!=d>i&&n<(f-c)*(i-l)/(d-l)+c&&(r=-r)}return r}function D2(t,e,n){var i;return L2(t,e,n)&&E2(t[i=+(t[0]===e[0])],n[i],e[i])}function L2(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function E2(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function R2(){}var ge=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function u0(){var t=1,e=1,n=vu,i=u;function r(c){var l=n(c);if(Array.isArray(l))l=l.slice().sort(k2);else{var h=yu(c),f=h[0],d=h[1];l=qe(f,d,l),l=Ot(Math.floor(f/l)*l,Math.floor(d/l)*l,l)}return l.map(function(g){return a(c,g)})}function a(c,l){var h=[],f=[];return o(c,l,function(d){i(d,c,l),A2(d)>0?h.push([d]):f.push(d)}),f.forEach(function(d){for(var g=0,p=h.length,m;g<p;++g)if(C2((m=h[g])[0],d)!==-1){m.push(d);return}}),{type:"MultiPolygon",value:l,coordinates:h}}function o(c,l,h){var f=new Array,d=new Array,g,p,m,y,v,b;for(g=p=-1,y=c[0]>=l,ge[y<<1].forEach(x);++g<t-1;)m=y,y=c[g+1]>=l,ge[m|y<<1].forEach(x);for(ge[y<<0].forEach(x);++p<e-1;){for(g=-1,y=c[p*t+t]>=l,v=c[p*t]>=l,ge[y<<1|v<<2].forEach(x);++g<t-1;)m=y,y=c[p*t+t+g+1]>=l,b=v,v=c[p*t+g+1]>=l,ge[m|y<<1|v<<2|b<<3].forEach(x);ge[y|v<<3].forEach(x)}for(g=-1,v=c[p*t]>=l,ge[v<<2].forEach(x);++g<t-1;)b=v,v=c[p*t+g+1]>=l,ge[v<<2|b<<3].forEach(x);ge[v<<3].forEach(x);function x(w){var S=[w[0][0]+g,w[0][1]+p],M=[w[1][0]+g,w[1][1]+p],E=s(S),T=s(M),D,C;(D=d[E])?(C=f[T])?(delete d[D.end],delete f[C.start],D===C?(D.ring.push(M),h(D.ring)):f[D.start]=d[C.end]={start:D.start,end:C.end,ring:D.ring.concat(C.ring)}):(delete d[D.end],D.ring.push(M),d[D.end=T]=D):(D=f[T])?(C=d[E])?(delete f[D.start],delete d[C.end],D===C?(D.ring.push(M),h(D.ring)):f[C.start]=d[D.end]={start:C.start,end:D.end,ring:C.ring.concat(D.ring)}):(delete f[D.start],D.ring.unshift(S),f[D.start=E]=D):f[E]=d[T]={start:E,end:T,ring:[S,M]}}}function s(c){return c[0]*2+c[1]*(t+1)*4}function u(c,l,h){c.forEach(function(f){var d=f[0],g=f[1],p=d|0,m=g|0,y,v=l[m*t+p];d>0&&d<t&&p===d&&(y=l[m*t+p-1],f[0]=d+(h-y)/(v-y)-.5),g>0&&g<e&&m===g&&(y=l[(m-1)*t+p],f[1]=g+(h-y)/(v-y)-.5)})}return r.contour=a,r.size=function(c){if(!arguments.length)return[t,e];var l=Math.ceil(c[0]),h=Math.ceil(c[1]);if(!(l>0)||!(h>0))throw new Error("invalid size");return t=l,e=h,r},r.thresholds=function(c){return arguments.length?(n=typeof c=="function"?c:Array.isArray(c)?we(s0.call(c)):we(c),r):n},r.smooth=function(c){return arguments.length?(i=c?u:R2,r):i===u},r}function Wo(t,e,n){for(var i=t.width,r=t.height,a=(n<<1)+1,o=0;o<r;++o)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[s+o*i]),s>=n&&(s>=a&&(u-=t.data[s-a+o*i]),e.data[s-n+o*i]=u/Math.min(s+1,i-1+a-s,a))}function qo(t,e,n){for(var i=t.width,r=t.height,a=(n<<1)+1,o=0;o<i;++o)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[o+s*i]),s>=n&&(s>=a&&(u-=t.data[o+(s-a)*i]),e.data[o+(s-n)*i]=u/Math.min(s+1,r-1+a-s,a))}function $2(t){return t[0]}function I2(t){return t[1]}function P2(){return 1}function N2(){var t=$2,e=I2,n=P2,i=960,r=500,a=20,o=2,s=a*3,u=i+s*2>>o,c=r+s*2>>o,l=we(20);function h(y){var v=new Float32Array(u*c),b=new Float32Array(u*c);y.forEach(function(S,M,E){var T=+t(S,M,E)+s>>o,D=+e(S,M,E)+s>>o,C=+n(S,M,E);T>=0&&T<u&&D>=0&&D<c&&(v[T+D*u]+=C)}),Wo({width:u,height:c,data:v},{width:u,height:c,data:b},a>>o),qo({width:u,height:c,data:b},{width:u,height:c,data:v},a>>o),Wo({width:u,height:c,data:v},{width:u,height:c,data:b},a>>o),qo({width:u,height:c,data:b},{width:u,height:c,data:v},a>>o),Wo({width:u,height:c,data:v},{width:u,height:c,data:b},a>>o),qo({width:u,height:c,data:b},{width:u,height:c,data:v},a>>o);var x=l(v);if(!Array.isArray(x)){var w=nh(v);x=qe(0,w,x),x=Ot(0,Math.floor(w/x)*x,x),x.shift()}return u0().thresholds(x).size([u,c])(v).map(f)}function f(y){return y.value*=Math.pow(2,-2*o),y.coordinates.forEach(d),y}function d(y){y.forEach(g)}function g(y){y.forEach(p)}function p(y){y[0]=y[0]*Math.pow(2,o)-s,y[1]=y[1]*Math.pow(2,o)-s}function m(){return s=a*3,u=i+s*2>>o,c=r+s*2>>o,h}return h.x=function(y){return arguments.length?(t=typeof y=="function"?y:we(+y),h):t},h.y=function(y){return arguments.length?(e=typeof y=="function"?y:we(+y),h):e},h.weight=function(y){return arguments.length?(n=typeof y=="function"?y:we(+y),h):n},h.size=function(y){if(!arguments.length)return[i,r];var v=Math.ceil(y[0]),b=Math.ceil(y[1]);if(!(v>=0)&&!(v>=0))throw new Error("invalid size");return i=v,r=b,m()},h.cellSize=function(y){if(!arguments.length)return 1<<o;if(!((y=+y)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(y)/Math.LN2),m()},h.thresholds=function(y){return arguments.length?(l=typeof y=="function"?y:Array.isArray(y)?we(s0.call(y)):we(y),h):l},h.bandwidth=function(y){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((y=+y)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*y*y+1)-1)/2),m()},h}var ml={},Vo={},Zo=34,Zn=10,Qo=13;function c0(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function z2(t,e){var n=c0(t);return function(i,r){return e(n(i),r,t)}}function yl(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function Pt(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Y2(t){return t<0?"-"+Pt(-t,6):t>9999?"+"+Pt(t,6):Pt(t,4)}function B2(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Y2(t.getUTCFullYear())+"-"+Pt(t.getUTCMonth()+1,2)+"-"+Pt(t.getUTCDate(),2)+(r?"T"+Pt(e,2)+":"+Pt(n,2)+":"+Pt(i,2)+"."+Pt(r,3)+"Z":i?"T"+Pt(e,2)+":"+Pt(n,2)+":"+Pt(i,2)+"Z":n||e?"T"+Pt(e,2)+":"+Pt(n,2)+"Z":"")}function so(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function i(h,f){var d,g,p=r(h,function(m,y){if(d)return d(m,y-1);g=m,d=f?z2(m,f):c0(m)});return p.columns=g||[],p}function r(h,f){var d=[],g=h.length,p=0,m=0,y,v=g<=0,b=!1;h.charCodeAt(g-1)===Zn&&--g,h.charCodeAt(g-1)===Qo&&--g;function x(){if(v)return Vo;if(b)return b=!1,ml;var S,M=p,E;if(h.charCodeAt(M)===Zo){for(;p++<g&&h.charCodeAt(p)!==Zo||h.charCodeAt(++p)===Zo;);return(S=p)>=g?v=!0:(E=h.charCodeAt(p++))===Zn?b=!0:E===Qo&&(b=!0,h.charCodeAt(p)===Zn&&++p),h.slice(M+1,S-1).replace(/""/g,'"')}for(;p<g;){if((E=h.charCodeAt(S=p++))===Zn)b=!0;else if(E===Qo)b=!0,h.charCodeAt(p)===Zn&&++p;else if(E!==n)continue;return h.slice(M,S)}return v=!0,h.slice(M,g)}for(;(y=x())!==Vo;){for(var w=[];y!==ml&&y!==Vo;)w.push(y),y=x();f&&(w=f(w,m++))==null||d.push(w)}return d}function a(h,f){return h.map(function(d){return f.map(function(g){return l(d[g])}).join(t)})}function o(h,f){return f==null&&(f=yl(h)),[f.map(l).join(t)].concat(a(h,f)).join(`
`)}function s(h,f){return f==null&&(f=yl(h)),a(h,f).join(`
`)}function u(h){return h.map(c).join(`
`)}function c(h){return h.map(l).join(t)}function l(h){return h==null?"":h instanceof Date?B2(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:i,parseRows:r,format:o,formatBody:s,formatRows:u,formatRow:c,formatValue:l}}var cn=so(","),l0=cn.parse,O2=cn.parseRows,U2=cn.format,H2=cn.formatBody,X2=cn.formatRows,F2=cn.formatRow,G2=cn.formatValue,ln=so("	"),f0=ln.parse,W2=ln.parseRows,q2=ln.format,V2=ln.formatBody,Z2=ln.formatRows,Q2=ln.formatRow,K2=ln.formatValue;function J2(t){for(var e in t){var n=t[e].trim(),i,r;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(i=+n))n=i;else if(r=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))j2&&r[4]&&!r[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var j2=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function tv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ev(t,e){return fetch(t,e).then(tv)}function nv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function iv(t,e){return fetch(t,e).then(nv)}function rv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function uo(t,e){return fetch(t,e).then(rv)}function h0(t){return function(e,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),uo(e,n).then(function(r){return t(r,i)})}}function av(t,e,n,i){arguments.length===3&&typeof n=="function"&&(i=n,n=void 0);var r=so(t);return uo(e,n).then(function(a){return r.parse(a,i)})}var ov=h0(l0),sv=h0(f0);function uv(t,e){return new Promise(function(n,i){var r=new Image;for(var a in e)r[a]=e[a];r.onerror=i,r.onload=function(){n(r)},r.src=t})}function cv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function lv(t,e){return fetch(t,e).then(cv)}function Bu(t){return function(e,n){return uo(e,n).then(function(i){return new DOMParser().parseFromString(i,t)})}}const fv=Bu("application/xml");var hv=Bu("text/html"),dv=Bu("image/svg+xml");function pv(t,e){var n;t==null&&(t=0),e==null&&(e=0);function i(){var r,a=n.length,o,s=0,u=0;for(r=0;r<a;++r)o=n[r],s+=o.x,u+=o.y;for(s=s/a-t,u=u/a-e,r=0;r<a;++r)o=n[r],o.x-=s,o.y-=u}return i.initialize=function(r){n=r},i.x=function(r){return arguments.length?(t=+r,i):t},i.y=function(r){return arguments.length?(e=+r,i):e},i}function ht(t){return function(){return t}}function ke(){return(Math.random()-.5)*1e-6}function gv(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return d0(this.cover(e,n),e,n,t)}function d0(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,a=t._root,o={data:i},s=t._x0,u=t._y0,c=t._x1,l=t._y1,h,f,d,g,p,m,y,v;if(!a)return t._root=o,t;for(;a.length;)if((p=e>=(h=(s+c)/2))?s=h:c=h,(m=n>=(f=(u+l)/2))?u=f:l=f,r=a,!(a=a[y=m<<1|p]))return r[y]=o,t;if(d=+t._x.call(null,a.data),g=+t._y.call(null,a.data),e===d&&n===g)return o.next=a,r?r[y]=o:t._root=o,t;do r=r?r[y]=new Array(4):t._root=new Array(4),(p=e>=(h=(s+c)/2))?s=h:c=h,(m=n>=(f=(u+l)/2))?u=f:l=f;while((y=m<<1|p)===(v=(g>=f)<<1|d>=h));return r[v]=a,r[y]=o,t}function mv(t){var e,n,i=t.length,r,a,o=new Array(i),s=new Array(i),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=r,s[n]=a,r<u&&(u=r),r>l&&(l=r),a<c&&(c=a),a>h&&(h=a));if(u>l||c>h)return this;for(this.cover(u,c).cover(l,h),n=0;n<i;++n)d0(this,o[n],s[n],t[n]);return this}function yv(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var o=r-n,s=this._root,u,c;n>t||t>=r||i>e||e>=a;)switch(c=(e<i)<<1|t<n,u=new Array(4),u[c]=s,s=u,o*=2,c){case 0:r=n+o,a=i+o;break;case 1:n=r-o,a=i+o;break;case 2:r=n+o,i=a-o;break;case 3:n=r-o,i=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this}function bv(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function vv(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Dt(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function xv(t,e,n){var i,r=this._x0,a=this._y0,o,s,u,c,l=this._x1,h=this._y1,f=[],d=this._root,g,p;for(d&&f.push(new Dt(d,r,a,l,h)),n==null?n=1/0:(r=t-n,a=e-n,l=t+n,h=e+n,n*=n);g=f.pop();)if(!(!(d=g.node)||(o=g.x0)>l||(s=g.y0)>h||(u=g.x1)<r||(c=g.y1)<a))if(d.length){var m=(o+u)/2,y=(s+c)/2;f.push(new Dt(d[3],m,y,u,c),new Dt(d[2],o,y,m,c),new Dt(d[1],m,s,u,y),new Dt(d[0],o,s,m,y)),(p=(e>=y)<<1|t>=m)&&(g=f[f.length-1],f[f.length-1]=f[f.length-1-p],f[f.length-1-p]=g)}else{var v=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);r=t-w,a=e-w,l=t+w,h=e+w,i=d.data}}return i}function _v(t){if(isNaN(l=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,i,r,a,o=this._x0,s=this._y0,u=this._x1,c=this._y1,l,h,f,d,g,p,m,y;if(!n)return this;if(n.length)for(;;){if((g=l>=(f=(o+u)/2))?o=f:u=f,(p=h>=(d=(s+c)/2))?s=d:c=d,e=n,!(n=n[m=p<<1|g]))return this;if(!n.length)break;(e[m+1&3]||e[m+2&3]||e[m+3&3])&&(i=e,y=m)}for(;n.data!==t;)if(r=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,r?(a?r.next=a:delete r.next,this):e?(a?e[m]=a:delete e[m],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(i?i[y]=n:this._root=n),this):(this._root=a,this)}function wv(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Mv(){return this._root}function Sv(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function kv(t){var e=[],n,i=this._root,r,a,o,s,u;for(i&&e.push(new Dt(i,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(i=n.node,a=n.x0,o=n.y0,s=n.x1,u=n.y1)&&i.length){var c=(a+s)/2,l=(o+u)/2;(r=i[3])&&e.push(new Dt(r,c,l,s,u)),(r=i[2])&&e.push(new Dt(r,a,l,c,u)),(r=i[1])&&e.push(new Dt(r,c,o,s,l)),(r=i[0])&&e.push(new Dt(r,a,o,c,l))}return this}function Av(t){var e=[],n=[],i;for(this._root&&e.push(new Dt(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var a,o=i.x0,s=i.y0,u=i.x1,c=i.y1,l=(o+u)/2,h=(s+c)/2;(a=r[0])&&e.push(new Dt(a,o,s,l,h)),(a=r[1])&&e.push(new Dt(a,l,s,u,h)),(a=r[2])&&e.push(new Dt(a,o,h,l,c)),(a=r[3])&&e.push(new Dt(a,l,h,u,c))}n.push(i)}for(;i=n.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Cv(t){return t[0]}function Tv(t){return arguments.length?(this._x=t,this):this._x}function Dv(t){return t[1]}function Lv(t){return arguments.length?(this._y=t,this):this._y}function co(t,e,n){var i=new Ou(e??Cv,n??Dv,NaN,NaN,NaN,NaN);return t==null?i:i.addAll(t)}function Ou(t,e,n,i,r,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function bl(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var It=co.prototype=Ou.prototype;It.copy=function(){var t=new Ou(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,i;if(!e)return t;if(!e.length)return t._root=bl(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?n.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=bl(i));return t};It.add=gv;It.addAll=mv;It.cover=yv;It.data=bv;It.extent=vv;It.find=xv;It.remove=_v;It.removeAll=wv;It.root=Mv;It.size=Sv;It.visit=kv;It.visitAfter=Av;It.x=Tv;It.y=Lv;function Ev(t){return t.x+t.vx}function Rv(t){return t.y+t.vy}function p0(t){var e,n,i=1,r=1;typeof t!="function"&&(t=ht(t==null?1:+t));function a(){for(var u,c=e.length,l,h,f,d,g,p,m=0;m<r;++m)for(l=co(e,Ev,Rv).visitAfter(o),u=0;u<c;++u)h=e[u],g=n[h.index],p=g*g,f=h.x+h.vx,d=h.y+h.vy,l.visit(y);function y(v,b,x,w,S){var M=v.data,E=v.r,T=g+E;if(M){if(M.index>h.index){var D=f-M.x-M.vx,C=d-M.y-M.vy,_=D*D+C*C;_<T*T&&(D===0&&(D=ke(),_+=D*D),C===0&&(C=ke(),_+=C*C),_=(T-(_=Math.sqrt(_)))/_*i,h.vx+=(D*=_)*(T=(E*=E)/(p+E)),h.vy+=(C*=_)*T,M.vx-=D*(T=1-T),M.vy-=C*T)}return}return b>f+T||w<f-T||x>d+T||S<d-T}}function o(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function s(){if(e){var u,c=e.length,l;for(n=new Array(c),u=0;u<c;++u)l=e[u],n[l.index]=+t(l,u,e)}}return a.initialize=function(u){e=u,s()},a.iterations=function(u){return arguments.length?(r=+u,a):r},a.strength=function(u){return arguments.length?(i=+u,a):i},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:ht(+u),s(),a):t},a}function $v(t){return t.index}function vl(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Iv(t){var e=$v,n=l,i,r=ht(30),a,o,s,u,c=1;t==null&&(t=[]);function l(p){return 1/Math.min(s[p.source.index],s[p.target.index])}function h(p){for(var m=0,y=t.length;m<c;++m)for(var v=0,b,x,w,S,M,E,T;v<y;++v)b=t[v],x=b.source,w=b.target,S=w.x+w.vx-x.x-x.vx||ke(),M=w.y+w.vy-x.y-x.vy||ke(),E=Math.sqrt(S*S+M*M),E=(E-a[v])/E*p*i[v],S*=E,M*=E,w.vx-=S*(T=u[v]),w.vy-=M*T,x.vx+=S*(T=1-T),x.vy+=M*T}function f(){if(o){var p,m=o.length,y=t.length,v=be(o,e),b;for(p=0,s=new Array(m);p<y;++p)b=t[p],b.index=p,typeof b.source!="object"&&(b.source=vl(v,b.source)),typeof b.target!="object"&&(b.target=vl(v,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(p=0,u=new Array(y);p<y;++p)b=t[p],u[p]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);i=new Array(y),d(),a=new Array(y),g()}}function d(){if(o)for(var p=0,m=t.length;p<m;++p)i[p]=+n(t[p],p,t)}function g(){if(o)for(var p=0,m=t.length;p<m;++p)a[p]=+r(t[p],p,t)}return h.initialize=function(p){o=p,f()},h.links=function(p){return arguments.length?(t=p,f(),h):t},h.id=function(p){return arguments.length?(e=p,h):e},h.iterations=function(p){return arguments.length?(c=+p,h):c},h.strength=function(p){return arguments.length?(n=typeof p=="function"?p:ht(+p),d(),h):n},h.distance=function(p){return arguments.length?(r=typeof p=="function"?p:ht(+p),g(),h):r},h}function Pv(t){return t.x}function Nv(t){return t.y}var zv=10,Yv=Math.PI*(3-Math.sqrt(5));function g0(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),a=0,o=.6,s=be(),u=ao(l),c=sn("tick","end");t==null&&(t=[]);function l(){h(),c.call("tick",e),n<i&&(u.stop(),c.call("end",e))}function h(g){var p,m=t.length,y;g===void 0&&(g=1);for(var v=0;v<g;++v)for(n+=(a-n)*r,s.each(function(b){b(n)}),p=0;p<m;++p)y=t[p],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return e}function f(){for(var g=0,p=t.length,m;g<p;++g){if(m=t[g],m.index=g,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var y=zv*Math.sqrt(g),v=g*Yv;m.x=y*Math.cos(v),m.y=y*Math.sin(v)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function d(g){return g.initialize&&g.initialize(t),g}return f(),e={tick:h,restart:function(){return u.restart(l),e},stop:function(){return u.stop(),e},nodes:function(g){return arguments.length?(t=g,f(),s.each(d),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(i=+g,e):i},alphaDecay:function(g){return arguments.length?(r=+g,e):+r},alphaTarget:function(g){return arguments.length?(a=+g,e):a},velocityDecay:function(g){return arguments.length?(o=1-g,e):1-o},force:function(g,p){return arguments.length>1?(p==null?s.remove(g):s.set(g,d(p)),e):s.get(g)},find:function(g,p,m){var y=0,v=t.length,b,x,w,S,M;for(m==null?m=1/0:m*=m,y=0;y<v;++y)S=t[y],b=g-S.x,x=p-S.y,w=b*b+x*x,w<m&&(M=S,m=w);return M},on:function(g,p){return arguments.length>1?(c.on(g,p),e):c.on(g)}}}function m0(){var t,e,n,i=ht(-30),r,a=1,o=1/0,s=.81;function u(f){var d,g=t.length,p=co(t,Pv,Nv).visitAfter(l);for(n=f,d=0;d<g;++d)e=t[d],p.visit(h)}function c(){if(t){var f,d=t.length,g;for(r=new Array(d),f=0;f<d;++f)g=t[f],r[g.index]=+i(g,f,t)}}function l(f){var d=0,g,p,m=0,y,v,b;if(f.length){for(y=v=b=0;b<4;++b)(g=f[b])&&(p=Math.abs(g.value))&&(d+=g.value,m+=p,y+=p*g.x,v+=p*g.y);f.x=y/m,f.y=v/m}else{g=f,g.x=g.data.x,g.y=g.data.y;do d+=r[g.data.index];while(g=g.next)}f.value=d}function h(f,d,g,p){if(!f.value)return!0;var m=f.x-e.x,y=f.y-e.y,v=p-d,b=m*m+y*y;if(v*v/s<b)return b<o&&(m===0&&(m=ke(),b+=m*m),y===0&&(y=ke(),b+=y*y),b<a&&(b=Math.sqrt(a*b)),e.vx+=m*f.value*n/b,e.vy+=y*f.value*n/b),!0;if(f.length||b>=o)return;(f.data!==e||f.next)&&(m===0&&(m=ke(),b+=m*m),y===0&&(y=ke(),b+=y*y),b<a&&(b=Math.sqrt(a*b)));do f.data!==e&&(v=r[f.data.index]*n/b,e.vx+=m*v,e.vy+=y*v);while(f=f.next)}return u.initialize=function(f){t=f,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:ht(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.distanceMax=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.theta=function(f){return arguments.length?(s=f*f,u):Math.sqrt(s)},u}function Bv(t,e,n){var i,r=ht(.1),a,o;typeof t!="function"&&(t=ht(+t)),e==null&&(e=0),n==null&&(n=0);function s(c){for(var l=0,h=i.length;l<h;++l){var f=i[l],d=f.x-e||1e-6,g=f.y-n||1e-6,p=Math.sqrt(d*d+g*g),m=(o[l]-p)*a[l]*c/p;f.vx+=d*m,f.vy+=g*m}}function u(){if(i){var c,l=i.length;for(a=new Array(l),o=new Array(l),c=0;c<l;++c)o[c]=+t(i[c],c,i),a[c]=isNaN(o[c])?0:+r(i[c],c,i)}}return s.initialize=function(c){i=c,u()},s.strength=function(c){return arguments.length?(r=typeof c=="function"?c:ht(+c),u(),s):r},s.radius=function(c){return arguments.length?(t=typeof c=="function"?c:ht(+c),u(),s):t},s.x=function(c){return arguments.length?(e=+c,s):e},s.y=function(c){return arguments.length?(n=+c,s):n},s}function Hr(t){var e=ht(.1),n,i,r;typeof t!="function"&&(t=ht(t==null?0:+t));function a(s){for(var u=0,c=n.length,l;u<c;++u)l=n[u],l.vx+=(r[u]-l.x)*i[u]*s}function o(){if(n){var s,u=n.length;for(i=new Array(u),r=new Array(u),s=0;s<u;++s)i[s]=isNaN(r[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:ht(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:ht(+s),o(),a):t},a}function Xr(t){var e=ht(.1),n,i,r;typeof t!="function"&&(t=ht(t==null?0:+t));function a(s){for(var u=0,c=n.length,l;u<c;++u)l=n[u],l.vy+=(r[u]-l.y)*i[u]*s}function o(){if(n){var s,u=n.length;for(i=new Array(u),r=new Array(u),s=0;s<u;++s)i[s]=isNaN(r[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:ht(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:ht(+s),o(),a):t},a}function Ov(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function aa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function In(t){return t=aa(Math.abs(t)),t?t[1]:NaN}function Uv(t,e){return function(n,i){for(var r=n.length,a=[],o=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),a.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Hv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Xv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zi(t){if(!(e=Xv.exec(t)))throw new Error("invalid format: "+t);var e;return new lo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zi.prototype=lo.prototype;function lo(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fv(t){t:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var y0;function Gv(t,e){var n=aa(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(y0=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+aa(t,Math.max(0,e+a-1))[0]}function xl(t,e){var n=aa(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const _l={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Ov,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return xl(t*100,e)},r:xl,s:Gv,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function wl(t){return t}var Ml=Array.prototype.map,Sl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function b0(t){var e=t.grouping===void 0||t.thousands===void 0?wl:Uv(Ml.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?wl:Hv(Ml.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"-":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h){h=zi(h);var f=h.fill,d=h.align,g=h.sign,p=h.symbol,m=h.zero,y=h.width,v=h.comma,b=h.precision,x=h.trim,w=h.type;w==="n"?(v=!0,w="g"):_l[w]||(b===void 0&&(b=12),x=!0,w="g"),(m||f==="0"&&d==="=")&&(m=!0,f="0",d="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",M=p==="$"?i:/[%p]/.test(w)?o:"",E=_l[w],T=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function D(C){var _=S,A=M,$,k,R;if(w==="c")A=E(C)+A,C="";else{C=+C;var Y=C<0||1/C<0;if(C=isNaN(C)?u:E(Math.abs(C),b),x&&(C=Fv(C)),Y&&+C==0&&g!=="+"&&(Y=!1),_=(Y?g==="("?g:s:g==="-"||g==="("?"":g)+_,A=(w==="s"?Sl[8+y0/3]:"")+A+(Y&&g==="("?")":""),T){for($=-1,k=C.length;++$<k;)if(R=C.charCodeAt($),48>R||R>57){A=(R===46?r+C.slice($+1):C.slice($))+A,C=C.slice(0,$);break}}}v&&!m&&(C=e(C,1/0));var N=_.length+C.length+A.length,B=N<y?new Array(y-N+1).join(f):"";switch(v&&m&&(C=e(B+C,B.length?y-A.length:1/0),B=""),d){case"<":C=_+C+A+B;break;case"=":C=_+B+C+A;break;case"^":C=B.slice(0,N=B.length>>1)+_+C+A+B.slice(N);break;default:C=B+_+C+A;break}return a(C)}return D.toString=function(){return h+""},D}function l(h,f){var d=c((h=zi(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(In(f)/3)))*3,p=Math.pow(10,-g),m=Sl[8+g/3];return function(y){return d(p*y)+m}}return{format:c,formatPrefix:l}}var br,tr,Uu;v0({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function v0(t){return br=b0(t),tr=br.format,Uu=br.formatPrefix,br}function x0(t){return Math.max(0,-In(Math.abs(t)))}function _0(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(In(e)/3)))*3-In(Math.abs(t)))}function w0(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,In(e)-In(t))+1}function Ne(){return new oa}function oa(){this.reset()}oa.prototype={constructor:oa,reset:function(){this.s=this.t=0},add:function(t){kl(vr,t,this.t),kl(this,vr.s,this.s),this.s?this.t+=vr.t:this.s=vr.t},valueOf:function(){return this.s}};var vr=new oa;function kl(t,e,n){var i=t.s=e+n,r=i-e,a=i-r;t.t=e-a+(n-r)}var U=1e-6,sa=1e-12,q=Math.PI,ct=q/2,ua=q/4,Et=q*2,it=180/q,H=q/180,K=Math.abs,Fn=Math.atan,Rt=Math.atan2,O=Math.cos,xr=Math.ceil,M0=Math.exp,ca=Math.log,Ko=Math.pow,z=Math.sin,Wt=Math.sign||function(t){return t>0?1:t<0?-1:0},ft=Math.sqrt,Hu=Math.tan;function S0(t){return t>1?0:t<-1?q:Math.acos(t)}function $t(t){return t>1?ct:t<-1?-ct:Math.asin(t)}function Al(t){return(t=z(t/2))*t}function st(){}function la(t,e){t&&Tl.hasOwnProperty(t.type)&&Tl[t.type](t,e)}var Cl={Feature:function(t,e){la(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)la(n[i].geometry,e)}},Tl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Us(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Us(n[i],e,0)},Polygon:function(t,e){Dl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Dl(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)la(n[i],e)}};function Us(t,e,n){var i=-1,r=t.length-n,a;for(e.lineStart();++i<r;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function Dl(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Us(t[n],e,1);e.polygonEnd()}function Zt(t,e){t&&Cl.hasOwnProperty(t.type)?Cl[t.type](t,e):la(t,e)}var fa=Ne(),ha=Ne(),k0,A0,Hs,Xs,Fs,fe={point:st,lineStart:st,lineEnd:st,polygonStart:function(){fa.reset(),fe.lineStart=Wv,fe.lineEnd=qv},polygonEnd:function(){var t=+fa;ha.add(t<0?Et+t:t),this.lineStart=this.lineEnd=this.point=st},sphere:function(){ha.add(Et)}};function Wv(){fe.point=Vv}function qv(){C0(k0,A0)}function Vv(t,e){fe.point=C0,k0=t,A0=e,t*=H,e*=H,Hs=t,Xs=O(e=e/2+ua),Fs=z(e)}function C0(t,e){t*=H,e*=H,e=e/2+ua;var n=t-Hs,i=n>=0?1:-1,r=i*n,a=O(e),o=z(e),s=Fs*o,u=Xs*a+s*O(r),c=s*i*z(r);fa.add(Rt(c,u)),Hs=t,Xs=a,Fs=o}function Zv(t){return ha.reset(),Zt(t,fe),ha*2}function da(t){return[Rt(t[1],t[0]),$t(t[2])]}function Ke(t){var e=t[0],n=t[1],i=O(n);return[i*O(e),i*z(e),z(n)]}function _r(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Jo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function wr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function pa(t){var e=ft(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ot,Nt,ut,Yt,Ue,T0,D0,Cn,_i=Ne(),Me,ve,me={point:Gs,lineStart:Ll,lineEnd:El,polygonStart:function(){me.point=E0,me.lineStart=Qv,me.lineEnd=Kv,_i.reset(),fe.polygonStart()},polygonEnd:function(){fe.polygonEnd(),me.point=Gs,me.lineStart=Ll,me.lineEnd=El,fa<0?(ot=-(ut=180),Nt=-(Yt=90)):_i>U?Yt=90:_i<-U&&(Nt=-90),ve[0]=ot,ve[1]=ut},sphere:function(){ot=-(ut=180),Nt=-(Yt=90)}};function Gs(t,e){Me.push(ve=[ot=t,ut=t]),e<Nt&&(Nt=e),e>Yt&&(Yt=e)}function L0(t,e){var n=Ke([t*H,e*H]);if(Cn){var i=Pn(Cn,n),r=[i[1],-i[0],0],a=Pn(r,i);pa(a),a=da(a);var o=t-Ue,s=o>0?1:-1,u=a[0]*it*s,c,l=K(o)>180;l^(s*Ue<u&&u<s*t)?(c=a[1]*it,c>Yt&&(Yt=c)):(u=(u+360)%360-180,l^(s*Ue<u&&u<s*t)?(c=-a[1]*it,c<Nt&&(Nt=c)):(e<Nt&&(Nt=e),e>Yt&&(Yt=e))),l?t<Ue?zt(ot,t)>zt(ot,ut)&&(ut=t):zt(t,ut)>zt(ot,ut)&&(ot=t):ut>=ot?(t<ot&&(ot=t),t>ut&&(ut=t)):t>Ue?zt(ot,t)>zt(ot,ut)&&(ut=t):zt(t,ut)>zt(ot,ut)&&(ot=t)}else Me.push(ve=[ot=t,ut=t]);e<Nt&&(Nt=e),e>Yt&&(Yt=e),Cn=n,Ue=t}function Ll(){me.point=L0}function El(){ve[0]=ot,ve[1]=ut,me.point=Gs,Cn=null}function E0(t,e){if(Cn){var n=t-Ue;_i.add(K(n)>180?n+(n>0?360:-360):n)}else T0=t,D0=e;fe.point(t,e),L0(t,e)}function Qv(){fe.lineStart()}function Kv(){E0(T0,D0),fe.lineEnd(),K(_i)>U&&(ot=-(ut=180)),ve[0]=ot,ve[1]=ut,Cn=null}function zt(t,e){return(e-=t)<0?e+360:e}function Jv(t,e){return t[0]-e[0]}function Rl(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function jv(t){var e,n,i,r,a,o,s;if(Yt=ut=-(ot=Nt=1/0),Me=[],Zt(t,me),n=Me.length){for(Me.sort(Jv),e=1,i=Me[0],a=[i];e<n;++e)r=Me[e],Rl(i,r[0])||Rl(i,r[1])?(zt(i[0],r[1])>zt(i[0],i[1])&&(i[1]=r[1]),zt(r[0],i[1])>zt(i[0],i[1])&&(i[0]=r[0])):a.push(i=r);for(o=-1/0,n=a.length-1,e=0,i=a[n];e<=n;i=r,++e)r=a[e],(s=zt(i[1],r[0]))>o&&(o=s,ot=r[0],ut=i[1])}return Me=ve=null,ot===1/0||Nt===1/0?[[NaN,NaN],[NaN,NaN]]:[[ot,Nt],[ut,Yt]]}var si,ga,ma,ya,ba,va,xa,_a,Ws,qs,Vs,R0,$0,At,Ct,Tt,Kt={sphere:st,point:Xu,lineStart:$l,lineEnd:Il,polygonStart:function(){Kt.lineStart=nx,Kt.lineEnd=ix},polygonEnd:function(){Kt.lineStart=$l,Kt.lineEnd=Il}};function Xu(t,e){t*=H,e*=H;var n=O(e);er(n*O(t),n*z(t),z(e))}function er(t,e,n){++si,ma+=(t-ma)/si,ya+=(e-ya)/si,ba+=(n-ba)/si}function $l(){Kt.point=tx}function tx(t,e){t*=H,e*=H;var n=O(e);At=n*O(t),Ct=n*z(t),Tt=z(e),Kt.point=ex,er(At,Ct,Tt)}function ex(t,e){t*=H,e*=H;var n=O(e),i=n*O(t),r=n*z(t),a=z(e),o=Rt(ft((o=Ct*a-Tt*r)*o+(o=Tt*i-At*a)*o+(o=At*r-Ct*i)*o),At*i+Ct*r+Tt*a);ga+=o,va+=o*(At+(At=i)),xa+=o*(Ct+(Ct=r)),_a+=o*(Tt+(Tt=a)),er(At,Ct,Tt)}function Il(){Kt.point=Xu}function nx(){Kt.point=rx}function ix(){I0(R0,$0),Kt.point=Xu}function rx(t,e){R0=t,$0=e,t*=H,e*=H,Kt.point=I0;var n=O(e);At=n*O(t),Ct=n*z(t),Tt=z(e),er(At,Ct,Tt)}function I0(t,e){t*=H,e*=H;var n=O(e),i=n*O(t),r=n*z(t),a=z(e),o=Ct*a-Tt*r,s=Tt*i-At*a,u=At*r-Ct*i,c=ft(o*o+s*s+u*u),l=$t(c),h=c&&-l/c;Ws+=h*o,qs+=h*s,Vs+=h*u,ga+=l,va+=l*(At+(At=i)),xa+=l*(Ct+(Ct=r)),_a+=l*(Tt+(Tt=a)),er(At,Ct,Tt)}function ax(t){si=ga=ma=ya=ba=va=xa=_a=Ws=qs=Vs=0,Zt(t,Kt);var e=Ws,n=qs,i=Vs,r=e*e+n*n+i*i;return r<sa&&(e=va,n=xa,i=_a,ga<U&&(e=ma,n=ya,i=ba),r=e*e+n*n+i*i,r<sa)?[NaN,NaN]:[Rt(n,e)*it,$t(i/ft(r))*it]}function yn(t){return function(){return t}}function Zs(t,e){function n(i,r){return i=t(i,r),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,r){return i=e.invert(i,r),i&&t.invert(i[0],i[1])}),n}function Qs(t,e){return[K(t)>q?t+Math.round(-t/Et)*Et:t,e]}Qs.invert=Qs;function Fu(t,e,n){return(t%=Et)?e||n?Zs(Nl(t),zl(e,n)):Nl(t):e||n?zl(e,n):Qs}function Pl(t){return function(e,n){return e+=t,[e>q?e-Et:e<-q?e+Et:e,n]}}function Nl(t){var e=Pl(t);return e.invert=Pl(-t),e}function zl(t,e){var n=O(t),i=z(t),r=O(e),a=z(e);function o(s,u){var c=O(u),l=O(s)*c,h=z(s)*c,f=z(u),d=f*n+l*i;return[Rt(h*r-d*a,l*n-f*i),$t(d*r+h*a)]}return o.invert=function(s,u){var c=O(u),l=O(s)*c,h=z(s)*c,f=z(u),d=f*r-h*a;return[Rt(h*r+f*a,l*n+d*i),$t(d*n-l*i)]},o}function P0(t){t=Fu(t[0]*H,t[1]*H,t.length>2?t[2]*H:0);function e(n){return n=t(n[0]*H,n[1]*H),n[0]*=it,n[1]*=it,n}return e.invert=function(n){return n=t.invert(n[0]*H,n[1]*H),n[0]*=it,n[1]*=it,n},e}function N0(t,e,n,i,r,a){if(n){var o=O(e),s=z(e),u=i*n;r==null?(r=e+i*Et,a=e-u/2):(r=Yl(o,r),a=Yl(o,a),(i>0?r<a:r>a)&&(r+=i*Et));for(var c,l=r;i>0?l>a:l<a;l-=u)c=da([o,-s*O(l),-s*z(l)]),t.point(c[0],c[1])}}function Yl(t,e){e=Ke(e),e[0]-=t,pa(e);var n=S0(-e[1]);return((-e[2]<0?-n:n)+Et-U)%Et}function ox(){var t=yn([0,0]),e=yn(90),n=yn(6),i,r,a={point:o};function o(u,c){i.push(u=r(u,c)),u[0]*=it,u[1]*=it}function s(){var u=t.apply(this,arguments),c=e.apply(this,arguments)*H,l=n.apply(this,arguments)*H;return i=[],r=Fu(-u[0]*H,-u[1]*H,0).invert,N0(a,c,l,1),u={type:"Polygon",coordinates:[i]},i=r=null,u}return s.center=function(u){return arguments.length?(t=typeof u=="function"?u:yn([+u[0],+u[1]]),s):t},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:yn(+u),s):e},s.precision=function(u){return arguments.length?(n=typeof u=="function"?u:yn(+u),s):n},s}function z0(){var t=[],e;return{point:function(n,i,r){e.push([n,i,r])},lineStart:function(){t.push(e=[])},lineEnd:st,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Fr(t,e){return K(t[0]-e[0])<U&&K(t[1]-e[1])<U}function Mr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Y0(t,e,n,i,r){var a=[],o=[],s,u;if(t.forEach(function(g){if(!((p=g.length-1)<=0)){var p,m=g[0],y=g[p],v;if(Fr(m,y)){if(!m[2]&&!y[2]){for(r.lineStart(),s=0;s<p;++s)r.point((m=g[s])[0],m[1]);r.lineEnd();return}y[0]+=2*U}a.push(v=new Mr(m,g,null,!0)),o.push(v.o=new Mr(m,null,v,!1)),a.push(v=new Mr(y,g,null,!1)),o.push(v.o=new Mr(y,null,v,!0))}}),!!a.length){for(o.sort(e),Bl(a),Bl(o),s=0,u=o.length;s<u;++s)o[s].e=n=!n;for(var c=a[0],l,h;;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,u=l.length;s<u;++s)r.point((h=l[s])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)r.point((h=l[s])[0],h[1]);else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);r.lineEnd()}}}function Bl(t){if(e=t.length){for(var e,n=0,i=t[0],r;++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}var jo=Ne();function ts(t){return K(t[0])<=q?t[0]:Wt(t[0])*((K(t[0])+q)%Et-q)}function B0(t,e){var n=ts(e),i=e[1],r=z(i),a=[z(n),-O(n),0],o=0,s=0;jo.reset(),r===1?i=ct+U:r===-1&&(i=-ct-U);for(var u=0,c=t.length;u<c;++u)if(h=(l=t[u]).length)for(var l,h,f=l[h-1],d=ts(f),g=f[1]/2+ua,p=z(g),m=O(g),y=0;y<h;++y,d=b,p=w,m=S,f=v){var v=l[y],b=ts(v),x=v[1]/2+ua,w=z(x),S=O(x),M=b-d,E=M>=0?1:-1,T=E*M,D=T>q,C=p*w;if(jo.add(Rt(C*E*z(T),m*S+C*O(T))),o+=D?M+E*Et:M,D^d>=n^b>=n){var _=Pn(Ke(f),Ke(v));pa(_);var A=Pn(a,_);pa(A);var $=(D^M>=0?-1:1)*$t(A[2]);(i>$||i===$&&(_[0]||_[1]))&&(s+=D^M>=0?1:-1)}}return(o<-U||o<U&&jo<-U)^s&1}function O0(t,e,n,i){return function(r){var a=e(r),o=z0(),s=e(o),u=!1,c,l,h,f={point:d,lineStart:p,lineEnd:m,polygonStart:function(){f.point=y,f.lineStart=v,f.lineEnd=b,l=[],c=[]},polygonEnd:function(){f.point=d,f.lineStart=p,f.lineEnd=m,l=xu(l);var x=B0(c,i);l.length?(u||(r.polygonStart(),u=!0),Y0(l,ux,x,n,r)):x&&(u||(r.polygonStart(),u=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),l=c=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(x,w){t(x,w)&&r.point(x,w)}function g(x,w){a.point(x,w)}function p(){f.point=g,a.lineStart()}function m(){f.point=d,a.lineEnd()}function y(x,w){h.push([x,w]),s.point(x,w)}function v(){s.lineStart(),h=[]}function b(){y(h[0][0],h[0][1]),s.lineEnd();var x=s.clean(),w=o.result(),S,M=w.length,E,T,D;if(h.pop(),c.push(h),h=null,!!M){if(x&1){if(T=w[0],(E=T.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),S=0;S<E;++S)r.point((D=T[S])[0],D[1]);r.lineEnd()}return}M>1&&x&2&&w.push(w.pop().concat(w.shift())),l.push(w.filter(sx))}}return f}}function sx(t){return t.length>1}function ux(t,e){return((t=t.x)[0]<0?t[1]-ct-U:ct-t[1])-((e=e.x)[0]<0?e[1]-ct-U:ct-e[1])}const Ks=O0(function(){return!0},cx,fx,[-q,-ct]);function cx(t){var e=NaN,n=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(a,o){var s=a>0?q:-q,u=K(a-e);K(u-q)<U?(t.point(e,n=(n+o)/2>0?ct:-ct),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),r=0):i!==s&&u>=q&&(K(e-i)<U&&(e-=i*U),K(a-s)<U&&(a-=s*U),n=lx(e,n,a,o),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(s,n),r=0),t.point(e=a,n=o),i=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-r}}}function lx(t,e,n,i){var r,a,o=z(t-n);return K(o)>U?Fn((z(e)*(a=O(i))*z(n)-z(i)*(r=O(e))*z(t))/(r*a*o)):(e+i)/2}function fx(t,e,n,i){var r;if(t==null)r=n*ct,i.point(-q,r),i.point(0,r),i.point(q,r),i.point(q,0),i.point(q,-r),i.point(0,-r),i.point(-q,-r),i.point(-q,0),i.point(-q,r);else if(K(t[0]-e[0])>U){var a=t[0]<e[0]?q:-q;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function U0(t){var e=O(t),n=6*H,i=e>0,r=K(e)>U;function a(l,h,f,d){N0(d,t,n,f,l,h)}function o(l,h){return O(l)*O(h)>e}function s(l){var h,f,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(m,y){var v=[m,y],b,x=o(m,y),w=i?x?0:c(m,y):x?c(m+(m<0?q:-q),y):0;if(!h&&(g=d=x)&&l.lineStart(),x!==d&&(b=u(h,v),(!b||Fr(h,b)||Fr(v,b))&&(v[2]=1)),x!==d)p=0,x?(l.lineStart(),b=u(v,h),l.point(b[0],b[1])):(b=u(h,v),l.point(b[0],b[1],2),l.lineEnd()),h=b;else if(r&&h&&i^x){var S;!(w&f)&&(S=u(v,h,!0))&&(p=0,i?(l.lineStart(),l.point(S[0][0],S[0][1]),l.point(S[1][0],S[1][1]),l.lineEnd()):(l.point(S[1][0],S[1][1]),l.lineEnd(),l.lineStart(),l.point(S[0][0],S[0][1],3)))}x&&(!h||!Fr(h,v))&&l.point(v[0],v[1]),h=v,d=x,f=w},lineEnd:function(){d&&l.lineEnd(),h=null},clean:function(){return p|(g&&d)<<1}}}function u(l,h,f){var d=Ke(l),g=Ke(h),p=[1,0,0],m=Pn(d,g),y=_r(m,m),v=m[0],b=y-v*v;if(!b)return!f&&l;var x=e*y/b,w=-e*v/b,S=Pn(p,m),M=wr(p,x),E=wr(m,w);Jo(M,E);var T=S,D=_r(M,T),C=_r(T,T),_=D*D-C*(_r(M,M)-1);if(!(_<0)){var A=ft(_),$=wr(T,(-D-A)/C);if(Jo($,M),$=da($),!f)return $;var k=l[0],R=h[0],Y=l[1],N=h[1],B;R<k&&(B=k,k=R,R=B);var X=R-k,F=K(X-q)<U,at=F||X<U;if(!F&&N<Y&&(B=Y,Y=N,N=B),at?F?Y+N>0^$[1]<(K($[0]-k)<U?Y:N):Y<=$[1]&&$[1]<=N:X>q^(k<=$[0]&&$[0]<=R)){var et=wr(T,(-D+A)/C);return Jo(et,M),[$,da(et)]}}}function c(l,h){var f=i?t:q-t,d=0;return l<-f?d|=1:l>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return O0(o,s,a,i?[0,-t]:[-q,t-q])}function hx(t,e,n,i,r,a){var o=t[0],s=t[1],u=e[0],c=e[1],l=0,h=1,f=u-o,d=c-s,g;if(g=n-o,!(!f&&g>0)){if(g/=f,f<0){if(g<l)return;g<h&&(h=g)}else if(f>0){if(g>h)return;g>l&&(l=g)}if(g=r-o,!(!f&&g<0)){if(g/=f,f<0){if(g>h)return;g>l&&(l=g)}else if(f>0){if(g<l)return;g<h&&(h=g)}if(g=i-s,!(!d&&g>0)){if(g/=d,d<0){if(g<l)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>l&&(l=g)}if(g=a-s,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>l&&(l=g)}else if(d>0){if(g<l)return;g<h&&(h=g)}return l>0&&(t[0]=o+l*f,t[1]=s+l*d),h<1&&(e[0]=o+h*f,e[1]=s+h*d),!0}}}}}var ui=1e9,Sr=-ui;function fo(t,e,n,i){function r(c,l){return t<=c&&c<=n&&e<=l&&l<=i}function a(c,l,h,f){var d=0,g=0;if(c==null||(d=o(c,h))!==(g=o(l,h))||u(c,l)<0^h>0)do f.point(d===0||d===3?t:n,d>1?i:e);while((d=(d+h+4)%4)!==g);else f.point(l[0],l[1])}function o(c,l){return K(c[0]-t)<U?l>0?0:3:K(c[0]-n)<U?l>0?2:1:K(c[1]-e)<U?l>0?1:0:l>0?3:2}function s(c,l){return u(c.x,l.x)}function u(c,l){var h=o(c,1),f=o(l,1);return h!==f?h-f:h===0?l[1]-c[1]:h===1?c[0]-l[0]:h===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,h=z0(),f,d,g,p,m,y,v,b,x,w,S,M={point:E,lineStart:_,lineEnd:A,polygonStart:D,polygonEnd:C};function E(k,R){r(k,R)&&l.point(k,R)}function T(){for(var k=0,R=0,Y=d.length;R<Y;++R)for(var N=d[R],B=1,X=N.length,F=N[0],at,et,J=F[0],lt=F[1];B<X;++B)at=J,et=lt,F=N[B],J=F[0],lt=F[1],et<=i?lt>i&&(J-at)*(i-et)>(lt-et)*(t-at)&&++k:lt<=i&&(J-at)*(i-et)<(lt-et)*(t-at)&&--k;return k}function D(){l=h,f=[],d=[],S=!0}function C(){var k=T(),R=S&&k,Y=(f=xu(f)).length;(R||Y)&&(c.polygonStart(),R&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),Y&&Y0(f,s,k,a,c),c.polygonEnd()),l=c,f=d=g=null}function _(){M.point=$,d&&d.push(g=[]),w=!0,x=!1,v=b=NaN}function A(){f&&($(p,m),y&&x&&h.rejoin(),f.push(h.result())),M.point=E,x&&l.lineEnd()}function $(k,R){var Y=r(k,R);if(d&&g.push([k,R]),w)p=k,m=R,y=Y,w=!1,Y&&(l.lineStart(),l.point(k,R));else if(Y&&x)l.point(k,R);else{var N=[v=Math.max(Sr,Math.min(ui,v)),b=Math.max(Sr,Math.min(ui,b))],B=[k=Math.max(Sr,Math.min(ui,k)),R=Math.max(Sr,Math.min(ui,R))];hx(N,B,t,e,n,i)?(x||(l.lineStart(),l.point(N[0],N[1])),l.point(B[0],B[1]),Y||l.lineEnd(),S=!1):Y&&(l.lineStart(),l.point(k,R),S=!1)}v=k,b=R,x=Y}return M}}function dx(){var t=0,e=0,n=960,i=500,r,a,o;return o={stream:function(s){return r&&a===s?r:r=fo(t,e,n,i)(a=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1],r=a=null,o):[[t,e],[n,i]]}}}var Js=Ne(),js,Gr,Wr,Nn={sphere:st,point:st,lineStart:px,lineEnd:st,polygonStart:st,polygonEnd:st};function px(){Nn.point=mx,Nn.lineEnd=gx}function gx(){Nn.point=Nn.lineEnd=st}function mx(t,e){t*=H,e*=H,js=t,Gr=z(e),Wr=O(e),Nn.point=yx}function yx(t,e){t*=H,e*=H;var n=z(e),i=O(e),r=K(t-js),a=O(r),o=z(r),s=i*o,u=Wr*n-Gr*i*a,c=Gr*n+Wr*i*a;Js.add(Rt(ft(s*s+u*u),c)),js=t,Gr=n,Wr=i}function H0(t){return Js.reset(),Zt(t,Nn),+Js}var tu=[null,null],bx={type:"LineString",coordinates:tu};function wa(t,e){return tu[0]=t,tu[1]=e,H0(bx)}var Ol={Feature:function(t,e){return Ma(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Ma(n[i].geometry,e))return!0;return!1}},Ul={Sphere:function(){return!0},Point:function(t,e){return Hl(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Hl(n[i],e))return!0;return!1},LineString:function(t,e){return Xl(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Xl(n[i],e))return!0;return!1},Polygon:function(t,e){return Fl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Fl(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Ma(n[i],e))return!0;return!1}};function Ma(t,e){return t&&Ul.hasOwnProperty(t.type)?Ul[t.type](t,e):!1}function Hl(t,e){return wa(t,e)===0}function Xl(t,e){for(var n,i,r,a=0,o=t.length;a<o;a++){if(i=wa(t[a],e),i===0||a>0&&(r=wa(t[a],t[a-1]),r>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<sa*r))return!0;n=i}return!1}function Fl(t,e){return!!B0(t.map(vx),X0(e))}function vx(t){return t=t.map(X0),t.pop(),t}function X0(t){return[t[0]*H,t[1]*H]}function xx(t,e){return(t&&Ol.hasOwnProperty(t.type)?Ol[t.type]:Ma)(t,e)}function Gl(t,e,n){var i=Ot(t,e-U,n).concat(e);return function(r){return i.map(function(a){return[r,a]})}}function Wl(t,e,n){var i=Ot(t,e-U,n).concat(e);return function(r){return i.map(function(a){return[a,r]})}}function F0(){var t,e,n,i,r,a,o,s,u=10,c=u,l=90,h=360,f,d,g,p,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Ot(xr(i/l)*l,n,l).map(g).concat(Ot(xr(s/h)*h,o,h).map(p)).concat(Ot(xr(e/u)*u,t,u).filter(function(b){return K(b%l)>U}).map(f)).concat(Ot(xr(a/c)*c,r,c).filter(function(b){return K(b%h)>U}).map(d))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[g(i).concat(p(o).slice(1),g(n).reverse().slice(1),p(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(i=+b[0][0],n=+b[1][0],s=+b[0][1],o=+b[1][1],i>n&&(b=i,i=n,n=b),s>o&&(b=s,s=o,o=b),y.precision(m)):[[i,s],[n,o]]},y.extentMinor=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],a=+b[0][1],r=+b[1][1],e>t&&(b=e,e=t,t=b),a>r&&(b=a,a=r,r=b),y.precision(m)):[[e,a],[t,r]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(l=+b[0],h=+b[1],y):[l,h]},y.stepMinor=function(b){return arguments.length?(u=+b[0],c=+b[1],y):[u,c]},y.precision=function(b){return arguments.length?(m=+b,f=Gl(a,r,90),d=Wl(e,t,m),g=Gl(s,o,90),p=Wl(i,n,m),y):m},y.extentMajor([[-180,-90+U],[180,90-U]]).extentMinor([[-180,-80-U],[180,80+U]])}function _x(){return F0()()}function wx(t,e){var n=t[0]*H,i=t[1]*H,r=e[0]*H,a=e[1]*H,o=O(i),s=z(i),u=O(a),c=z(a),l=o*O(n),h=o*z(n),f=u*O(r),d=u*z(r),g=2*$t(ft(Al(a-i)+o*u*Al(r-n))),p=z(g),m=g?function(y){var v=z(y*=g)/p,b=z(g-y)/p,x=b*l+v*f,w=b*h+v*d,S=b*s+v*c;return[Rt(w,x)*it,Rt(S,ft(x*x+w*w))*it]}:function(){return[n*it,i*it]};return m.distance=g,m}function Yi(t){return t}var es=Ne(),eu=Ne(),G0,W0,nu,iu,Se={point:st,lineStart:st,lineEnd:st,polygonStart:function(){Se.lineStart=Mx,Se.lineEnd=kx},polygonEnd:function(){Se.lineStart=Se.lineEnd=Se.point=st,es.add(K(eu)),eu.reset()},result:function(){var t=es/2;return es.reset(),t}};function Mx(){Se.point=Sx}function Sx(t,e){Se.point=q0,G0=nu=t,W0=iu=e}function q0(t,e){eu.add(iu*t-nu*e),nu=t,iu=e}function kx(){q0(G0,W0)}const ql=Se;var zn=1/0,Sa=zn,Bi=-zn,ka=Bi,Ax={point:Cx,lineStart:st,lineEnd:st,polygonStart:st,polygonEnd:st,result:function(){var t=[[zn,Sa],[Bi,ka]];return Bi=ka=-(Sa=zn=1/0),t}};function Cx(t,e){t<zn&&(zn=t),t>Bi&&(Bi=t),e<Sa&&(Sa=e),e>ka&&(ka=e)}const Aa=Ax;var ru=0,au=0,ci=0,Ca=0,Ta=0,_n=0,ou=0,su=0,li=0,V0,Z0,ae,oe,Qt={point:Je,lineStart:Vl,lineEnd:Zl,polygonStart:function(){Qt.lineStart=Lx,Qt.lineEnd=Ex},polygonEnd:function(){Qt.point=Je,Qt.lineStart=Vl,Qt.lineEnd=Zl},result:function(){var t=li?[ou/li,su/li]:_n?[Ca/_n,Ta/_n]:ci?[ru/ci,au/ci]:[NaN,NaN];return ru=au=ci=Ca=Ta=_n=ou=su=li=0,t}};function Je(t,e){ru+=t,au+=e,++ci}function Vl(){Qt.point=Tx}function Tx(t,e){Qt.point=Dx,Je(ae=t,oe=e)}function Dx(t,e){var n=t-ae,i=e-oe,r=ft(n*n+i*i);Ca+=r*(ae+t)/2,Ta+=r*(oe+e)/2,_n+=r,Je(ae=t,oe=e)}function Zl(){Qt.point=Je}function Lx(){Qt.point=Rx}function Ex(){Q0(V0,Z0)}function Rx(t,e){Qt.point=Q0,Je(V0=ae=t,Z0=oe=e)}function Q0(t,e){var n=t-ae,i=e-oe,r=ft(n*n+i*i);Ca+=r*(ae+t)/2,Ta+=r*(oe+e)/2,_n+=r,r=oe*t-ae*e,ou+=r*(ae+t),su+=r*(oe+e),li+=r*3,Je(ae=t,oe=e)}const Ql=Qt;function K0(t){this._context=t}K0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Et);break}}},result:st};var uu=Ne(),ns,J0,j0,fi,hi,Da={point:st,lineStart:function(){Da.point=$x},lineEnd:function(){ns&&td(J0,j0),Da.point=st},polygonStart:function(){ns=!0},polygonEnd:function(){ns=null},result:function(){var t=+uu;return uu.reset(),t}};function $x(t,e){Da.point=td,J0=fi=t,j0=hi=e}function td(t,e){fi-=t,hi-=e,uu.add(ft(fi*fi+hi*hi)),fi=t,hi=e}const Kl=Da;function ed(){this._string=[]}ed.prototype={_radius:4.5,_circle:Jl(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=Jl(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Jl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ix(t,e){var n=4.5,i,r;function a(o){return o&&(typeof n=="function"&&r.pointRadius(+n.apply(this,arguments)),Zt(o,i(r))),r.result()}return a.area=function(o){return Zt(o,i(ql)),ql.result()},a.measure=function(o){return Zt(o,i(Kl)),Kl.result()},a.bounds=function(o){return Zt(o,i(Aa)),Aa.result()},a.centroid=function(o){return Zt(o,i(Ql)),Ql.result()},a.projection=function(o){return arguments.length?(i=o==null?(t=null,Yi):(t=o).stream,a):t},a.context=function(o){return arguments.length?(r=o==null?(e=null,new ed):new K0(e=o),typeof n!="function"&&r.pointRadius(n),a):e},a.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(r.pointRadius(+o),+o),a):n},a.projection(t).context(e)}function Px(t){return{stream:nr(t)}}function nr(t){return function(e){var n=new cu;for(var i in t)n[i]=t[i];return n.stream=e,n}}function cu(){}cu.prototype={constructor:cu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gu(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Zt(n,t.stream(Aa)),e(Aa.result()),i!=null&&t.clipExtent(i),t}function ho(t,e,n){return Gu(t,function(i){var r=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(r/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),s=+e[0][0]+(r-o*(i[1][0]+i[0][0]))/2,u=+e[0][1]+(a-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([s,u])},n)}function Wu(t,e,n){return ho(t,[[0,0],e],n)}function qu(t,e,n){return Gu(t,function(i){var r=+e,a=r/(i[1][0]-i[0][0]),o=(r-a*(i[1][0]+i[0][0]))/2,s=-a*i[0][1];t.scale(150*a).translate([o,s])},n)}function Vu(t,e,n){return Gu(t,function(i){var r=+e,a=r/(i[1][1]-i[0][1]),o=-a*i[0][0],s=(r-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var jl=16,Nx=O(30*H);function tf(t,e){return+e?Yx(t,e):zx(t)}function zx(t){return nr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Yx(t,e){function n(i,r,a,o,s,u,c,l,h,f,d,g,p,m){var y=c-i,v=l-r,b=y*y+v*v;if(b>4*e&&p--){var x=o+f,w=s+d,S=u+g,M=ft(x*x+w*w+S*S),E=$t(S/=M),T=K(K(S)-1)<U||K(a-h)<U?(a+h)/2:Rt(w,x),D=t(T,E),C=D[0],_=D[1],A=C-i,$=_-r,k=v*A-y*$;(k*k/b>e||K((y*A+v*$)/b-.5)>.3||o*f+s*d+u*g<Nx)&&(n(i,r,a,o,s,u,C,_,T,x/=M,w/=M,S,p,m),m.point(C,_),n(C,_,T,x,w,S,c,l,h,f,d,g,p,m))}}return function(i){var r,a,o,s,u,c,l,h,f,d,g,p,m={point:y,lineStart:v,lineEnd:x,polygonStart:function(){i.polygonStart(),m.lineStart=w},polygonEnd:function(){i.polygonEnd(),m.lineStart=v}};function y(E,T){E=t(E,T),i.point(E[0],E[1])}function v(){h=NaN,m.point=b,i.lineStart()}function b(E,T){var D=Ke([E,T]),C=t(E,T);n(h,f,l,d,g,p,h=C[0],f=C[1],l=E,d=D[0],g=D[1],p=D[2],jl,i),i.point(h,f)}function x(){m.point=y,i.lineEnd()}function w(){v(),m.point=S,m.lineEnd=M}function S(E,T){b(r=E,T),a=h,o=f,s=d,u=g,c=p,m.point=b}function M(){n(h,f,l,d,g,p,a,o,r,s,u,c,jl,i),m.lineEnd=x,x()}return m}}var Bx=nr({point:function(t,e){this.stream.point(t*H,e*H)}});function Ox(t){return nr({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function Ux(t,e,n,i,r){function a(o,s){return o*=i,s*=r,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*i,(n-s)/t*r]},a}function ef(t,e,n,i,r,a){var o=O(a),s=z(a),u=o*t,c=s*t,l=o/t,h=s/t,f=(s*n-o*e)/t,d=(s*e+o*n)/t;function g(p,m){return p*=i,m*=r,[u*p-c*m+e,n-c*p-u*m]}return g.invert=function(p,m){return[i*(l*p-h*m+f),r*(d-h*p-l*m)]},g}function he(t){return Zu(function(){return t})()}function Zu(t){var e,n=150,i=480,r=250,a=0,o=0,s=0,u=0,c=0,l,h=0,f=1,d=1,g=null,p=Ks,m=null,y,v,b,x=Yi,w=.5,S,M,E,T,D;function C(k){return E(k[0]*H,k[1]*H)}function _(k){return k=E.invert(k[0],k[1]),k&&[k[0]*it,k[1]*it]}C.stream=function(k){return T&&D===k?T:T=Bx(Ox(l)(p(S(x(D=k)))))},C.preclip=function(k){return arguments.length?(p=k,g=void 0,$()):p},C.postclip=function(k){return arguments.length?(x=k,m=y=v=b=null,$()):x},C.clipAngle=function(k){return arguments.length?(p=+k?U0(g=k*H):(g=null,Ks),$()):g*it},C.clipExtent=function(k){return arguments.length?(x=k==null?(m=y=v=b=null,Yi):fo(m=+k[0][0],y=+k[0][1],v=+k[1][0],b=+k[1][1]),$()):m==null?null:[[m,y],[v,b]]},C.scale=function(k){return arguments.length?(n=+k,A()):n},C.translate=function(k){return arguments.length?(i=+k[0],r=+k[1],A()):[i,r]},C.center=function(k){return arguments.length?(a=k[0]%360*H,o=k[1]%360*H,A()):[a*it,o*it]},C.rotate=function(k){return arguments.length?(s=k[0]%360*H,u=k[1]%360*H,c=k.length>2?k[2]%360*H:0,A()):[s*it,u*it,c*it]},C.angle=function(k){return arguments.length?(h=k%360*H,A()):h*it},C.reflectX=function(k){return arguments.length?(f=k?-1:1,A()):f<0},C.reflectY=function(k){return arguments.length?(d=k?-1:1,A()):d<0},C.precision=function(k){return arguments.length?(S=tf(M,w=k*k),$()):ft(w)},C.fitExtent=function(k,R){return ho(C,k,R)},C.fitSize=function(k,R){return Wu(C,k,R)},C.fitWidth=function(k,R){return qu(C,k,R)},C.fitHeight=function(k,R){return Vu(C,k,R)};function A(){var k=ef(n,0,0,f,d,h).apply(null,e(a,o)),R=(h?ef:Ux)(n,i-k[0],r-k[1],f,d,h);return l=Fu(s,u,c),M=Zs(e,R),E=Zs(l,M),S=tf(M,w),$()}function $(){return T=D=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&_,A()}}function Qu(t){var e=0,n=q/3,i=Zu(t),r=i(e,n);return r.parallels=function(a){return arguments.length?i(e=a[0]*H,n=a[1]*H):[e*it,n*it]},r}function Hx(t){var e=O(t);function n(i,r){return[i*e,z(r)/e]}return n.invert=function(i,r){return[i/e,$t(r*e)]},n}function nd(t,e){var n=z(t),i=(n+z(e))/2;if(K(i)<U)return Hx(t);var r=1+n*(2*i-n),a=ft(r)/i;function o(s,u){var c=ft(r-2*i*z(u))/i;return[c*z(s*=i),a-c*O(s)]}return o.invert=function(s,u){var c=a-u,l=Rt(s,K(c))*Wt(c);return c*i<0&&(l-=q*Wt(s)*Wt(c)),[l/i,$t((r-(s*s+c*c)*i*i)/(2*i))]},o}function La(){return Qu(nd).scale(155.424).center([0,33.6442])}function id(){return La().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xx(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Fx(){var t,e,n=id(),i,r=La().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=La().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,c={point:function(f,d){u=[f,d]}};function l(f){var d=f[0],g=f[1];return u=null,i.point(d,g),u||(a.point(d,g),u)||(s.point(d,g),u)}l.invert=function(f){var d=n.scale(),g=n.translate(),p=(f[0]-g[0])/d,m=(f[1]-g[1])/d;return(m>=.12&&m<.234&&p>=-.425&&p<-.214?r:m>=.166&&m<.234&&p>=-.214&&p<-.115?o:n).invert(f)},l.stream=function(f){return t&&e===f?t:t=Xx([n.stream(e=f),r.stream(f),o.stream(f)])},l.precision=function(f){return arguments.length?(n.precision(f),r.precision(f),o.precision(f),h()):n.precision()},l.scale=function(f){return arguments.length?(n.scale(f),r.scale(f*.35),o.scale(f),l.translate(n.translate())):n.scale()},l.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),g=+f[0],p=+f[1];return i=n.translate(f).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(c),a=r.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+U,p+.12*d+U],[g-.214*d-U,p+.234*d-U]]).stream(c),s=o.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+U,p+.166*d+U],[g-.115*d-U,p+.234*d-U]]).stream(c),h()},l.fitExtent=function(f,d){return ho(l,f,d)},l.fitSize=function(f,d){return Wu(l,f,d)},l.fitWidth=function(f,d){return qu(l,f,d)},l.fitHeight=function(f,d){return Vu(l,f,d)};function h(){return t=e=null,l}return l.scale(1070)}function rd(t){return function(e,n){var i=O(e),r=O(n),a=t(i*r);return[a*r*z(e),a*z(n)]}}function ir(t){return function(e,n){var i=ft(e*e+n*n),r=t(i),a=z(r),o=O(r);return[Rt(e*a,i*o),$t(i&&n*a/i)]}}var Ku=rd(function(t){return ft(2/(1+t))});Ku.invert=ir(function(t){return 2*$t(t/2)});function Gx(){return he(Ku).scale(124.75).clipAngle(180-.001)}var Ju=rd(function(t){return(t=S0(t))&&t/z(t)});Ju.invert=ir(function(t){return t});function Wx(){return he(Ju).scale(79.4188).clipAngle(180-.001)}function rr(t,e){return[t,ca(Hu((ct+e)/2))]}rr.invert=function(t,e){return[t,2*Fn(M0(e))-ct]};function qx(){return ad(rr).scale(961/Et)}function ad(t){var e=he(t),n=e.center,i=e.scale,r=e.translate,a=e.clipExtent,o=null,s,u,c;e.scale=function(h){return arguments.length?(i(h),l()):i()},e.translate=function(h){return arguments.length?(r(h),l()):r()},e.center=function(h){return arguments.length?(n(h),l()):n()},e.clipExtent=function(h){return arguments.length?(h==null?o=s=u=c=null:(o=+h[0][0],s=+h[0][1],u=+h[1][0],c=+h[1][1]),l()):o==null?null:[[o,s],[u,c]]};function l(){var h=q*i(),f=e(P0(e.rotate()).invert([0,0]));return a(o==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===rr?[[Math.max(f[0]-h,o),s],[Math.min(f[0]+h,u),c]]:[[o,Math.max(f[1]-h,s)],[u,Math.min(f[1]+h,c)]])}return l()}function kr(t){return Hu((ct+t)/2)}function od(t,e){var n=O(t),i=t===e?z(t):ca(n/O(e))/ca(kr(e)/kr(t)),r=n*Ko(kr(t),i)/i;if(!i)return rr;function a(o,s){r>0?s<-ct+U&&(s=-ct+U):s>ct-U&&(s=ct-U);var u=r/Ko(kr(s),i);return[u*z(i*o),r-u*O(i*o)]}return a.invert=function(o,s){var u=r-s,c=Wt(i)*ft(o*o+u*u),l=Rt(o,K(u))*Wt(u);return u*i<0&&(l-=q*Wt(o)*Wt(u)),[l/i,2*Fn(Ko(r/c,1/i))-ct]},a}function Vx(){return Qu(od).scale(109.5).parallels([30,30])}function Oi(t,e){return[t,e]}Oi.invert=Oi;function Zx(){return he(Oi).scale(152.63)}function sd(t,e){var n=O(t),i=t===e?z(t):(n-O(e))/(e-t),r=n/i+t;if(K(i)<U)return Oi;function a(o,s){var u=r-s,c=i*o;return[u*z(c),r-u*O(c)]}return a.invert=function(o,s){var u=r-s,c=Rt(o,K(u))*Wt(u);return u*i<0&&(c-=q*Wt(o)*Wt(u)),[c/i,r-Wt(i)*ft(o*o+u*u)]},a}function Qx(){return Qu(sd).scale(131.154).center([0,13.9389])}var wi=1.340264,Mi=-.081106,Si=893e-6,ki=.003796,Ea=ft(3)/2,Kx=12;function ju(t,e){var n=$t(Ea*z(e)),i=n*n,r=i*i*i;return[t*O(n)/(Ea*(wi+3*Mi*i+r*(7*Si+9*ki*i))),n*(wi+Mi*i+r*(Si+ki*i))]}ju.invert=function(t,e){for(var n=e,i=n*n,r=i*i*i,a=0,o,s,u;a<Kx&&(s=n*(wi+Mi*i+r*(Si+ki*i))-e,u=wi+3*Mi*i+r*(7*Si+9*ki*i),n-=o=s/u,i=n*n,r=i*i*i,!(K(o)<sa));++a);return[Ea*t*(wi+3*Mi*i+r*(7*Si+9*ki*i))/O(n),$t(z(n)/Ea)]};function Jx(){return he(ju).scale(177.158)}function tc(t,e){var n=O(e),i=O(t)*n;return[n*z(t)/i,z(e)/i]}tc.invert=ir(Fn);function jx(){return he(tc).scale(144.049).clipAngle(60)}function t_(){var t=1,e=0,n=0,i=1,r=1,a=0,o,s,u=null,c,l,h,f=1,d=1,g=nr({point:function(x,w){var S=b([x,w]);this.stream.point(S[0],S[1])}}),p=Yi,m,y;function v(){return f=t*i,d=t*r,m=y=null,b}function b(x){var w=x[0]*f,S=x[1]*d;if(a){var M=S*o-w*s;w=w*o+S*s,S=M}return[w+e,S+n]}return b.invert=function(x){var w=x[0]-e,S=x[1]-n;if(a){var M=S*o+w*s;w=w*o-S*s,S=M}return[w/f,S/d]},b.stream=function(x){return m&&y===x?m:m=g(p(y=x))},b.postclip=function(x){return arguments.length?(p=x,u=c=l=h=null,v()):p},b.clipExtent=function(x){return arguments.length?(p=x==null?(u=c=l=h=null,Yi):fo(u=+x[0][0],c=+x[0][1],l=+x[1][0],h=+x[1][1]),v()):u==null?null:[[u,c],[l,h]]},b.scale=function(x){return arguments.length?(t=+x,v()):t},b.translate=function(x){return arguments.length?(e=+x[0],n=+x[1],v()):[e,n]},b.angle=function(x){return arguments.length?(a=x%360*H,s=z(a),o=O(a),v()):a*it},b.reflectX=function(x){return arguments.length?(i=x?-1:1,v()):i<0},b.reflectY=function(x){return arguments.length?(r=x?-1:1,v()):r<0},b.fitExtent=function(x,w){return ho(b,x,w)},b.fitSize=function(x,w){return Wu(b,x,w)},b.fitWidth=function(x,w){return qu(b,x,w)},b.fitHeight=function(x,w){return Vu(b,x,w)},b}function ec(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),e*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}ec.invert=function(t,e){var n=e,i=25,r;do{var a=n*n,o=a*a;n-=r=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(K(r)>U&&--i>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function e_(){return he(ec).scale(175.295)}function nc(t,e){return[O(e)*z(t),z(e)]}nc.invert=ir($t);function n_(){return he(nc).scale(249.5).clipAngle(90+U)}function ic(t,e){var n=O(e),i=1+O(t)*n;return[n*z(t)/i,z(e)/i]}ic.invert=ir(function(t){return 2*Fn(t)});function i_(){return he(ic).scale(250).clipAngle(142)}function rc(t,e){return[ca(Hu((ct+e)/2)),-t]}rc.invert=function(t,e){return[-e,2*Fn(M0(t))-ct]};function r_(){var t=ad(rc),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function a_(t,e){return t.parent===e.parent?1:2}function o_(t){return t.reduce(s_,0)/t.length}function s_(t,e){return t+e.x}function u_(t){return 1+t.reduce(c_,0)}function c_(t,e){return Math.max(t,e.y)}function l_(t){for(var e;e=t.children;)t=e[0];return t}function f_(t){for(var e;e=t.children;)t=e[e.length-1];return t}function h_(){var t=a_,e=1,n=1,i=!1;function r(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=o_(d),f.y=u_(d)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var u=l_(a),c=f_(a),l=u.x-t(u,c)/2,h=c.x+t(c,u)/2;return a.eachAfter(i?function(f){f.x=(f.x-a.x)*e,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-l)/(h-l)*e,f.y=(1-(a.y?f.y/a.y:1))*n})}return r.separation=function(a){return arguments.length?(t=a,r):t},r.size=function(a){return arguments.length?(i=!1,e=+a[0],n=+a[1],r):i?null:[e,n]},r.nodeSize=function(a){return arguments.length?(i=!0,e=+a[0],n=+a[1],r):i?[e,n]:null},r}function d_(t){var e=0,n=t.children,i=n&&n.length;if(!i)e=1;else for(;--i>=0;)e+=n[i].value;t.value=e}function p_(){return this.eachAfter(d_)}function g_(t){var e=this,n,i=[e],r,a,o;do for(n=i.reverse(),i=[];e=n.pop();)if(t(e),r=e.children,r)for(a=0,o=r.length;a<o;++a)i.push(r[a]);while(i.length);return this}function m_(t){for(var e=this,n=[e],i,r;e=n.pop();)if(t(e),i=e.children,i)for(r=i.length-1;r>=0;--r)n.push(i[r]);return this}function y_(t){for(var e=this,n=[e],i=[],r,a,o;e=n.pop();)if(i.push(e),r=e.children,r)for(a=0,o=r.length;a<o;++a)n.push(r[a]);for(;e=i.pop();)t(e);return this}function b_(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})}function v_(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function x_(t){for(var e=this,n=__(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function __(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function w_(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function M_(){var t=[];return this.each(function(e){t.push(e)}),t}function S_(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function k_(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function ac(t,e){var n=new Yn(t),i=+t.value&&(n.value=t.value),r,a=[n],o,s,u,c;for(e==null&&(e=C_);r=a.pop();)if(i&&(r.value=+r.data.value),(s=e(r.data))&&(c=s.length))for(r.children=new Array(c),u=c-1;u>=0;--u)a.push(o=r.children[u]=new Yn(s[u])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(ud)}function A_(){return ac(this).eachBefore(T_)}function C_(t){return t.children}function T_(t){t.data=t.data.data}function ud(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Yn(t){this.data=t,this.depth=this.height=0,this.parent=null}Yn.prototype=ac.prototype={constructor:Yn,count:p_,each:g_,eachAfter:y_,eachBefore:m_,sum:b_,sort:v_,path:x_,ancestors:w_,descendants:M_,leaves:S_,links:k_,copy:A_};var D_=Array.prototype.slice;function L_(t){for(var e=t.length,n,i;e;)i=Math.random()*e--|0,n=t[e],t[e]=t[i],t[i]=n;return t}function cd(t){for(var e=0,n=(t=L_(D_.call(t))).length,i=[],r,a;e<n;)r=t[e],a&&ld(a,r)?++e:(a=R_(i=E_(i,r)),e=0);return a}function E_(t,e){var n,i;if(is(e,t))return[e];for(n=0;n<t.length;++n)if(Ar(e,t[n])&&is(di(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Ar(di(t[n],t[i]),e)&&Ar(di(t[n],e),t[i])&&Ar(di(t[i],e),t[n])&&is(fd(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Ar(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function ld(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function is(t,e){for(var n=0;n<e.length;++n)if(!ld(t,e[n]))return!1;return!0}function R_(t){switch(t.length){case 1:return $_(t[0]);case 2:return di(t[0],t[1]);case 3:return fd(t[0],t[1],t[2])}}function $_(t){return{x:t.x,y:t.y,r:t.r}}function di(t,e){var n=t.x,i=t.y,r=t.r,a=e.x,o=e.y,s=e.r,u=a-n,c=o-i,l=s-r,h=Math.sqrt(u*u+c*c);return{x:(n+a+u/h*l)/2,y:(i+o+c/h*l)/2,r:(h+r+s)/2}}function fd(t,e,n){var i=t.x,r=t.y,a=t.r,o=e.x,s=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=i-o,d=i-c,g=r-s,p=r-l,m=u-a,y=h-a,v=i*i+r*r-a*a,b=v-o*o-s*s+u*u,x=v-c*c-l*l+h*h,w=d*g-f*p,S=(g*x-p*b)/(w*2)-i,M=(p*m-g*y)/w,E=(d*b-f*x)/(w*2)-r,T=(f*y-d*m)/w,D=M*M+T*T-1,C=2*(a+S*M+E*T),_=S*S+E*E-a*a,A=-(D?(C+Math.sqrt(C*C-4*D*_))/(2*D):_/C);return{x:i+S+M*A,y:r+E+T*A,r:A}}function nf(t,e,n){var i=t.x-e.x,r,a,o=t.y-e.y,s,u,c=i*i+o*o;c?(a=e.r+n.r,a*=a,u=t.r+n.r,u*=u,a>u?(r=(c+u-a)/(2*c),s=Math.sqrt(Math.max(0,u/c-r*r)),n.x=t.x-r*i-s*o,n.y=t.y-r*o+s*i):(r=(c+a-u)/(2*c),s=Math.sqrt(Math.max(0,a/c-r*r)),n.x=e.x+r*i-s*o,n.y=e.y+r*o+s*i)):(n.x=e.x+n.r,n.y=e.y)}function rf(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function af(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,a=(e.y*n.r+n.y*e.r)/i;return r*r+a*a}function Cr(t){this._=t,this.next=null,this.previous=null}function hd(t){if(!(r=t.length))return 0;var e,n,i,r,a,o,s,u,c,l,h;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;nf(n,e,i=t[2]),e=new Cr(e),n=new Cr(n),i=new Cr(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){nf(e._,n._,i=t[s]),i=new Cr(i),u=n.next,c=e.previous,l=n._.r,h=e._.r;do if(l<=h){if(rf(u._,i._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(rf(c._,i._)){e=c,e.next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,a=af(e);(i=i.next)!==n;)(o=af(i))<a&&(e=i,a=o);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=cd(e),s=0;s<r;++s)e=t[s],e.x-=i.x,e.y-=i.y;return i.r}function I_(t){return hd(t),t}function P_(t){return t==null?null:Ra(t)}function Ra(t){if(typeof t!="function")throw new Error;return t}function He(){return 0}function xn(t){return function(){return t}}function N_(t){return Math.sqrt(t.value)}function z_(){var t=null,e=1,n=1,i=He;function r(a){return a.x=e/2,a.y=n/2,t?a.eachBefore(of(t)).eachAfter(rs(i,.5)).eachBefore(sf(1)):a.eachBefore(of(N_)).eachAfter(rs(He,1)).eachAfter(rs(i,a.r/Math.min(e,n))).eachBefore(sf(Math.min(e,n)/(2*a.r))),a}return r.radius=function(a){return arguments.length?(t=P_(a),r):t},r.size=function(a){return arguments.length?(e=+a[0],n=+a[1],r):[e,n]},r.padding=function(a){return arguments.length?(i=typeof a=="function"?a:xn(+a),r):i},r}function of(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function rs(t,e){return function(n){if(i=n.children){var i,r,a=i.length,o=t(n)*e||0,s;if(o)for(r=0;r<a;++r)i[r].r+=o;if(s=hd(i),o)for(r=0;r<a;++r)i[r].r-=o;n.r=s+o}}}function sf(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function dd(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ar(t,e,n,i,r){for(var a=t.children,o,s=-1,u=a.length,c=t.value&&(i-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*c}function Y_(){var t=1,e=1,n=0,i=!1;function r(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),i&&o.eachBefore(dd),o}function a(o,s){return function(u){u.children&&ar(u,u.x0,o*(u.depth+1)/s,u.x1,o*(u.depth+2)/s);var c=u.x0,l=u.y0,h=u.x1-n,f=u.y1-n;h<c&&(c=h=(c+h)/2),f<l&&(l=f=(l+f)/2),u.x0=c,u.y0=l,u.x1=h,u.y1=f}}return r.round=function(o){return arguments.length?(i=!!o,r):i},r.size=function(o){return arguments.length?(t=+o[0],e=+o[1],r):[t,e]},r.padding=function(o){return arguments.length?(n=+o,r):n},r}var uf="$",B_={depth:-1},cf={};function O_(t){return t.id}function U_(t){return t.parentId}function H_(){var t=O_,e=U_;function n(i){var r,a,o=i.length,s,u,c,l=new Array(o),h,f,d={};for(a=0;a<o;++a)r=i[a],c=l[a]=new Yn(r),(h=t(r,a,i))!=null&&(h+="")&&(f=uf+(c.id=h),d[f]=f in d?cf:c);for(a=0;a<o;++a)if(c=l[a],h=e(i[a],a,i),h==null||!(h+="")){if(s)throw new Error("multiple roots");s=c}else{if(u=d[uf+h],!u)throw new Error("missing: "+h);if(u===cf)throw new Error("ambiguous: "+h);u.children?u.children.push(c):u.children=[c],c.parent=u}if(!s)throw new Error("no root");if(s.parent=B_,s.eachBefore(function(g){g.depth=g.parent.depth+1,--o}).eachBefore(ud),s.parent=null,o>0)throw new Error("cycle");return s}return n.id=function(i){return arguments.length?(t=Ra(i),n):t},n.parentId=function(i){return arguments.length?(e=Ra(i),n):e},n}function X_(t,e){return t.parent===e.parent?1:2}function as(t){var e=t.children;return e?e[0]:t.t}function os(t){var e=t.children;return e?e[e.length-1]:t.t}function F_(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function G_(t){for(var e=0,n=0,i=t.children,r=i.length,a;--r>=0;)a=i[r],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function W_(t,e,n){return t.a.parent===e.parent?t.a:n}function qr(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}qr.prototype=Object.create(Yn.prototype);function q_(t){for(var e=new qr(t,0),n,i=[e],r,a,o,s;n=i.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)i.push(r=n.children[o]=new qr(a[o],o)),r.parent=n;return(e.parent=new qr(null,0)).children=[e],e}function V_(){var t=X_,e=1,n=1,i=null;function r(c){var l=q_(c);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),i)c.eachBefore(u);else{var h=c,f=c,d=c;c.eachBefore(function(v){v.x<h.x&&(h=v),v.x>f.x&&(f=v),v.depth>d.depth&&(d=v)});var g=h===f?1:t(h,f)/2,p=g-h.x,m=e/(f.x+g+p),y=n/(d.depth||1);c.eachBefore(function(v){v.x=(v.x+p)*m,v.y=v.depth*y})}return c}function a(c){var l=c.children,h=c.parent.children,f=c.i?h[c.i-1]:null;if(l){G_(c);var d=(l[0].z+l[l.length-1].z)/2;f?(c.z=f.z+t(c._,f._),c.m=c.z-d):c.z=d}else f&&(c.z=f.z+t(c._,f._));c.parent.A=s(c,f,c.parent.A||h[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,l,h){if(l){for(var f=c,d=c,g=l,p=f.parent.children[0],m=f.m,y=d.m,v=g.m,b=p.m,x;g=os(g),f=as(f),g&&f;)p=as(p),d=os(d),d.a=c,x=g.z+v-f.z-m+t(g._,f._),x>0&&(F_(W_(g,c,h),c,x),m+=x,y+=x),v+=g.m,m+=f.m,b+=p.m,y+=d.m;g&&!os(d)&&(d.t=g,d.m+=v-y),f&&!as(p)&&(p.t=f,p.m+=m-b,h=c)}return h}function u(c){c.x*=e,c.y=c.depth*n}return r.separation=function(c){return arguments.length?(t=c,r):t},r.size=function(c){return arguments.length?(i=!1,e=+c[0],n=+c[1],r):i?null:[e,n]},r.nodeSize=function(c){return arguments.length?(i=!0,e=+c[0],n=+c[1],r):i?[e,n]:null},r}function po(t,e,n,i,r){for(var a=t.children,o,s=-1,u=a.length,c=t.value&&(r-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*c}var pd=(1+Math.sqrt(5))/2;function gd(t,e,n,i,r,a){for(var o=[],s=e.children,u,c,l=0,h=0,f=s.length,d,g,p=e.value,m,y,v,b,x,w,S;l<f;){d=r-n,g=a-i;do m=s[h++].value;while(!m&&h<f);for(y=v=m,w=Math.max(g/d,d/g)/(p*t),S=m*m*w,x=Math.max(v/S,S/y);h<f;++h){if(m+=c=s[h].value,c<y&&(y=c),c>v&&(v=c),S=m*m*w,b=Math.max(v/S,S/y),b>x){m-=c;break}x=b}o.push(u={value:m,dice:d<g,children:s.slice(l,h)}),u.dice?ar(u,n,i,r,p?i+=g*m/p:a):po(u,n,i,p?n+=d*m/p:r,a),p-=m,l=h}return o}const md=function t(e){function n(i,r,a,o,s){gd(e,i,r,a,o,s)}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(pd);function Z_(){var t=md,e=!1,n=1,i=1,r=[0],a=He,o=He,s=He,u=He,c=He;function l(f){return f.x0=f.y0=0,f.x1=n,f.y1=i,f.eachBefore(h),r=[0],e&&f.eachBefore(dd),f}function h(f){var d=r[f.depth],g=f.x0+d,p=f.y0+d,m=f.x1-d,y=f.y1-d;m<g&&(g=m=(g+m)/2),y<p&&(p=y=(p+y)/2),f.x0=g,f.y0=p,f.x1=m,f.y1=y,f.children&&(d=r[f.depth+1]=a(f)/2,g+=c(f)-d,p+=o(f)-d,m-=s(f)-d,y-=u(f)-d,m<g&&(g=m=(g+m)/2),y<p&&(p=y=(p+y)/2),t(f,g,p,m,y))}return l.round=function(f){return arguments.length?(e=!!f,l):e},l.size=function(f){return arguments.length?(n=+f[0],i=+f[1],l):[n,i]},l.tile=function(f){return arguments.length?(t=Ra(f),l):t},l.padding=function(f){return arguments.length?l.paddingInner(f).paddingOuter(f):l.paddingInner()},l.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:xn(+f),l):a},l.paddingOuter=function(f){return arguments.length?l.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):l.paddingTop()},l.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:xn(+f),l):o},l.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:xn(+f),l):s},l.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:xn(+f),l):u},l.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:xn(+f),l):c},l}function Q_(t,e,n,i,r){var a=t.children,o,s=a.length,u,c=new Array(s+1);for(c[0]=u=o=0;o<s;++o)c[o+1]=u+=a[o].value;l(0,s,t.value,e,n,i,r);function l(h,f,d,g,p,m,y){if(h>=f-1){var v=a[h];v.x0=g,v.y0=p,v.x1=m,v.y1=y;return}for(var b=c[h],x=d/2+b,w=h+1,S=f-1;w<S;){var M=w+S>>>1;c[M]<x?w=M+1:S=M}x-c[w-1]<c[w]-x&&h+1<w&&--w;var E=c[w]-b,T=d-E;if(m-g>y-p){var D=(g*T+m*E)/d;l(h,w,E,g,p,D,y),l(w,f,T,D,p,m,y)}else{var C=(p*T+y*E)/d;l(h,w,E,g,p,m,C),l(w,f,T,g,C,m,y)}}}function K_(t,e,n,i,r){(t.depth&1?po:ar)(t,e,n,i,r)}const J_=function t(e){function n(i,r,a,o,s){if((u=i._squarify)&&u.ratio===e)for(var u,c,l,h,f=-1,d,g=u.length,p=i.value;++f<g;){for(c=u[f],l=c.children,h=c.value=0,d=l.length;h<d;++h)c.value+=l[h].value;c.dice?ar(c,r,a,o,a+=(s-a)*c.value/p):po(c,r,a,r+=(o-r)*c.value/p,s),p-=c.value}else i._squarify=u=gd(e,i,r,a,o,s),u.ratio=e}return n.ratio=function(i){return t((i=+i)>1?i:1)},n}(pd);function j_(t){for(var e=-1,n=t.length,i,r=t[n-1],a=0;++e<n;)i=r,r=t[e],a+=i[1]*r[0]-i[0]*r[1];return a/2}function tw(t){for(var e=-1,n=t.length,i=0,r=0,a,o=t[n-1],s,u=0;++e<n;)a=o,o=t[e],u+=s=a[0]*o[1]-o[0]*a[1],i+=(a[0]+o[0])*s,r+=(a[1]+o[1])*s;return u*=3,[i/u,r/u]}function ew(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function nw(t,e){return t[0]-e[0]||t[1]-e[1]}function lf(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&ew(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function iw(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(nw),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var a=lf(i),o=lf(r),s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[i[a[e]][2]]);for(e=+s;e<o.length-u;++e)c.push(t[i[o[e]][2]]);return c}function rw(t,e){for(var n=t.length,i=t[n-1],r=e[0],a=e[1],o=i[0],s=i[1],u,c,l=!1,h=0;h<n;++h)i=t[h],u=i[0],c=i[1],c>a!=s>a&&r<(o-u)*(a-c)/(s-c)+u&&(l=!l),o=u,s=c;return l}function aw(t){for(var e=-1,n=t.length,i=t[n-1],r,a,o=i[0],s=i[1],u=0;++e<n;)r=o,a=s,i=t[e],o=i[0],s=i[1],r-=o,a-=s,u+=Math.sqrt(r*r+a*a);return u}function Gn(){return Math.random()}const ow=function t(e){function n(i,r){return i=i==null?0:+i,r=r==null?1:+r,arguments.length===1?(r=i,i=0):r-=i,function(){return e()*r+i}}return n.source=t,n}(Gn),yd=function t(e){function n(i,r){var a,o;return i=i==null?0:+i,r=r==null?1:+r,function(){var s;if(a!=null)s=a,a=null;else do a=e()*2-1,s=e()*2-1,o=a*a+s*s;while(!o||o>1);return i+r*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(Gn),sw=function t(e){function n(){var i=yd.source(e).apply(this,arguments);return function(){return Math.exp(i())}}return n.source=t,n}(Gn),bd=function t(e){function n(i){return function(){for(var r=0,a=0;a<i;++a)r+=e();return r}}return n.source=t,n}(Gn),uw=function t(e){function n(i){var r=bd.source(e)(i);return function(){return r()/i}}return n.source=t,n}(Gn),cw=function t(e){function n(i){return function(){return-Math.log(1-e())/i}}return n.source=t,n}(Gn);function ee(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _e(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var vd=Array.prototype,$a=vd.map,je=vd.slice,lu={name:"implicit"};function or(){var t=be(),e=[],n=[],i=lu;function r(a){var o=a+"",s=t.get(o);if(!s){if(i!==lu)return i;t.set(o,s=e.push(a))}return n[(s-1)%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=be();for(var o=-1,s=a.length,u,c;++o<s;)t.has(c=(u=a[o])+"")||t.set(c,e.push(u));return r},r.range=function(a){return arguments.length?(n=je.call(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return or(e,n).unknown(i)},ee.apply(r,arguments),r}function oc(){var t=or().unknown(void 0),e=t.domain,n=t.range,i=[0,1],r,a,o=!1,s=0,u=0,c=.5;delete t.unknown;function l(){var h=e().length,f=i[1]<i[0],d=i[f-0],g=i[1-f];r=(g-d)/Math.max(1,h-s+u*2),o&&(r=Math.floor(r)),d+=(g-d-r*(h-s))*c,a=r*(1-s),o&&(d=Math.round(d),a=Math.round(a));var p=Ot(h).map(function(m){return d+r*m});return n(f?p.reverse():p)}return t.domain=function(h){return arguments.length?(e(h),l()):e()},t.range=function(h){return arguments.length?(i=[+h[0],+h[1]],l()):i.slice()},t.rangeRound=function(h){return i=[+h[0],+h[1]],o=!0,l()},t.bandwidth=function(){return a},t.step=function(){return r},t.round=function(h){return arguments.length?(o=!!h,l()):o},t.padding=function(h){return arguments.length?(s=Math.min(1,u=+h),l()):s},t.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),l()):s},t.paddingOuter=function(h){return arguments.length?(u=+h,l()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),l()):c},t.copy=function(){return oc(e(),i).round(o).paddingInner(s).paddingOuter(u).align(c)},ee.apply(l(),arguments)}function xd(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xd(e())},t}function go(){return xd(oc.apply(null,arguments).paddingInner(1))}function lw(t){return function(){return t}}function fu(t){return+t}var ff=[0,1];function bt(t){return t}function hu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:lw(isNaN(e)?NaN:.5)}function hf(t){var e=t[0],n=t[t.length-1],i;return e>n&&(i=e,e=n,n=i),function(r){return Math.max(e,Math.min(n,r))}}function fw(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=hu(r,i),a=n(o,a)):(i=hu(i,r),a=n(a,o)),function(s){return a(i(s))}}function hw(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=hu(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=Ce(t,s,1,i)-1;return a[u](r[u](s))}}function sr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mo(){var t=ff,e=ff,n=ji,i,r,a,o=bt,s,u,c;function l(){return s=Math.min(t.length,e.length)>2?hw:fw,u=c=null,h}function h(f){return isNaN(f=+f)?a:(u||(u=s(t.map(i),e,n)))(i(o(f)))}return h.invert=function(f){return o(r((c||(c=s(e,t.map(i),Gt)))(f)))},h.domain=function(f){return arguments.length?(t=$a.call(f,fu),o===bt||(o=hf(t)),l()):t.slice()},h.range=function(f){return arguments.length?(e=je.call(f),l()):e.slice()},h.rangeRound=function(f){return e=je.call(f),n=Oh,l()},h.clamp=function(f){return arguments.length?(o=f?hf(t):bt,h):o!==bt},h.interpolate=function(f){return arguments.length?(n=f,l()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return i=f,r=d,l()}}function _d(t,e){return mo()(t,e)}function wd(t,e,n,i){var r=qe(t,e,n),a;switch(i=zi(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=_0(r,o))&&(i.precision=a),Uu(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=w0(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=x0(r))&&(i.precision=a-(i.type==="%")*2);break}}return tr(i)}function fn(t){var e=t.domain;return t.ticks=function(n){var i=e();return bu(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return wd(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,o=i[r],s=i[a],u;return s<o&&(u=o,o=s,s=u,u=r,r=a,a=u),u=xi(o,s,n),u>0?(o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u,u=xi(o,s,n)):u<0&&(o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u,u=xi(o,s,n)),u>0?(i[r]=Math.floor(o/u)*u,i[a]=Math.ceil(s/u)*u,e(i)):u<0&&(i[r]=Math.ceil(o*u)/u,i[a]=Math.floor(s*u)/u,e(i)),t},t}function Bn(){var t=_d(bt,bt);return t.copy=function(){return sr(t,Bn())},ee.apply(t,arguments),fn(t)}function Md(t){var e;function n(i){return isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=$a.call(i,fu),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return Md(t).unknown(e)},t=arguments.length?$a.call(t,fu):[0,1],fn(n)}function Sd(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],a=t[i],o;return a<r&&(o=n,n=i,i=o,o=r,r=a,a=o),t[n]=e.floor(r),t[i]=e.ceil(a),t}function df(t){return Math.log(t)}function pf(t){return Math.exp(t)}function dw(t){return-Math.log(-t)}function pw(t){return-Math.exp(-t)}function gw(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mw(t){return t===10?gw:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function yw(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function gf(t){return function(e){return-t(-e)}}function sc(t){var e=t(df,pf),n=e.domain,i=10,r,a;function o(){return r=yw(i),a=mw(i),n()[0]<0?(r=gf(r),a=gf(a),t(dw,pw)):t(df,pf),e}return e.base=function(s){return arguments.length?(i=+s,o()):i},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=function(s){var u=n(),c=u[0],l=u[u.length-1],h;(h=l<c)&&(f=c,c=l,l=f);var f=r(c),d=r(l),g,p,m,y=s==null?10:+s,v=[];if(!(i%1)&&d-f<y){if(f=Math.round(f)-1,d=Math.round(d)+1,c>0){for(;f<d;++f)for(p=1,g=a(f);p<i;++p)if(m=g*p,!(m<c)){if(m>l)break;v.push(m)}}else for(;f<d;++f)for(p=i-1,g=a(f);p>=1;--p)if(m=g*p,!(m<c)){if(m>l)break;v.push(m)}}else v=bu(f,d,Math.min(d-f,y)).map(a);return h?v.reverse():v},e.tickFormat=function(s,u){if(u==null&&(u=i===10?".0e":","),typeof u!="function"&&(u=tr(u)),s===1/0)return u;s==null&&(s=10);var c=Math.max(1,i*s/e.ticks().length);return function(l){var h=l/a(Math.round(r(l)));return h*i<i-.5&&(h*=i),h<=c?u(l):""}},e.nice=function(){return n(Sd(n(),{floor:function(s){return a(Math.floor(r(s)))},ceil:function(s){return a(Math.ceil(r(s)))}}))},e}function kd(){var t=sc(mo()).domain([1,10]);return t.copy=function(){return sr(t,kd()).base(t.base())},ee.apply(t,arguments),t}function mf(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yf(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uc(t){var e=1,n=t(mf(e),yf(e));return n.constant=function(i){return arguments.length?t(mf(e=+i),yf(e)):e},fn(n)}function Ad(){var t=uc(mo());return t.copy=function(){return sr(t,Ad()).constant(t.constant())},ee.apply(t,arguments)}function bf(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bw(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vw(t){return t<0?-t*t:t*t}function cc(t){var e=t(bt,bt),n=1;function i(){return n===1?t(bt,bt):n===.5?t(bw,vw):t(bf(n),bf(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},fn(e)}function yo(){var t=cc(mo());return t.copy=function(){return sr(t,yo()).exponent(t.exponent())},ee.apply(t,arguments),t}function xw(){return yo.apply(null,arguments).exponent(.5)}function Cd(){var t=[],e=[],n=[],i;function r(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Ci(t,o/s);return a}function a(o){return isNaN(o=+o)?i:e[Ce(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(var s=0,u=o.length,c;s<u;++s)c=o[s],c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort($e),r()},a.range=function(o){return arguments.length?(e=je.call(o),r()):e.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Cd().domain(t).range(e).unknown(i)},ee.apply(a,arguments)}function lc(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function o(u){return u<=u?r[Ce(i,u,0,n)]:a}function s(){var u=-1;for(i=new Array(n);++u<n;)i[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?(t=+u[0],e=+u[1],s()):[t,e]},o.range=function(u){return arguments.length?(n=(r=je.call(u)).length-1,s()):r.slice()},o.invertExtent=function(u){var c=r.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,i[0]]:c>=n?[i[n-1],e]:[i[c-1],i[c]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return i.slice()},o.copy=function(){return lc().domain([t,e]).range(r).unknown(a)},ee.apply(fn(o),arguments)}function Td(){var t=[.5],e=[0,1],n,i=1;function r(a){return a<=a?e[Ce(t,a,0,i)]:n}return r.domain=function(a){return arguments.length?(t=je.call(a),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(a){return arguments.length?(e=je.call(a),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return Td().domain(t).range(e).unknown(n)},ee.apply(r,arguments)}var ss=new Date,us=new Date;function dt(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=function(a){return t(a=new Date(+a)),a},r.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},r.round=function(a){var o=r(a),s=r.ceil(a);return a-o<s-a?o:s},r.offset=function(a,o){return e(a=new Date(+a),o==null?1:Math.floor(o)),a},r.range=function(a,o,s){var u=[],c;if(a=r.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;do u.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return u},r.filter=function(a){return dt(function(o){if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););})},n&&(r.count=function(a,o){return ss.setTime(+a),us.setTime(+o),t(ss),t(us),Math.floor(n(ss,us))},r.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?function(o){return i(o)%a===0}:function(o){return r.count(0,o)%a===0}):r}),r}var Ia=dt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ia.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ia};const Pa=Ia;var vf=Ia.range,Na=1e3,tn=6e4,za=36e5,Dd=864e5,Ld=6048e5,Ed=dt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Na)},function(t,e){return(e-t)/Na},function(t){return t.getUTCSeconds()});const Ya=Ed;var xf=Ed.range,Rd=dt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Na)},function(t,e){t.setTime(+t+e*tn)},function(t,e){return(e-t)/tn},function(t){return t.getMinutes()});const $d=Rd;var _w=Rd.range,Id=dt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Na-t.getMinutes()*tn)},function(t,e){t.setTime(+t+e*za)},function(t,e){return(e-t)/za},function(t){return t.getHours()});const Pd=Id;var ww=Id.range,Nd=dt(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tn)/Dd},function(t){return t.getDate()-1});const bo=Nd;var Mw=Nd.range;function hn(t){return dt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*tn)/Ld})}var Ui=hn(0),Hi=hn(1),zd=hn(2),Yd=hn(3),en=hn(4),Bd=hn(5),Od=hn(6),_f=Ui.range,Sw=Hi.range,kw=zd.range,Aw=Yd.range,Cw=en.range,Tw=Bd.range,Dw=Od.range,Ud=dt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Hd=Ud;var Lw=Ud.range,fc=dt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});fc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:dt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const nn=fc;var Ew=fc.range,Xd=dt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*tn)},function(t,e){return(e-t)/tn},function(t){return t.getUTCMinutes()});const Fd=Xd;var Rw=Xd.range,Gd=dt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*za)},function(t,e){return(e-t)/za},function(t){return t.getUTCHours()});const Wd=Gd;var $w=Gd.range,qd=dt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Dd},function(t){return t.getUTCDate()-1});const vo=qd;var Iw=qd.range;function dn(t){return dt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Ld})}var Xi=dn(0),Fi=dn(1),Vd=dn(2),Zd=dn(3),rn=dn(4),Qd=dn(5),Kd=dn(6),wf=Xi.range,Pw=Fi.range,Nw=Vd.range,zw=Zd.range,Yw=rn.range,Bw=Qd.range,Ow=Kd.range,Jd=dt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const jd=Jd;var Uw=Jd.range,hc=dt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});hc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:dt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const an=hc;var Hw=hc.range;function cs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ls(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function t1(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=Kn(r),l=Jn(r),h=Kn(a),f=Jn(a),d=Kn(o),g=Jn(o),p=Kn(s),m=Jn(s),y=Kn(u),v=Jn(u),b={a:Y,A:N,b:B,B:X,c:null,d:Tf,e:Tf,f:f5,g:_5,G:M5,H:u5,I:c5,j:l5,L:e1,m:h5,M:d5,p:F,q:at,Q:Ef,s:Rf,S:p5,u:g5,U:m5,V:y5,w:b5,W:v5,x:null,X:null,y:x5,Y:w5,Z:S5,"%":Lf},x={a:et,A:J,b:lt,B:Ut,c:null,d:Df,e:Df,f:T5,g:Y5,G:O5,H:k5,I:A5,j:C5,L:i1,m:D5,M:L5,p:qt,q:Vt,Q:Ef,s:Rf,S:E5,u:R5,U:$5,V:I5,w:P5,W:N5,x:null,X:null,y:z5,Y:B5,Z:U5,"%":Lf},w={a:D,A:C,b:_,B:A,c:$,d:Af,e:Af,f:r5,g:kf,G:Sf,H:Cf,I:Cf,j:t5,L:i5,m:jw,M:e5,p:T,q:Jw,Q:o5,s:s5,S:n5,u:qw,U:Vw,V:Zw,w:Ww,W:Qw,x:k,X:R,y:kf,Y:Sf,Z:Kw,"%":a5};b.x=S(n,b),b.X=S(i,b),b.c=S(e,b),x.x=S(n,x),x.X=S(i,x),x.c=S(e,x);function S(P,G){return function(V){var I=[],mt=-1,j=0,vt=P.length,St,de,kt;for(V instanceof Date||(V=new Date(+V));++mt<vt;)P.charCodeAt(mt)===37&&(I.push(P.slice(j,mt)),(de=Mf[St=P.charAt(++mt)])!=null?St=P.charAt(++mt):de=St==="e"?" ":"0",(kt=G[St])&&(St=kt(V,de)),I.push(St),j=mt+1);return I.push(P.slice(j,mt)),I.join("")}}function M(P,G){return function(V){var I=Qn(1900,void 0,1),mt=E(I,P,V+="",0),j,vt;if(mt!=V.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(G&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(j=ls(Qn(I.y,0,1)),vt=j.getUTCDay(),j=vt>4||vt===0?Fi.ceil(j):Fi(j),j=vo.offset(j,(I.V-1)*7),I.y=j.getUTCFullYear(),I.m=j.getUTCMonth(),I.d=j.getUTCDate()+(I.w+6)%7):(j=cs(Qn(I.y,0,1)),vt=j.getDay(),j=vt>4||vt===0?Hi.ceil(j):Hi(j),j=bo.offset(j,(I.V-1)*7),I.y=j.getFullYear(),I.m=j.getMonth(),I.d=j.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),vt="Z"in I?ls(Qn(I.y,0,1)).getUTCDay():cs(Qn(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(vt+5)%7:I.w+I.U*7-(vt+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,ls(I)):cs(I)}}function E(P,G,V,I){for(var mt=0,j=G.length,vt=V.length,St,de;mt<j;){if(I>=vt)return-1;if(St=G.charCodeAt(mt++),St===37){if(St=G.charAt(mt++),de=w[St in Mf?G.charAt(mt++):St],!de||(I=de(P,V,I))<0)return-1}else if(St!=V.charCodeAt(I++))return-1}return I}function T(P,G,V){var I=c.exec(G.slice(V));return I?(P.p=l[I[0].toLowerCase()],V+I[0].length):-1}function D(P,G,V){var I=d.exec(G.slice(V));return I?(P.w=g[I[0].toLowerCase()],V+I[0].length):-1}function C(P,G,V){var I=h.exec(G.slice(V));return I?(P.w=f[I[0].toLowerCase()],V+I[0].length):-1}function _(P,G,V){var I=y.exec(G.slice(V));return I?(P.m=v[I[0].toLowerCase()],V+I[0].length):-1}function A(P,G,V){var I=p.exec(G.slice(V));return I?(P.m=m[I[0].toLowerCase()],V+I[0].length):-1}function $(P,G,V){return E(P,e,G,V)}function k(P,G,V){return E(P,n,G,V)}function R(P,G,V){return E(P,i,G,V)}function Y(P){return o[P.getDay()]}function N(P){return a[P.getDay()]}function B(P){return u[P.getMonth()]}function X(P){return s[P.getMonth()]}function F(P){return r[+(P.getHours()>=12)]}function at(P){return 1+~~(P.getMonth()/3)}function et(P){return o[P.getUTCDay()]}function J(P){return a[P.getUTCDay()]}function lt(P){return u[P.getUTCMonth()]}function Ut(P){return s[P.getUTCMonth()]}function qt(P){return r[+(P.getUTCHours()>=12)]}function Vt(P){return 1+~~(P.getUTCMonth()/3)}return{format:function(P){var G=S(P+="",b);return G.toString=function(){return P},G},parse:function(P){var G=M(P+="",!1);return G.toString=function(){return P},G},utcFormat:function(P){var G=S(P+="",x);return G.toString=function(){return P},G},utcParse:function(P){var G=M(P+="",!0);return G.toString=function(){return P},G}}}var Mf={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,Xw=/^%/,Fw=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Gw(t){return t.replace(Fw,"\\$&")}function Kn(t){return new RegExp("^(?:"+t.map(Gw).join("|")+")","i")}function Jn(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Ww(t,e,n){var i=gt.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qw(t,e,n){var i=gt.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Vw(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Zw(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Qw(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Sf(t,e,n){var i=gt.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function kf(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Kw(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Jw(t,e,n){var i=gt.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function jw(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Af(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function t5(t,e,n){var i=gt.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Cf(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function e5(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function n5(t,e,n){var i=gt.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function i5(t,e,n){var i=gt.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function r5(t,e,n){var i=gt.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function a5(t,e,n){var i=Xw.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function o5(t,e,n){var i=gt.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function s5(t,e,n){var i=gt.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Tf(t,e){return tt(t.getDate(),e,2)}function u5(t,e){return tt(t.getHours(),e,2)}function c5(t,e){return tt(t.getHours()%12||12,e,2)}function l5(t,e){return tt(1+bo.count(nn(t),t),e,3)}function e1(t,e){return tt(t.getMilliseconds(),e,3)}function f5(t,e){return e1(t,e)+"000"}function h5(t,e){return tt(t.getMonth()+1,e,2)}function d5(t,e){return tt(t.getMinutes(),e,2)}function p5(t,e){return tt(t.getSeconds(),e,2)}function g5(t){var e=t.getDay();return e===0?7:e}function m5(t,e){return tt(Ui.count(nn(t)-1,t),e,2)}function n1(t){var e=t.getDay();return e>=4||e===0?en(t):en.ceil(t)}function y5(t,e){return t=n1(t),tt(en.count(nn(t),t)+(nn(t).getDay()===4),e,2)}function b5(t){return t.getDay()}function v5(t,e){return tt(Hi.count(nn(t)-1,t),e,2)}function x5(t,e){return tt(t.getFullYear()%100,e,2)}function _5(t,e){return t=n1(t),tt(t.getFullYear()%100,e,2)}function w5(t,e){return tt(t.getFullYear()%1e4,e,4)}function M5(t,e){var n=t.getDay();return t=n>=4||n===0?en(t):en.ceil(t),tt(t.getFullYear()%1e4,e,4)}function S5(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function Df(t,e){return tt(t.getUTCDate(),e,2)}function k5(t,e){return tt(t.getUTCHours(),e,2)}function A5(t,e){return tt(t.getUTCHours()%12||12,e,2)}function C5(t,e){return tt(1+vo.count(an(t),t),e,3)}function i1(t,e){return tt(t.getUTCMilliseconds(),e,3)}function T5(t,e){return i1(t,e)+"000"}function D5(t,e){return tt(t.getUTCMonth()+1,e,2)}function L5(t,e){return tt(t.getUTCMinutes(),e,2)}function E5(t,e){return tt(t.getUTCSeconds(),e,2)}function R5(t){var e=t.getUTCDay();return e===0?7:e}function $5(t,e){return tt(Xi.count(an(t)-1,t),e,2)}function r1(t){var e=t.getUTCDay();return e>=4||e===0?rn(t):rn.ceil(t)}function I5(t,e){return t=r1(t),tt(rn.count(an(t),t)+(an(t).getUTCDay()===4),e,2)}function P5(t){return t.getUTCDay()}function N5(t,e){return tt(Fi.count(an(t)-1,t),e,2)}function z5(t,e){return tt(t.getUTCFullYear()%100,e,2)}function Y5(t,e){return t=r1(t),tt(t.getUTCFullYear()%100,e,2)}function B5(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function O5(t,e){var n=t.getUTCDay();return t=n>=4||n===0?rn(t):rn.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function U5(){return"+0000"}function Lf(){return"%"}function Ef(t){return+t}function Rf(t){return Math.floor(+t/1e3)}var bn,dc,a1,xo,pc;o1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o1(t){return bn=t1(t),dc=bn.format,a1=bn.parse,xo=bn.utcFormat,pc=bn.utcParse,bn}var s1="%Y-%m-%dT%H:%M:%S.%LZ";function H5(t){return t.toISOString()}var X5=Date.prototype.toISOString?H5:xo(s1);const F5=X5;function G5(t){var e=new Date(t);return isNaN(e)?null:e}var W5=+new Date("2000-01-01T00:00:00.000Z")?G5:pc(s1);const q5=W5;var pi=1e3,gi=pi*60,mi=gi*60,Gi=mi*24,V5=Gi*7,$f=Gi*30,fs=Gi*365;function Z5(t){return new Date(t)}function Q5(t){return t instanceof Date?+t:+new Date(+t)}function gc(t,e,n,i,r,a,o,s,u){var c=_d(bt,bt),l=c.invert,h=c.domain,f=u(".%L"),d=u(":%S"),g=u("%I:%M"),p=u("%I %p"),m=u("%a %d"),y=u("%b %d"),v=u("%B"),b=u("%Y"),x=[[o,1,pi],[o,5,5*pi],[o,15,15*pi],[o,30,30*pi],[a,1,gi],[a,5,5*gi],[a,15,15*gi],[a,30,30*gi],[r,1,mi],[r,3,3*mi],[r,6,6*mi],[r,12,12*mi],[i,1,Gi],[i,2,2*Gi],[n,1,V5],[e,1,$f],[e,3,3*$f],[t,1,fs]];function w(M){return(o(M)<M?f:a(M)<M?d:r(M)<M?g:i(M)<M?p:e(M)<M?n(M)<M?m:y:t(M)<M?v:b)(M)}function S(M,E,T,D){if(M==null&&(M=10),typeof M=="number"){var C=Math.abs(T-E)/M,_=mu(function(A){return A[2]}).right(x,C);_===x.length?(D=qe(E/fs,T/fs,M),M=t):_?(_=x[C/x[_-1][2]<x[_][2]/C?_-1:_],D=_[1],M=_[0]):(D=Math.max(qe(E,T,M),1),M=s)}return D==null?M:M.every(D)}return c.invert=function(M){return new Date(l(M))},c.domain=function(M){return arguments.length?h($a.call(M,Q5)):h().map(Z5)},c.ticks=function(M,E){var T=h(),D=T[0],C=T[T.length-1],_=C<D,A;return _&&(A=D,D=C,C=A),A=S(M,D,C,E),A=A?A.range(D,C+1):[],_?A.reverse():A},c.tickFormat=function(M,E){return E==null?w:u(E)},c.nice=function(M,E){var T=h();return(M=S(M,T[0],T[T.length-1],E))?h(Sd(T,M)):c},c.copy=function(){return sr(c,gc(t,e,n,i,r,a,o,s,u))},c}function K5(){return ee.apply(gc(nn,Hd,Ui,bo,Pd,$d,Ya,Pa,dc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J5(){return ee.apply(gc(an,jd,Xi,vo,Wd,Fd,Ya,Pa,xo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _o(){var t=0,e=1,n,i,r,a,o=bt,s=!1,u;function c(l){return isNaN(l=+l)?u:o(r===0?.5:(l=(a(l)-n)*r,s?Math.max(0,Math.min(1,l)):l))}return c.domain=function(l){return arguments.length?(n=a(t=+l[0]),i=a(e=+l[1]),r=n===i?0:1/(i-n),c):[t,e]},c.clamp=function(l){return arguments.length?(s=!!l,c):s},c.interpolator=function(l){return arguments.length?(o=l,c):o},c.unknown=function(l){return arguments.length?(u=l,c):u},function(l){return a=l,n=l(t),i=l(e),r=n===i?0:1/(i-n),c}}function ze(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function u1(){var t=fn(_o()(bt));return t.copy=function(){return ze(t,u1())},_e.apply(t,arguments)}function c1(){var t=sc(_o()).domain([1,10]);return t.copy=function(){return ze(t,c1()).base(t.base())},_e.apply(t,arguments)}function l1(){var t=uc(_o());return t.copy=function(){return ze(t,l1()).constant(t.constant())},_e.apply(t,arguments)}function mc(){var t=cc(_o());return t.copy=function(){return ze(t,mc()).exponent(t.exponent())},_e.apply(t,arguments)}function j5(){return mc.apply(null,arguments).exponent(.5)}function f1(){var t=[],e=bt;function n(i){if(!isNaN(i=+i))return e((Ce(t,i)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(var r=0,a=i.length,o;r<a;++r)o=i[r],o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort($e),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return f1(e).domain(t)},_e.apply(n,arguments)}function wo(){var t=0,e=.5,n=1,i,r,a,o,s,u=bt,c,l=!1,h;function f(d){return isNaN(d=+d)?h:(d=.5+((d=+c(d))-r)*(d<r?o:s),u(l?Math.max(0,Math.min(1,d)):d))}return f.domain=function(d){return arguments.length?(i=c(t=+d[0]),r=c(e=+d[1]),a=c(n=+d[2]),o=i===r?0:.5/(r-i),s=r===a?0:.5/(a-r),f):[t,e,n]},f.clamp=function(d){return arguments.length?(l=!!d,f):l},f.interpolator=function(d){return arguments.length?(u=d,f):u},f.unknown=function(d){return arguments.length?(h=d,f):h},function(d){return c=d,i=d(t),r=d(e),a=d(n),o=i===r?0:.5/(r-i),s=r===a?0:.5/(a-r),f}}function h1(){var t=fn(wo()(bt));return t.copy=function(){return ze(t,h1())},_e.apply(t,arguments)}function d1(){var t=sc(wo()).domain([.1,1,10]);return t.copy=function(){return ze(t,d1()).base(t.base())},_e.apply(t,arguments)}function p1(){var t=uc(wo());return t.copy=function(){return ze(t,p1()).constant(t.constant())},_e.apply(t,arguments)}function yc(){var t=cc(wo());return t.copy=function(){return ze(t,yc()).exponent(t.exponent())},_e.apply(t,arguments)}function t6(){return yc.apply(null,arguments).exponent(.5)}function W(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const e6=W("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),n6=W("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),i6=W("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),r6=W("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),a6=W("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),o6=W("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),s6=W("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),u6=W("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),c6=W("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),l6=W("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function rt(t){return Ph(t[t.length-1])}var g1=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(W);const f6=rt(g1);var m1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(W);const h6=rt(m1);var y1=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(W);const d6=rt(y1);var b1=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(W);const p6=rt(b1);var v1=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(W);const g6=rt(v1);var x1=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(W);const m6=rt(x1);var _1=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(W);const y6=rt(_1);var w1=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(W);const b6=rt(w1);var M1=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(W);const v6=rt(M1);var S1=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(W);const x6=rt(S1);var k1=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(W);const _6=rt(k1);var A1=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(W);const w6=rt(A1);var C1=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(W);const M6=rt(C1);var T1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(W);const S6=rt(T1);var D1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(W);const k6=rt(D1);var L1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(W);const A6=rt(L1);var E1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(W);const C6=rt(E1);var R1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(W);const T6=rt(R1);var $1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(W);const D6=rt($1);var I1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(W);const L6=rt(I1);var P1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(W);const E6=rt(P1);var N1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(W);const R6=rt(N1);var z1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(W);const $6=rt(z1);var Y1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(W);const I6=rt(Y1);var B1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(W);const P6=rt(B1);var O1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(W);const N6=rt(O1);var U1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(W);const z6=rt(U1);function Y6(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const B6=io(jt(300,.5,0),jt(-240,.5,1));var O6=io(jt(-100,.75,.35),jt(80,1.5,.8)),U6=io(jt(260,.75,.35),jt(80,1.5,.8)),Tr=jt();function H6(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Tr.h=360*t-100,Tr.s=1.5-1.5*e,Tr.l=.8-.9*e,Tr+""}var Dr=En(),X6=Math.PI/3,F6=Math.PI*2/3;function G6(t){var e;return t=(.5-t)*Math.PI,Dr.r=255*(e=Math.sin(t))*e,Dr.g=255*(e=Math.sin(t+X6))*e,Dr.b=255*(e=Math.sin(t+F6))*e,Dr+""}function W6(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Mo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const q6=Mo(W("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var V6=Mo(W("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Z6=Mo(W("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Q6=Mo(W("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Z(t){return function(){return t}}var If=Math.abs,xt=Math.atan2,Be=Math.cos,K6=Math.max,hs=Math.min,ne=Math.sin,wn=Math.sqrt,_t=1e-12,Ee=Math.PI,Ba=Ee/2,Ae=2*Ee;function J6(t){return t>1?0:t<-1?Ee:Math.acos(t)}function Pf(t){return t>=1?Ba:t<=-1?-Ba:Math.asin(t)}function j6(t){return t.innerRadius}function t3(t){return t.outerRadius}function e3(t){return t.startAngle}function n3(t){return t.endAngle}function i3(t){return t&&t.padAngle}function r3(t,e,n,i,r,a,o,s){var u=n-t,c=i-e,l=o-r,h=s-a,f=h*u-l*c;if(!(f*f<_t))return f=(l*(e-a)-h*(t-r))/f,[t+f*u,e+f*c]}function Lr(t,e,n,i,r,a,o){var s=t-n,u=e-i,c=(o?a:-a)/wn(s*s+u*u),l=c*u,h=-c*s,f=t+l,d=e+h,g=n+l,p=i+h,m=(f+g)/2,y=(d+p)/2,v=g-f,b=p-d,x=v*v+b*b,w=r-a,S=f*p-g*d,M=(b<0?-1:1)*wn(K6(0,w*w*x-S*S)),E=(S*b-v*M)/x,T=(-S*v-b*M)/x,D=(S*b+v*M)/x,C=(-S*v+b*M)/x,_=E-m,A=T-y,$=D-m,k=C-y;return _*_+A*A>$*$+k*k&&(E=D,T=C),{cx:E,cy:T,x01:-l,y01:-h,x11:E*(r/w-1),y11:T*(r/w-1)}}function H1(){var t=j6,e=t3,n=Z(0),i=null,r=e3,a=n3,o=i3,s=null;function u(){var c,l,h=+t.apply(this,arguments),f=+e.apply(this,arguments),d=r.apply(this,arguments)-Ba,g=a.apply(this,arguments)-Ba,p=If(g-d),m=g>d;if(s||(s=c=Pe()),f<h&&(l=f,f=h,h=l),!(f>_t))s.moveTo(0,0);else if(p>Ae-_t)s.moveTo(f*Be(d),f*ne(d)),s.arc(0,0,f,d,g,!m),h>_t&&(s.moveTo(h*Be(g),h*ne(g)),s.arc(0,0,h,g,d,m));else{var y=d,v=g,b=d,x=g,w=p,S=p,M=o.apply(this,arguments)/2,E=M>_t&&(i?+i.apply(this,arguments):wn(h*h+f*f)),T=hs(If(f-h)/2,+n.apply(this,arguments)),D=T,C=T,_,A;if(E>_t){var $=Pf(E/h*ne(M)),k=Pf(E/f*ne(M));(w-=$*2)>_t?($*=m?1:-1,b+=$,x-=$):(w=0,b=x=(d+g)/2),(S-=k*2)>_t?(k*=m?1:-1,y+=k,v-=k):(S=0,y=v=(d+g)/2)}var R=f*Be(y),Y=f*ne(y),N=h*Be(x),B=h*ne(x);if(T>_t){var X=f*Be(v),F=f*ne(v),at=h*Be(b),et=h*ne(b),J;if(p<Ee&&(J=r3(R,Y,at,et,X,F,N,B))){var lt=R-J[0],Ut=Y-J[1],qt=X-J[0],Vt=F-J[1],P=1/ne(J6((lt*qt+Ut*Vt)/(wn(lt*lt+Ut*Ut)*wn(qt*qt+Vt*Vt)))/2),G=wn(J[0]*J[0]+J[1]*J[1]);D=hs(T,(h-G)/(P-1)),C=hs(T,(f-G)/(P+1))}}S>_t?C>_t?(_=Lr(at,et,R,Y,f,C,m),A=Lr(X,F,N,B,f,C,m),s.moveTo(_.cx+_.x01,_.cy+_.y01),C<T?s.arc(_.cx,_.cy,C,xt(_.y01,_.x01),xt(A.y01,A.x01),!m):(s.arc(_.cx,_.cy,C,xt(_.y01,_.x01),xt(_.y11,_.x11),!m),s.arc(0,0,f,xt(_.cy+_.y11,_.cx+_.x11),xt(A.cy+A.y11,A.cx+A.x11),!m),s.arc(A.cx,A.cy,C,xt(A.y11,A.x11),xt(A.y01,A.x01),!m))):(s.moveTo(R,Y),s.arc(0,0,f,y,v,!m)):s.moveTo(R,Y),!(h>_t)||!(w>_t)?s.lineTo(N,B):D>_t?(_=Lr(N,B,X,F,h,-D,m),A=Lr(R,Y,at,et,h,-D,m),s.lineTo(_.cx+_.x01,_.cy+_.y01),D<T?s.arc(_.cx,_.cy,D,xt(_.y01,_.x01),xt(A.y01,A.x01),!m):(s.arc(_.cx,_.cy,D,xt(_.y01,_.x01),xt(_.y11,_.x11),!m),s.arc(0,0,h,xt(_.cy+_.y11,_.cx+_.x11),xt(A.cy+A.y11,A.cx+A.x11),m),s.arc(A.cx,A.cy,D,xt(A.y11,A.x11),xt(A.y01,A.x01),!m))):s.arc(0,0,h,x,b,m)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,l=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-Ee/2;return[Be(l)*c,ne(l)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Z(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Z(+c),u):e},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Z(+c),u):n},u.padRadius=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:Z(+c),u):i},u.startAngle=function(c){return arguments.length?(r=typeof c=="function"?c:Z(+c),u):r},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Z(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Z(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function X1(t){this._context=t}X1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function So(t){return new X1(t)}function bc(t){return t[0]}function vc(t){return t[1]}function Wi(){var t=bc,e=vc,n=Z(!0),i=null,r=So,a=null;function o(s){var u,c=s.length,l,h=!1,f;for(i==null&&(a=r(f=Pe())),u=0;u<=c;++u)!(u<c&&n(l=s[u],u,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(l,u,s),+e(l,u,s));if(f)return a=null,f+""||null}return o.x=function(s){return arguments.length?(t=typeof s=="function"?s:Z(+s),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:Z(+s),o):e},o.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Z(!!s),o):n},o.curve=function(s){return arguments.length?(r=s,i!=null&&(a=r(i)),o):r},o.context=function(s){return arguments.length?(s==null?i=a=null:a=r(i=s),o):i},o}function xc(){var t=bc,e=null,n=Z(0),i=vc,r=Z(!0),a=null,o=So,s=null;function u(l){var h,f,d,g=l.length,p,m=!1,y,v=new Array(g),b=new Array(g);for(a==null&&(s=o(y=Pe())),h=0;h<=g;++h){if(!(h<g&&r(p=l[h],h,l))===m)if(m=!m)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=h-1;d>=f;--d)s.point(v[d],b[d]);s.lineEnd(),s.areaEnd()}m&&(v[h]=+t(p,h,l),b[h]=+n(p,h,l),s.point(e?+e(p,h,l):v[h],i?+i(p,h,l):b[h]))}if(y)return s=null,y+""||null}function c(){return Wi().defined(r).curve(o).context(a)}return u.x=function(l){return arguments.length?(t=typeof l=="function"?l:Z(+l),e=null,u):t},u.x0=function(l){return arguments.length?(t=typeof l=="function"?l:Z(+l),u):t},u.x1=function(l){return arguments.length?(e=l==null?null:typeof l=="function"?l:Z(+l),u):e},u.y=function(l){return arguments.length?(n=typeof l=="function"?l:Z(+l),i=null,u):n},u.y0=function(l){return arguments.length?(n=typeof l=="function"?l:Z(+l),u):n},u.y1=function(l){return arguments.length?(i=l==null?null:typeof l=="function"?l:Z(+l),u):i},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(i)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Z(!!l),u):r},u.curve=function(l){return arguments.length?(o=l,a!=null&&(s=o(a)),u):o},u.context=function(l){return arguments.length?(l==null?a=s=null:s=o(a=l),u):a},u}function a3(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function o3(t){return t}function s3(){var t=o3,e=a3,n=null,i=Z(0),r=Z(Ae),a=Z(0);function o(s){var u,c=s.length,l,h,f=0,d=new Array(c),g=new Array(c),p=+i.apply(this,arguments),m=Math.min(Ae,Math.max(-Ae,r.apply(this,arguments)-p)),y,v=Math.min(Math.abs(m)/c,a.apply(this,arguments)),b=v*(m<0?-1:1),x;for(u=0;u<c;++u)(x=g[d[u]=u]=+t(s[u],u,s))>0&&(f+=x);for(e!=null?d.sort(function(w,S){return e(g[w],g[S])}):n!=null&&d.sort(function(w,S){return n(s[w],s[S])}),u=0,h=f?(m-c*b)/f:0;u<c;++u,p=y)l=d[u],x=g[l],y=p+(x>0?x*h:0)+b,g[l]={data:s[l],index:u,value:x,startAngle:p,endAngle:y,padAngle:v};return g}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:Z(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(i=typeof s=="function"?s:Z(+s),o):i},o.endAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Z(+s),o):r},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:Z(+s),o):a},o}var F1=_c(So);function G1(t){this._curve=t}G1.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function _c(t){function e(n){return new G1(t(n))}return e._curve=t,e}function yi(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(_c(n)):e()._curve},t}function Nf(){return yi(Wi().curve(F1))}function zf(){var t=xc().curve(F1),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return yi(n())},delete t.lineX0,t.lineEndAngle=function(){return yi(i())},delete t.lineX1,t.lineInnerRadius=function(){return yi(r())},delete t.lineY0,t.lineOuterRadius=function(){return yi(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(_c(o)):e()._curve},t}function bi(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var du=Array.prototype.slice;function u3(t){return t.source}function c3(t){return t.target}function wc(t){var e=u3,n=c3,i=bc,r=vc,a=null;function o(){var s,u=du.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(a||(a=s=Pe()),t(a,+i.apply(this,(u[0]=c,u)),+r.apply(this,u),+i.apply(this,(u[0]=l,u)),+r.apply(this,u)),s)return a=null,s+""||null}return o.source=function(s){return arguments.length?(e=s,o):e},o.target=function(s){return arguments.length?(n=s,o):n},o.x=function(s){return arguments.length?(i=typeof s=="function"?s:Z(+s),o):i},o.y=function(s){return arguments.length?(r=typeof s=="function"?s:Z(+s),o):r},o.context=function(s){return arguments.length?(a=s??null,o):a},o}function l3(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function f3(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function h3(t,e,n,i,r){var a=bi(e,n),o=bi(e,n=(n+r)/2),s=bi(i,n),u=bi(i,r);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function d3(){return wc(l3)}function p3(){return wc(f3)}function g3(){var t=wc(h3);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Mc={draw:function(t,e){var n=Math.sqrt(e/Ee);t.moveTo(n,0),t.arc(0,0,n,0,Ae)}},W1={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var q1=Math.sqrt(1/3),m3=q1*2;const V1={draw:function(t,e){var n=Math.sqrt(e/m3),i=n*q1;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}};var y3=.8908130915292852,Z1=Math.sin(Ee/10)/Math.sin(7*Ee/10),b3=Math.sin(Ae/10)*Z1,v3=-Math.cos(Ae/10)*Z1;const Q1={draw:function(t,e){var n=Math.sqrt(e*y3),i=b3*n,r=v3*n;t.moveTo(0,-n),t.lineTo(i,r);for(var a=1;a<5;++a){var o=Ae*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},K1={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}};var ds=Math.sqrt(3);const J1={draw:function(t,e){var n=-Math.sqrt(e/(ds*3));t.moveTo(0,n*2),t.lineTo(-ds*n,-n),t.lineTo(ds*n,-n),t.closePath()}};var Ht=-.5,Xt=Math.sqrt(3)/2,pu=1/Math.sqrt(12),x3=(pu/2+1)*3;const j1={draw:function(t,e){var n=Math.sqrt(e/x3),i=n/2,r=n*pu,a=i,o=n*pu+n,s=-a,u=o;t.moveTo(i,r),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(Ht*i-Xt*r,Xt*i+Ht*r),t.lineTo(Ht*a-Xt*o,Xt*a+Ht*o),t.lineTo(Ht*s-Xt*u,Xt*s+Ht*u),t.lineTo(Ht*i+Xt*r,Ht*r-Xt*i),t.lineTo(Ht*a+Xt*o,Ht*o-Xt*a),t.lineTo(Ht*s+Xt*u,Ht*u-Xt*s),t.closePath()}};var _3=[Mc,W1,V1,K1,Q1,J1,j1];function w3(){var t=Z(Mc),e=Z(64),n=null;function i(){var r;if(n||(n=r=Pe()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return i.type=function(r){return arguments.length?(t=typeof r=="function"?r:Z(r),i):t},i.size=function(r){return arguments.length?(e=typeof r=="function"?r:Z(+r),i):e},i.context=function(r){return arguments.length?(n=r??null,i):n},i}function Re(){}function Oa(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ko(t){this._context=t}ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oa(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M3(t){return new ko(t)}function tp(t){this._context=t}tp.prototype={areaStart:Re,areaEnd:Re,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Oa(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function S3(t){return new tp(t)}function ep(t){this._context=t}ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Oa(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function k3(t){return new ep(t)}function np(t,e){this._basis=new ko(t),this._beta=e}np.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],r=e[0],a=t[n]-i,o=e[n]-r,s=-1,u;++s<=n;)u=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+u*a),this._beta*e[s]+(1-this._beta)*(r+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const A3=function t(e){function n(i){return e===1?new ko(i):new np(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function Ua(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Sc(t,e){this._context=t,this._k=(1-e)/6}Sc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ua(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ua(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const C3=function t(e){function n(i){return new Sc(i,e)}return n.tension=function(i){return t(+i)},n}(0);function kc(t,e){this._context=t,this._k=(1-e)/6}kc.prototype={areaStart:Re,areaEnd:Re,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ua(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const T3=function t(e){function n(i){return new kc(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Ac(t,e){this._context=t,this._k=(1-e)/6}Ac.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ua(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const D3=function t(e){function n(i){return new Ac(i,e)}return n.tension=function(i){return t(+i)},n}(0);function Cc(t,e,n){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>_t){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>_t){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function ip(t,e){this._context=t,this._alpha=e}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Cc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const L3=function t(e){function n(i){return e?new ip(i,e):new Sc(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function rp(t,e){this._context=t,this._alpha=e}rp.prototype={areaStart:Re,areaEnd:Re,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Cc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const E3=function t(e){function n(i){return e?new rp(i,e):new kc(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function ap(t,e){this._context=t,this._alpha=e}ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const R3=function t(e){function n(i){return e?new ap(i,e):new Ac(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function op(t){this._context=t}op.prototype={areaStart:Re,areaEnd:Re,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $3(t){return new op(t)}function Yf(t){return t<0?-1:1}function Bf(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(Yf(a)+Yf(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Of(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ps(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function Ha(t){this._context=t}Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ps(this,this._t0,Of(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ps(this,Of(this,n=Bf(this,t,e)),n);break;default:ps(this,this._t0,n=Bf(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sp(t){this._context=new up(t)}(sp.prototype=Object.create(Ha.prototype)).point=function(t,e){Ha.prototype.point.call(this,e,t)};function up(t){this._context=t}up.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}};function I3(t){return new Ha(t)}function P3(t){return new sp(t)}function cp(t){this._context=t}cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=Uf(t),r=Uf(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Uf(t){var e,n=t.length-1,i,r=new Array(n),a=new Array(n),o=new Array(n);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/a[e-1],a[e]-=i,o[e]-=i*o[e-1];for(r[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function N3(t){return new cp(t)}function Ao(t,e){this._context=t,this._t=e}Ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function z3(t){return new Ao(t,.5)}function Y3(t){return new Ao(t,0)}function B3(t){return new Ao(t,1)}function On(t,e){if((o=t.length)>1)for(var n=1,i,r,a=t[e[0]],o,s=a.length;n<o;++n)for(r=a,a=t[e[n]],i=0;i<s;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function Un(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function O3(t,e){return t[e]}function U3(){var t=Z([]),e=Un,n=On,i=O3;function r(a){var o=t.apply(this,arguments),s,u=a.length,c=o.length,l=new Array(c),h;for(s=0;s<c;++s){for(var f=o[s],d=l[s]=new Array(u),g=0,p;g<u;++g)d[g]=p=[0,+i(a[g],f,g,a)],p.data=a[g];d.key=f}for(s=0,h=e(l);s<c;++s)l[h[s]].index=s;return n(l,h),l}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Z(du.call(a)),r):t},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:Z(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?Un:typeof a=="function"?a:Z(du.call(a)),r):e},r.offset=function(a){return arguments.length?(n=a??On,r):n},r}function H3(t,e){if((i=t.length)>0){for(var n,i,r=0,a=t[0].length,o;r<a;++r){for(o=n=0;n<i;++n)o+=t[n][r][1]||0;if(o)for(n=0;n<i;++n)t[n][r][1]/=o}On(t,e)}}function X3(t,e){if((u=t.length)>0)for(var n,i=0,r,a,o,s,u,c=t[e[0]].length;i<c;++i)for(o=s=0,n=0;n<u;++n)(a=(r=t[e[n]][i])[1]-r[0])>0?(r[0]=o,r[1]=o+=a):a<0?(r[1]=s,r[0]=s+=a):(r[0]=0,r[1]=a)}function F3(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,a=i.length;n<a;++n){for(var o=0,s=0;o<r;++o)s+=t[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}On(t,e)}}function G3(t,e){if(!(!((o=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,a,o;i<a;++i){for(var s=0,u=0,c=0;s<o;++s){for(var l=t[e[s]],h=l[i][1]||0,f=l[i-1][1]||0,d=(h-f)/2,g=0;g<s;++g){var p=t[e[g]],m=p[i][1]||0,y=p[i-1][1]||0;d+=m-y}u+=h,c+=d*h}r[i-1][1]+=r[i-1][0]=n,u&&(n-=c/u)}r[i-1][1]+=r[i-1][0]=n,On(t,e)}}function lp(t){var e=t.map(W3);return Un(t).sort(function(n,i){return e[n]-e[i]})}function W3(t){for(var e=-1,n=0,i=t.length,r,a=-1/0;++e<i;)(r=+t[e][1])>a&&(a=r,n=e);return n}function fp(t){var e=t.map(hp);return Un(t).sort(function(n,i){return e[n]-e[i]})}function hp(t){for(var e=0,n=-1,i=t.length,r;++n<i;)(r=+t[n][1])&&(e+=r);return e}function q3(t){return fp(t).reverse()}function V3(t){var e=t.length,n,i,r=t.map(hp),a=lp(t),o=0,s=0,u=[],c=[];for(n=0;n<e;++n)i=a[n],o<s?(o+=r[i],u.push(i)):(s+=r[i],c.push(i));return c.reverse().concat(u)}function Z3(t){return Un(t).reverse()}function Hf(t){return function(){return t}}function Q3(t){return t[0]}function K3(t){return t[1]}function Xa(){this._=null}function Co(t){t.U=t.C=t.L=t.R=t.P=t.N=null}Xa.prototype={constructor:Xa,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Xf(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(jn(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ti(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ti(this,n),t=n,n=t.U),n.C=!1,i.C=!0,jn(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,i=t.L,r=t.R,a,o;if(i?r?a=Xf(r):a=i:a=r,e?e.L===t?e.L=a:e.R=a:this._=a,i&&r?(o=a.C,a.C=t.C,a.L=i,i.U=a,a!==r?(e=a.U,a.U=t.U,t=a.R,e.L=t,a.R=r,r.U=a):(a.U=e,e=a,t=a.R)):(o=t.C,t=a),t&&(t.U=e),!o){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,jn(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,ti(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,jn(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,ti(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,jn(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,ti(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function jn(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ti(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Xf(t){for(;t.L;)t=t.L;return t}function vi(t,e,n,i){var r=[null,null],a=wt.push(r)-1;return r.left=t,r.right=e,n&&Fa(r,t,e,n),i&&Fa(r,e,t,i),Bt[t.index].halfedges.push(a),Bt[e.index].halfedges.push(a),r}function ei(t,e,n){var i=[e,n];return i.left=t,i}function Fa(t,e,n,i){!t[0]&&!t[1]?(t[0]=i,t.left=e,t.right=n):t.left===n?t[1]=i:t[0]=i}function J3(t,e,n,i,r){var a=t[0],o=t[1],s=a[0],u=a[1],c=o[0],l=o[1],h=0,f=1,d=c-s,g=l-u,p;if(p=e-s,!(!d&&p>0)){if(p/=d,d<0){if(p<h)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>h&&(h=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>h&&(h=p)}else if(d>0){if(p<h)return;p<f&&(f=p)}if(p=n-u,!(!g&&p>0)){if(p/=g,g<0){if(p<h)return;p<f&&(f=p)}else if(g>0){if(p>f)return;p>h&&(h=p)}if(p=r-u,!(!g&&p<0)){if(p/=g,g<0){if(p>f)return;p>h&&(h=p)}else if(g>0){if(p<h)return;p<f&&(f=p)}return!(h>0)&&!(f<1)||(h>0&&(t[0]=[s+h*d,u+h*g]),f<1&&(t[1]=[s+f*d,u+f*g])),!0}}}}}function j3(t,e,n,i,r){var a=t[1];if(a)return!0;var o=t[0],s=t.left,u=t.right,c=s[0],l=s[1],h=u[0],f=u[1],d=(c+h)/2,g=(l+f)/2,p,m;if(f===l){if(d<e||d>=i)return;if(c>h){if(!o)o=[d,n];else if(o[1]>=r)return;a=[d,r]}else{if(!o)o=[d,r];else if(o[1]<n)return;a=[d,n]}}else if(p=(c-h)/(f-l),m=g-p*d,p<-1||p>1)if(c>h){if(!o)o=[(n-m)/p,n];else if(o[1]>=r)return;a=[(r-m)/p,r]}else{if(!o)o=[(r-m)/p,r];else if(o[1]<n)return;a=[(n-m)/p,n]}else if(l<f){if(!o)o=[e,p*e+m];else if(o[0]>=i)return;a=[i,p*i+m]}else{if(!o)o=[i,p*i+m];else if(o[0]<e)return;a=[e,p*e+m]}return t[0]=o,t[1]=a,!0}function t8(t,e,n,i){for(var r=wt.length,a;r--;)(!j3(a=wt[r],t,e,n,i)||!J3(a,t,e,n,i)||!(Math.abs(a[0][0]-a[1][0])>nt||Math.abs(a[0][1]-a[1][1])>nt))&&delete wt[r]}function e8(t){return Bt[t.index]={site:t,halfedges:[]}}function n8(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function dp(t,e){return e[+(e.left!==t.site)]}function i8(t,e){return e[+(e.left===t.site)]}function r8(){for(var t=0,e=Bt.length,n,i,r,a;t<e;++t)if((n=Bt[t])&&(a=(i=n.halfedges).length)){var o=new Array(a),s=new Array(a);for(r=0;r<a;++r)o[r]=r,s[r]=n8(n,wt[i[r]]);for(o.sort(function(u,c){return s[c]-s[u]}),r=0;r<a;++r)s[r]=i[o[r]];for(r=0;r<a;++r)i[r]=s[r]}}function a8(t,e,n,i){var r=Bt.length,a,o,s,u,c,l,h,f,d,g,p,m,y=!0;for(a=0;a<r;++a)if(o=Bt[a]){for(s=o.site,c=o.halfedges,u=c.length;u--;)wt[c[u]]||c.splice(u,1);for(u=0,l=c.length;u<l;)g=i8(o,wt[c[u]]),p=g[0],m=g[1],h=dp(o,wt[c[++u%l]]),f=h[0],d=h[1],(Math.abs(p-f)>nt||Math.abs(m-d)>nt)&&(c.splice(u,0,wt.push(ei(s,g,Math.abs(p-t)<nt&&i-m>nt?[t,Math.abs(f-t)<nt?d:i]:Math.abs(m-i)<nt&&n-p>nt?[Math.abs(d-i)<nt?f:n,i]:Math.abs(p-n)<nt&&m-e>nt?[n,Math.abs(f-n)<nt?d:e]:Math.abs(m-e)<nt&&p-t>nt?[Math.abs(d-e)<nt?f:t,e]:null))-1),++l);l&&(y=!1)}if(y){var v,b,x,w=1/0;for(a=0,y=null;a<r;++a)(o=Bt[a])&&(s=o.site,v=s[0]-t,b=s[1]-e,x=v*v+b*b,x<w&&(w=x,y=o));if(y){var S=[t,e],M=[t,i],E=[n,i],T=[n,e];y.halfedges.push(wt.push(ei(s=y.site,S,M))-1,wt.push(ei(s,M,E))-1,wt.push(ei(s,E,T))-1,wt.push(ei(s,T,S))-1)}}for(a=0;a<r;++a)(o=Bt[a])&&(o.halfedges.length||delete Bt[a])}var pp=[],Tc;function o8(){Co(this),this.x=this.y=this.arc=this.site=this.cy=null}function Mn(t){var e=t.P,n=t.N;if(!(!e||!n)){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r[0],s=r[1],u=i[0]-o,c=i[1]-s,l=a[0]-o,h=a[1]-s,f=2*(u*h-c*l);if(!(f>=-f8)){var d=u*u+c*c,g=l*l+h*h,p=(h*d-c*g)/f,m=(u*g-l*d)/f,y=pp.pop()||new o8;y.arc=t,y.site=r,y.x=p+o,y.y=(y.cy=m+s)+Math.sqrt(p*p+m*m),t.circle=y;for(var v=null,b=qi._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x)if(b.L)b=b.L;else{v=b.P;break}else if(b.R)b=b.R;else{v=b;break}qi.insert(v,y),v||(Tc=y)}}}}function Tn(t){var e=t.circle;e&&(e.P||(Tc=e.N),qi.remove(e),pp.push(e),Co(e),t.circle=null)}var gp=[];function s8(){Co(this),this.edge=this.site=this.circle=null}function Ff(t){var e=gp.pop()||new s8;return e.site=t,e}function gs(t){Tn(t),Dn.remove(t),gp.push(t),Co(t)}function u8(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],a=t.P,o=t.N,s=[t];gs(t);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<nt&&Math.abs(i-u.circle.cy)<nt;)a=u.P,s.unshift(u),gs(u),u=a;s.unshift(u),Tn(u);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<nt&&Math.abs(i-c.circle.cy)<nt;)o=c.N,s.push(c),gs(c),c=o;s.push(c),Tn(c);var l=s.length,h;for(h=1;h<l;++h)c=s[h],u=s[h-1],Fa(c.edge,u.site,c.site,r);u=s[0],c=s[l-1],c.edge=vi(u.site,c.site,null,r),Mn(u),Mn(c)}function c8(t){for(var e=t[0],n=t[1],i,r,a,o,s=Dn._;s;)if(a=mp(s,n)-e,a>nt)s=s.L;else if(o=e-l8(s,n),o>nt){if(!s.R){i=s;break}s=s.R}else{a>-nt?(i=s.P,r=s):o>-nt?(i=s,r=s.N):i=r=s;break}e8(t);var u=Ff(t);if(Dn.insert(i,u),!(!i&&!r)){if(i===r){Tn(i),r=Ff(i.site),Dn.insert(u,r),u.edge=r.edge=vi(i.site,u.site),Mn(i),Mn(r);return}if(!r){u.edge=vi(i.site,u.site);return}Tn(i),Tn(r);var c=i.site,l=c[0],h=c[1],f=t[0]-l,d=t[1]-h,g=r.site,p=g[0]-l,m=g[1]-h,y=2*(f*m-d*p),v=f*f+d*d,b=p*p+m*m,x=[(m*v-d*b)/y+l,(f*b-p*v)/y+h];Fa(r.edge,c,g,x),u.edge=vi(c,t,null,x),r.edge=vi(t,g,null,x),Mn(i),Mn(r)}}function mp(t,e){var n=t.site,i=n[0],r=n[1],a=r-e;if(!a)return i;var o=t.P;if(!o)return-1/0;n=o.site;var s=n[0],u=n[1],c=u-e;if(!c)return s;var l=s-i,h=1/a-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+r-a/2)))/h+i:(i+s)/2}function l8(t,e){var n=t.N;if(n)return mp(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var nt=1e-6,f8=1e-12,Dn,Bt,qi,wt;function h8(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function d8(t,e){return e[1]-t[1]||e[0]-t[0]}function gu(t,e){var n=t.sort(d8).pop(),i,r,a;for(wt=[],Bt=new Array(t.length),Dn=new Xa,qi=new Xa;;)if(a=Tc,n&&(!a||n[1]<a.y||n[1]===a.y&&n[0]<a.x))(n[0]!==i||n[1]!==r)&&(c8(n),i=n[0],r=n[1]),n=t.pop();else if(a)u8(a.arc);else break;if(r8(),e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];t8(o,s,u,c),a8(o,s,u,c)}this.edges=wt,this.cells=Bt,Dn=qi=wt=Bt=null}gu.prototype={constructor:gu,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(i){return dp(e,t[i])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(s=(a=n.halfedges).length)for(var r=n.site,a,o=-1,s,u,c=e[a[s-1]],l=c.left===r?c.right:c.left;++o<s;)u=l,c=e[a[o]],l=c.left===r?c.right:c.left,u&&l&&i<u.index&&i<l.index&&h8(r,u,l)<0&&t.push([r.data,u.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i=this,r,a=i._found||0,o=i.cells.length,s;!(s=i.cells[a]);)if(++a>=o)return null;var u=t-s.site[0],c=e-s.site[1],l=u*u+c*c;do s=i.cells[r=a],a=null,s.halfedges.forEach(function(h){var f=i.edges[h],d=f.left;if(!((d===s.site||!d)&&!(d=f.right))){var g=t-d[0],p=e-d[1],m=g*g+p*p;m<l&&(l=m,a=d.index)}});while(a!==null);return i._found=r,n==null||l<=n*n?s.site:null}};function p8(){var t=Q3,e=K3,n=null;function i(r){return new gu(r.map(function(a,o){var s=[Math.round(t(a,o,r)/nt)*nt,Math.round(e(a,o,r)/nt)*nt];return s.index=o,s.data=a,s}),n)}return i.polygons=function(r){return i(r).polygons()},i.links=function(r){return i(r).links()},i.triangles=function(r){return i(r).triangles()},i.x=function(r){return arguments.length?(t=typeof r=="function"?r:Hf(+r),i):t},i.y=function(r){return arguments.length?(e=typeof r=="function"?r:Hf(+r),i):e},i.extent=function(r){return arguments.length?(n=r==null?null:[[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(r){return arguments.length?(n=r==null?null:[[0,0],[+r[0],+r[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i}function Er(t){return function(){return t}}function g8(t,e,n){this.target=t,this.type=e,this.transform=n}function ye(t,e,n){this.k=t,this.x=e,this.y=n}ye.prototype={constructor:ye,scale:function(t){return t===1?this:new ye(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ye(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var To=new ye(1,0,0);yp.prototype=ye.prototype;function yp(t){for(;!t.__zoom;)if(!(t=t.parentNode))return To;return t.__zoom}function ms(){L.stopImmediatePropagation()}function ni(){L.preventDefault(),L.stopImmediatePropagation()}function m8(){return!L.ctrlKey&&!L.button}function y8(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Gf(){return this.__zoom||To}function b8(){return-L.deltaY*(L.deltaMode===1?.05:L.deltaMode?1:.002)}function v8(){return navigator.maxTouchPoints||"ontouchstart"in this}function x8(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function _8(){var t=m8,e=y8,n=x8,i=b8,r=v8,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Gh,c=sn("start","zoom","end"),l,h,f=500,d=150,g=0;function p(_){_.property("__zoom",Gf).on("wheel.zoom",S).on("mousedown.zoom",M).on("dblclick.zoom",E).filter(r).on("touchstart.zoom",T).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(_,A,$){var k=_.selection?_.selection():_;k.property("__zoom",Gf),_!==k?b(_,A,$):k.interrupt().each(function(){x(this,arguments).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},p.scaleBy=function(_,A,$){p.scaleTo(_,function(){var k=this.__zoom.k,R=typeof A=="function"?A.apply(this,arguments):A;return k*R},$)},p.scaleTo=function(_,A,$){p.transform(_,function(){var k=e.apply(this,arguments),R=this.__zoom,Y=$==null?v(k):typeof $=="function"?$.apply(this,arguments):$,N=R.invert(Y),B=typeof A=="function"?A.apply(this,arguments):A;return n(y(m(R,B),Y,N),k,o)},$)},p.translateBy=function(_,A,$){p.transform(_,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),o)})},p.translateTo=function(_,A,$,k){p.transform(_,function(){var R=e.apply(this,arguments),Y=this.__zoom,N=k==null?v(R):typeof k=="function"?k.apply(this,arguments):k;return n(To.translate(N[0],N[1]).scale(Y.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof $=="function"?-$.apply(this,arguments):-$),R,o)},k)};function m(_,A){return A=Math.max(a[0],Math.min(a[1],A)),A===_.k?_:new ye(A,_.x,_.y)}function y(_,A,$){var k=A[0]-$[0]*_.k,R=A[1]-$[1]*_.k;return k===_.x&&R===_.y?_:new ye(_.k,k,R)}function v(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function b(_,A,$){_.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var k=this,R=arguments,Y=x(k,R),N=e.apply(k,R),B=$==null?v(N):typeof $=="function"?$.apply(k,R):$,X=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),F=k.__zoom,at=typeof A=="function"?A.apply(k,R):A,et=u(F.invert(B).concat(X/F.k),at.invert(B).concat(X/at.k));return function(J){if(J===1)J=at;else{var lt=et(J),Ut=X/lt[2];J=new ye(Ut,B[0]-lt[0]*Ut,B[1]-lt[1]*Ut)}Y.zoom(null,J)}})}function x(_,A,$){return!$&&_.__zooming||new w(_,A)}function w(_,A){this.that=_,this.args=A,this.active=0,this.extent=e.apply(_,A),this.taps=0}w.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,A){return this.mouse&&_!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){Ti(new g8(p,_,this.that.__zoom),c.apply,c,[_,this.that,this.args])}};function S(){if(!t.apply(this,arguments))return;var _=x(this,arguments),A=this.__zoom,$=Math.max(a[0],Math.min(a[1],A.k*Math.pow(2,i.apply(this,arguments)))),k=Xe(this);if(_.wheel)(_.mouse[0][0]!==k[0]||_.mouse[0][1]!==k[1])&&(_.mouse[1]=A.invert(_.mouse[0]=k)),clearTimeout(_.wheel);else{if(A.k===$)return;_.mouse=[k,A.invert(k)],Ge(this),_.start()}ni(),_.wheel=setTimeout(R,d),_.zoom("mouse",n(y(m(A,$),_.mouse[0],_.mouse[1]),_.extent,o));function R(){_.wheel=null,_.end()}}function M(){if(h||!t.apply(this,arguments))return;var _=x(this,arguments,!0),A=Q(L.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",N,!0),$=Xe(this),k=L.clientX,R=L.clientY;Ja(L.view),ms(),_.mouse=[$,this.__zoom.invert($)],Ge(this),_.start();function Y(){if(ni(),!_.moved){var B=L.clientX-k,X=L.clientY-R;_.moved=B*B+X*X>g}_.zoom("mouse",n(y(_.that.__zoom,_.mouse[0]=Xe(_.that),_.mouse[1]),_.extent,o))}function N(){A.on("mousemove.zoom mouseup.zoom",null),ja(L.view,_.moved),ni(),_.end()}}function E(){if(t.apply(this,arguments)){var _=this.__zoom,A=Xe(this),$=_.invert(A),k=_.k*(L.shiftKey?.5:2),R=n(y(m(_,k),A,$),e.apply(this,arguments),o);ni(),s>0?Q(this).transition().duration(s).call(b,R,A):Q(this).call(p.transform,R)}}function T(){if(t.apply(this,arguments)){var _=L.touches,A=_.length,$=x(this,arguments,L.changedTouches.length===A),k,R,Y,N;for(ms(),R=0;R<A;++R)Y=_[R],N=Di(this,_,Y.identifier),N=[N,this.__zoom.invert(N),Y.identifier],$.touch0?!$.touch1&&$.touch0[2]!==N[2]&&($.touch1=N,$.taps=0):($.touch0=N,k=!0,$.taps=1+!!l);l&&(l=clearTimeout(l)),k&&($.taps<2&&(l=setTimeout(function(){l=null},f)),Ge(this),$.start())}}function D(){if(this.__zooming){var _=x(this,arguments),A=L.changedTouches,$=A.length,k,R,Y,N;for(ni(),l&&(l=clearTimeout(l)),_.taps=0,k=0;k<$;++k)R=A[k],Y=Di(this,A,R.identifier),_.touch0&&_.touch0[2]===R.identifier?_.touch0[0]=Y:_.touch1&&_.touch1[2]===R.identifier&&(_.touch1[0]=Y);if(R=_.that.__zoom,_.touch1){var B=_.touch0[0],X=_.touch0[1],F=_.touch1[0],at=_.touch1[1],et=(et=F[0]-B[0])*et+(et=F[1]-B[1])*et,J=(J=at[0]-X[0])*J+(J=at[1]-X[1])*J;R=m(R,Math.sqrt(et/J)),Y=[(B[0]+F[0])/2,(B[1]+F[1])/2],N=[(X[0]+at[0])/2,(X[1]+at[1])/2]}else if(_.touch0)Y=_.touch0[0],N=_.touch0[1];else return;_.zoom("touch",n(y(R,Y,N),_.extent,o))}}function C(){if(this.__zooming){var _=x(this,arguments),A=L.changedTouches,$=A.length,k,R;for(ms(),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),k=0;k<$;++k)R=A[k],_.touch0&&_.touch0[2]===R.identifier?delete _.touch0:_.touch1&&_.touch1[2]===R.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2){var Y=Q(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return p.wheelDelta=function(_){return arguments.length?(i=typeof _=="function"?_:Er(+_),p):i},p.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Er(!!_),p):t},p.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Er(!!_),p):r},p.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Er([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),p):e},p.scaleExtent=function(_){return arguments.length?(a[0]=+_[0],a[1]=+_[1],p):[a[0],a[1]]},p.translateExtent=function(_){return arguments.length?(o[0][0]=+_[0][0],o[1][0]=+_[1][0],o[0][1]=+_[0][1],o[1][1]=+_[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(_){return arguments.length?(n=_,p):n},p.duration=function(_){return arguments.length?(s=+_,p):s},p.interpolate=function(_){return arguments.length?(u=_,p):u},p.on=function(){var _=c.on.apply(c,arguments);return _===c?p:_},p.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,p):Math.sqrt(g)},p}const w8=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:lo,active:Vb,arc:H1,area:xc,areaRadial:zf,ascending:$e,autoType:J2,axisBottom:oh,axisLeft:sh,axisRight:ah,axisTop:ig,bisect:Ce,bisectLeft:$p,bisectRight:Ce,bisector:mu,blob:ev,brush:s2,brushSelection:r2,brushX:a2,brushY:o2,buffer:iv,chord:c2,clientPoint:Ka,cluster:h_,color:De,contourDensity:N2,contours:u0,create:Am,creator:Za,cross:Pp,csv:ov,csvFormat:U2,csvFormatBody:H2,csvFormatRow:F2,csvFormatRows:X2,csvFormatValue:G2,csvParse:l0,csvParseRows:O2,cubehelix:jt,curveBasis:M3,curveBasisClosed:S3,curveBasisOpen:k3,curveBundle:A3,curveCardinal:C3,curveCardinalClosed:T3,curveCardinalOpen:D3,curveCatmullRom:L3,curveCatmullRomClosed:E3,curveCatmullRomOpen:R3,curveLinear:So,curveLinearClosed:$3,curveMonotoneX:I3,curveMonotoneY:P3,curveNatural:N3,curveStep:z3,curveStepAfter:B3,curveStepBefore:Y3,customEvent:Ti,descending:Np,deviation:th,dispatch:sn,drag:yh,dragDisable:Ja,dragEnable:ja,dsv:av,dsvFormat:so,easeBack:rl,easeBackIn:Ub,easeBackInOut:rl,easeBackOut:Hb,easeBounce:Pi,easeBounceIn:Bb,easeBounceInOut:Ob,easeBounceOut:Pi,easeCircle:il,easeCircleIn:Db,easeCircleInOut:il,easeCircleOut:Lb,easeCubic:Is,easeCubicIn:_b,easeCubicInOut:Is,easeCubicOut:wb,easeElastic:na,easeElasticIn:Xb,easeElasticInOut:Fb,easeElasticOut:na,easeExp:nl,easeExpIn:Cb,easeExpInOut:nl,easeExpOut:Tb,easeLinear:bb,easePoly:tl,easePolyIn:Mb,easePolyInOut:tl,easePolyOut:Sb,easeQuad:jc,easeQuadIn:vb,easeQuadInOut:jc,easeQuadOut:xb,easeSin:el,easeSinIn:kb,easeSinInOut:el,easeSinOut:Ab,entries:M2,get event(){return L},extent:yu,forceCenter:pv,forceCollide:p0,forceLink:Iv,forceManyBody:m0,forceRadial:Bv,forceSimulation:g0,forceX:Hr,forceY:Xr,get format(){return tr},formatDefaultLocale:v0,formatLocale:b0,get formatPrefix(){return Uu},formatSpecifier:zi,geoAlbers:id,geoAlbersUsa:Fx,geoArea:Zv,geoAzimuthalEqualArea:Gx,geoAzimuthalEqualAreaRaw:Ku,geoAzimuthalEquidistant:Wx,geoAzimuthalEquidistantRaw:Ju,geoBounds:jv,geoCentroid:ax,geoCircle:ox,geoClipAntimeridian:Ks,geoClipCircle:U0,geoClipExtent:dx,geoClipRectangle:fo,geoConicConformal:Vx,geoConicConformalRaw:od,geoConicEqualArea:La,geoConicEqualAreaRaw:nd,geoConicEquidistant:Qx,geoConicEquidistantRaw:sd,geoContains:xx,geoDistance:wa,geoEqualEarth:Jx,geoEqualEarthRaw:ju,geoEquirectangular:Zx,geoEquirectangularRaw:Oi,geoGnomonic:jx,geoGnomonicRaw:tc,geoGraticule:F0,geoGraticule10:_x,geoIdentity:t_,geoInterpolate:wx,geoLength:H0,geoMercator:qx,geoMercatorRaw:rr,geoNaturalEarth1:e_,geoNaturalEarth1Raw:ec,geoOrthographic:n_,geoOrthographicRaw:nc,geoPath:Ix,geoProjection:he,geoProjectionMutator:Zu,geoRotation:P0,geoStereographic:i_,geoStereographicRaw:ic,geoStream:Zt,geoTransform:Px,geoTransverseMercator:r_,geoTransverseMercatorRaw:rc,gray:Xm,hcl:jr,hierarchy:ac,histogram:Op,hsl:Qr,html:hv,image:uv,interpolate:ji,interpolateArray:Zm,interpolateBasis:Eh,interpolateBasisClosed:Rh,interpolateBlues:R6,interpolateBrBG:f6,interpolateBuGn:x6,interpolateBuPu:_6,interpolateCividis:Y6,interpolateCool:U6,interpolateCubehelix:ly,interpolateCubehelixDefault:B6,interpolateCubehelixLong:io,interpolateDate:Yh,interpolateDiscrete:Jm,interpolateGnBu:w6,interpolateGreens:$6,interpolateGreys:I6,interpolateHcl:uy,interpolateHclLong:cy,interpolateHsl:ay,interpolateHslLong:oy,interpolateHue:jm,interpolateInferno:Z6,interpolateLab:sy,interpolateMagma:V6,interpolateNumber:Gt,interpolateNumberArray:Lu,interpolateObject:Bh,interpolateOrRd:M6,interpolateOranges:z6,interpolatePRGn:h6,interpolatePiYG:d6,interpolatePlasma:Q6,interpolatePuBu:k6,interpolatePuBuGn:S6,interpolatePuOr:p6,interpolatePuRd:A6,interpolatePurples:P6,interpolateRainbow:H6,interpolateRdBu:g6,interpolateRdGy:m6,interpolateRdPu:C6,interpolateRdYlBu:y6,interpolateRdYlGn:b6,interpolateReds:N6,interpolateRgb:Ri,interpolateRgbBasis:Ph,interpolateRgbBasisClosed:Vm,interpolateRound:Oh,interpolateSinebow:G6,interpolateSpectral:v6,interpolateString:Eu,interpolateTransformCss:Xh,interpolateTransformSvg:Fh,interpolateTurbo:W6,interpolateViridis:q6,interpolateWarm:O6,interpolateYlGn:D6,interpolateYlGnBu:T6,interpolateYlOrBr:L6,interpolateYlOrRd:E6,interpolateZoom:Gh,interrupt:Ge,interval:my,isoFormat:F5,isoParse:q5,json:lv,keys:_2,lab:Jr,lch:Fm,line:Wi,lineRadial:Nf,linkHorizontal:d3,linkRadial:g3,linkVertical:p3,local:mh,map:be,matcher:wu,max:nh,mean:Xp,median:Fp,merge:xu,min:ih,mouse:Xe,namespace:Ki,namespaces:Ss,nest:b2,now:Xn,pack:z_,packEnclose:cd,packSiblings:I_,pairs:Ip,partition:Y_,path:Pe,permute:Gp,pie:s3,piecewise:fy,pointRadial:bi,polygonArea:j_,polygonCentroid:tw,polygonContains:rw,polygonHull:iw,polygonLength:aw,precisionFixed:x0,precisionPrefix:_0,precisionRound:w0,quadtree:co,quantile:Ci,quantize:hy,radialArea:zf,radialLine:Nf,randomBates:uw,randomExponential:cw,randomIrwinHall:bd,randomLogNormal:sw,randomNormal:yd,randomUniform:ow,range:Ot,rgb:En,ribbon:y2,scaleBand:oc,scaleDiverging:h1,scaleDivergingLog:d1,scaleDivergingPow:yc,scaleDivergingSqrt:t6,scaleDivergingSymlog:p1,scaleIdentity:Md,scaleImplicit:lu,scaleLinear:Bn,scaleLog:kd,scaleOrdinal:or,scalePoint:go,scalePow:yo,scaleQuantile:Cd,scaleQuantize:lc,scaleSequential:u1,scaleSequentialLog:c1,scaleSequentialPow:mc,scaleSequentialQuantile:f1,scaleSequentialSqrt:j5,scaleSequentialSymlog:l1,scaleSqrt:xw,scaleSymlog:Ad,scaleThreshold:Td,scaleTime:K5,scaleUtc:J5,scan:Wp,schemeAccent:n6,schemeBlues:N1,schemeBrBG:g1,schemeBuGn:S1,schemeBuPu:k1,schemeCategory10:e6,schemeDark2:i6,schemeGnBu:A1,schemeGreens:z1,schemeGreys:Y1,schemeOrRd:C1,schemeOranges:U1,schemePRGn:m1,schemePaired:r6,schemePastel1:a6,schemePastel2:o6,schemePiYG:y1,schemePuBu:D1,schemePuBuGn:T1,schemePuOr:b1,schemePuRd:L1,schemePurples:B1,schemeRdBu:v1,schemeRdGy:x1,schemeRdPu:E1,schemeRdYlBu:_1,schemeRdYlGn:w1,schemeReds:O1,schemeSet1:s6,schemeSet2:u6,schemeSet3:c6,schemeSpectral:M1,schemeTableau10:l6,schemeYlGn:$1,schemeYlGnBu:R1,schemeYlOrBr:I1,schemeYlOrRd:P1,select:Q,selectAll:Tm,selection:un,selector:Qa,selectorAll:_u,set:o0,shuffle:qp,stack:U3,stackOffsetDiverging:X3,stackOffsetExpand:H3,stackOffsetNone:On,stackOffsetSilhouette:F3,stackOffsetWiggle:G3,stackOrderAppearance:lp,stackOrderAscending:fp,stackOrderDescending:q3,stackOrderInsideOut:V3,stackOrderNone:Un,stackOrderReverse:Z3,stratify:H_,style:Ve,sum:Vp,svg:dv,symbol:w3,symbolCircle:Mc,symbolCross:W1,symbolDiamond:V1,symbolSquare:K1,symbolStar:Q1,symbolTriangle:J1,symbolWye:j1,symbols:_3,text:uo,thresholdFreedmanDiaconis:Up,thresholdScott:Hp,thresholdSturges:vu,tickFormat:wd,tickIncrement:xi,tickStep:qe,ticks:bu,timeDay:bo,timeDays:Mw,get timeFormat(){return dc},timeFormatDefaultLocale:o1,timeFormatLocale:t1,timeFriday:Bd,timeFridays:Tw,timeHour:Pd,timeHours:ww,timeInterval:dt,timeMillisecond:Pa,timeMilliseconds:vf,timeMinute:$d,timeMinutes:_w,timeMonday:Hi,timeMondays:Sw,timeMonth:Hd,timeMonths:Lw,get timeParse(){return a1},timeSaturday:Od,timeSaturdays:Dw,timeSecond:Ya,timeSeconds:xf,timeSunday:Ui,timeSundays:_f,timeThursday:en,timeThursdays:Cw,timeTuesday:zd,timeTuesdays:kw,timeWednesday:Yd,timeWednesdays:Aw,timeWeek:Ui,timeWeeks:_f,timeYear:nn,timeYears:Ew,timeout:Ls,timer:ao,timerFlush:Kh,touch:Di,touches:Dm,transition:e0,transpose:rh,tree:V_,treemap:Z_,treemapBinary:Q_,treemapDice:ar,treemapResquarify:J_,treemapSlice:po,treemapSliceDice:K_,treemapSquarify:md,tsv:sv,tsvFormat:q2,tsvFormatBody:V2,tsvFormatRow:Q2,tsvFormatRows:Z2,tsvFormatValue:K2,tsvParse:f0,tsvParseRows:W2,utcDay:vo,utcDays:Iw,get utcFormat(){return xo},utcFriday:Qd,utcFridays:Bw,utcHour:Wd,utcHours:$w,utcMillisecond:Pa,utcMilliseconds:vf,utcMinute:Fd,utcMinutes:Rw,utcMonday:Fi,utcMondays:Pw,utcMonth:jd,utcMonths:Uw,get utcParse(){return pc},utcSaturday:Kd,utcSaturdays:Ow,utcSecond:Ya,utcSeconds:xf,utcSunday:Xi,utcSundays:wf,utcThursday:rn,utcThursdays:Yw,utcTuesday:Vd,utcTuesdays:Nw,utcWednesday:Zd,utcWednesdays:zw,utcWeek:Xi,utcWeeks:wf,utcYear:an,utcYears:Hw,values:w2,variance:jf,version:Ep,voronoi:p8,window:Mu,xml:fv,zip:Qp,zoom:_8,zoomIdentity:To,zoomTransform:yp},Symbol.toStringTag,{value:"Module"})),bp=(t,e=250)=>{let n;return(...i)=>{let r;return n&&clearTimeout(n),n=setTimeout(()=>{r=t(...i)},e),r}};function M8({D3Module:t,props:e,listenersKeys:n}){const i=se(void 0),r=se(),o=bp(()=>{i.value&&i.value.render&&i.value.render()}),s=g=>g&&i.value.setParams&&i.value.setParams(g),u=g=>g&&i.value.setData&&i.value.setData(g),c=g=>g&&i.value.setDataset&&i.value.setDataset(g),l=g=>g&&i.value.setDatum&&i.value.setDatum(g),h=g=>g&&i.value.filter&&i.value.filter(g),f=({width:g,height:p})=>{i.value.resize&&i.value.resize({width:g&&typeof g=="number"?g:i.value.width,height:p&&typeof p=="number"?p:i.value.height})},d=g=>{g&&i.value.zoom&&i.value.transform&&i.value.transformZoom&&i.value.initZoom&&(i.value.initZoom(i.value.zoom),i.value.transformZoom(g))};return ie(()=>e.params,g=>{s(g||{})}),ie(()=>e.data,g=>{u(g)}),ie(()=>e.dataset,g=>{c(g)}),ie(()=>e.datum,g=>{l(g)}),ie(()=>e.filter,g=>{h(g)}),ie(()=>[e.width,e.height],({width:g,height:p})=>{(e.width||e.height)&&f({width:g,height:p})}),ie(()=>e.zoom,g=>{d(g)}),{d3Module:i,debounceRender:o,createModule(g){r.value=g,i.value=new t(Q(g),e.params||{}),s(e.params||{}),u(e.data),c(e.dataset),l(e.datum),h(e.filter),f({width:e.width,height:e.height}),d(e.zoom)},eventHandler(g){let p=g;n.forEach(m=>{i.value.on!=null&&i.value.on(m,y=>{p&&(console.log(m,y),p(m,y))})})}}}function S8(t){const e=se({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0}),n=bp(r=>{const a=r[0];e.value=a.contentRect});return new ResizeObserver((r,a)=>{n(r)}).observe(t),e}const ys=800,Wf=500,k8=(t,e)=>e?Object.keys(e):t?Object.keys(t).filter(n=>n.substring(0,2)==="on").map(n=>`${n.substring(2,3).toLowerCase()}${n.substring(3,n.length)}`):[],A8=kp({props:{module:{},params:{},data:{},datum:{},dataset:{},filter:{},width:{default:()=>0},height:{default:()=>0},forceFit:{default:()=>!0},zoom:{}},setup(t,{emit:e,listeners:n}){const i=Ap(),r=k8(i,n),a=se(null),o=se(null),s=Lc(()=>{let p=`${ys}px`;return t.forceFit&&!t.width?p="100%":typeof t.width=="string"?p=t.width:typeof t.width=="number"&&t.width?p=`${t.width}px`:p=`${ys}px`,p}),u=Lc(()=>{let p=`${Wf}px`;return typeof t.height=="string"?p=t.height:typeof t.height=="number"&&t.height&&(p=`${t.height}px`),p}),c=se(ys),l=se(Wf),{d3Module:h,createModule:f,eventHandler:d,debounceRender:g}=M8({D3Module:t.module,props:t,listenersKeys:r});return Cp(()=>{f(o.value),d((p,m)=>{e(p,m)}),setTimeout(()=>{if(c.value=a.value.clientWidth,l.value=a.value.clientHeight,t.forceFit){const p=S8(a.value);ie(p,()=>{c.value=p.value.width,l.value=p.value.height,h.value.resize&&h.value.resize({width:c.value,height:l.value}),g(),e("resize",{width:c.value,height:l.value})})}else g();ie(t,()=>g()),ie(()=>[t.width,t.height],()=>{e("resize",{width:t.width,height:t.height})})})}),{d3Module:h,container:a,svg:o,containerWidth:s,containerHeight:u,svgWidth:c,svgHeight:l}}}),vp=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},C8=["width","height"];function T8(t,e,n,i,r,a){return Ai(),Vr("div",{ref:"container",style:Tp([{position:"relative"},{width:t.containerWidth,height:t.containerHeight}])},[(Ai(),Vr("svg",{ref:"svg","xmlns:xlink":"http://www.w3.org/1999/xlink",xmls:"http://www.w3.org/2000/svg",version:"1.1",style:{position:"absolute"},width:t.svgWidth,height:t.svgHeight},null,8,C8))],4)}const xp=vp(A8,[["render",T8]]),Mt=["#67B7DC","#6794DC","#6771DC","#8067DC","#A367DC","#C767DC","#DC67CE","#DC67AB","#DC6788","#DC6967","#DC8C67","#DCAF67"],Ga=800,Wa=500,on={top:50,right:70,bottom:50,left:70},_p="#e1e1e1",We="#7b7b7b",Dc={offsetX:20,offsetY:5,type:"white",templateHtml:()=>""},D8={...Dc,templateHtml:()=>"",yLine:void 0,alignCenter:void 0};({...Dc});class wp{constructor(e,n){this.params=Dc,this.datum={x:-1,y:-1,data:null},this.renderData={_sourceData:{x:-1,y:-1},x:-1,y:-1,contentHtml:""},this.setTooltipStyle=i=>{},this.render=()=>{this.renderTooltip([this.renderData])},this.selection=e,this.params={...this.params,...n},this.params.type==="black"?this.setTooltipStyle=i=>{i.style("pointer-events","none").style("white-space","nowrap").style("padding","10px 10px").style("background","#333333").style("border-radius","5px").style("opacity",.9).style("color","white").style("font-size","14px").style("text-align","left")}:this.params.type==="white"&&(this.setTooltipStyle=i=>{i.style("pointer-events","none").style("white-space","nowrap").style("padding","10px 15px").style("background-color","rgba(255,255,255,.8)").style("border","1px solid rgba(152,152,152,0.5)").style("border-radius","5px").style("color","black").style("font-size","12px").style("line-height","20px").style("text-align","left")})}setDatum(e){if(e!=null&&e.data&&(this.datum.data=e.data,this.renderData.contentHtml=this.params.templateHtml?this.params.templateHtml(e.data):""),!this.renderData.contentHtml)return;const n=(e==null?void 0:e.x)??L.clientX,i=(e==null?void 0:e.y)??L.clientY;this.datum.x=n,this.datum.y=i,this.renderData.x=n,this.renderData.y=i,this.render()}select(){return this.selection}}function L8(t){var i;const e=document.createElementNS("http://www.w3.org/1999/xhtml","div");e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";const n=document.createDocumentFragment();for(;n&&((i=e==null?void 0:e.firstChild)!=null&&i.firstChild);)n.appendChild(e.firstChild.firstChild);return n}function y4(t,e){const n=t.node();for(;n.hasChildNodes();)n.removeChild(n.firstChild);t.node().appendChild(L8(e))}function E8(t,{text:e,radius:n,lineHeight:i,isBreakAll:r=!1,limit:a=0}){if(t==null||e==null){console.error("selection or text is not defined");return}n==null&&(n=t.node().getBBox().width/2);function o(d){let g;return r?g=d.split(""):g=d.split(/\s+/g),g[g.length-1]||g.pop(),g[0]||g.shift(),g}function s(d,g){return d&&g&&d.length>g&&(d=d.substring(0,g)+"..."),d}function u(d){var p;const g=document.createElement("canvas").getContext("2d");return((p=g==null?void 0:g.measureText(d))==null?void 0:p.width)??0}function c(d){const g=u(d.trim());return Math.sqrt(g*i)}function l(d,g){let p={width:0,text:""},m=1/0;const y=[];let v=" ";r&&(v="");for(let b=0,x=d.length;b<x;++b){const w=(p.text?p.text+v:"")+d[b],S=u(w);(m+S)/2<g?(p.width=m=S,p.text=w):(m=u(d[b]),p={width:m,text:d[b]},y.push(p))}return y}function h(d){let g=0;for(let p=0,m=d.length;p<m;++p){const y=(Math.abs(p-m/2+.5)+.5)*i,v=d[p].width/2;g=Math.max(g,Math.sqrt(v**2+y**2))}return g}function f(d,g){a>0&&(g=s(g,a));const p=o(g),m=c(g),y=l(p,m),v=h(y);let b=d.select("text");b.size()||(b=d.append("text")),b.attr("transform",`translate(0,0) scale(${n/v})`);const x=b.selectAll("tspan").data(y);return x.enter().append("tspan").attr("x",0).merge(x).attr("y",(w,S)=>(S-y.length/2+.8)*i).text(w=>w.text),x.exit().remove(),d.node()}f(t,e)}function qa(t){try{return t.node().getBoundingClientRect()}catch(e){throw new Error(e)}}const qf=(t,e)=>e instanceof Function?e(t):tr(e)(t);class R8 extends wp{constructor(e,n){super(e,n),this.params=D8,this.tooltipSelection=void 0,this.lineSelection=void 0,this.containerSize={height:0,width:0,x:0,y:0},this.setParams(n??this.params)}setParams(e){this.params={...this.params,...e}}doRenderTooltip(e){try{this.tooltipSelection.interrupt("fadeout")}catch{}const n=this.tooltipSelection&&this.tooltipSelection.node()?qa(this.tooltipSelection):{width:0,height:0},i=this.containerSize.x+this.containerSize.width-n.width,r=this.containerSize.y+this.containerSize.height-n.height,a=u=>{u.style("left",c=>c.x<i?`${c.x+20}px`:`${c.x-n.width-20}px`).style("top",c=>this.params.alignCenter?this.containerSize.y+this.containerSize.height/2-n.height/2:c.y<r?`${c.y}px`:`${r+5}px`)},o=Q("body").selectAll(".bpchat___tooltip").data(e);o.transition().duration(50).call(a).on("interrupt",(u,c,l)=>{Q(l[c]).style("opacity",1)});const s=o.enter().append("div").classed("bpchat___tooltip",!0).call(this.setTooltipStyle);s.call(a),this.tooltipSelection=o.merge(s),this.tooltipSelection.style("position","fixed").style("z-index",1e4).html(u=>u.contentHtml),o.exit().transition("fadeout").style("opacity",0).remove().on("interrupt",(u,c,l)=>{Q(l[c]).style("opacity",1)})}renderYLine(e){const n=e[0]?e[0].x-this.containerSize.x:0,i=this.selection.selectAll(".bpchart__tooltip__line").data(e),r=i.enter().append("line").classed("bpchart__tooltip__line",!0).style("stroke","#E4E7ED").style("stroke-width",1).style("pointer-events","none");this.lineSelection=i.merge(r).attr("x1",n).attr("y1",0).attr("x2",n).attr("y2",this.containerSize.height),i.exit().transition("fadeout").style("opacity",0).remove().on("interrupt",(a,o,s)=>{Q(s[o]).style("opacity",1)})}renderTooltip(e){this.containerSize=qa(this.selection),this.params.yLine==!0&&this.renderYLine(e),this.doRenderTooltip(e)}remove(){this.tooltipSelection&&this.tooltipSelection.transition("fadeout").style("opacity",0).remove().on("end",()=>{var e;this.params.yLine==!0&&((e=this.lineSelection)==null||e.remove())}),this.renderData.contentHtml=""}}class $8{constructor(e){this.data=[],this.auxLineSelection=void 0,this.selection=e}setData(e){this.data=e}render(){const e=this.selection.selectAll("line.bpchart__auxline").data(this.data),n=e.enter().append("line").classed("bpchart__auxline",!0).style("stroke",We).style("stroke-width",1).style("stroke-dasharray","3,3").style("pointer-events","none");this.auxLineSelection=e.merge(n).attr("opacity",i=>i.active==!0?1:0),e.exit().remove(),n.attr("x1",i=>i.x1).attr("y1",i=>i.y1).attr("x2",i=>i.x2).attr("y2",i=>i.y2),e.transition().duration(50).attr("x1",i=>i.x1).attr("y1",i=>i.y1).attr("x2",i=>i.x2).attr("y2",i=>i.y2)}remove(){this.selection.remove()}}const Vi=(t,e)=>t-e.left-e.right,Zi=(t,e)=>t-e.top-e.bottom,I8=({axisLabels:t,axisWidth:e,padding:n=.5,reverse:i=!1})=>{let r=[0,e];return i&&(r=[e,0]),go().domain(t).range(r).padding(.5)},Vf=({maxValue:t,minValue:e,axisWidth:n,domainMinValue:i=void 0,domainMaxValue:r=void 0,domainMinRange:a=void 0,domainMaxRange:o=void 0,reverse:s=!1})=>{let u=e,c=t;if(i!=null){const h=i;u=h<u?h:u}if(a!=null){const h=t-(t-e)/(1-a);u=h<u?h:u}if(r!=null){const h=r;c=h>c?h:c}if(o!=null){const h=t/o;c=h>c?h:c}u==0&&c==0&&(c=1);let l=[u,c];return s&&(l=[c,u]),Bn().domain(l).range([0,n])},P8=({axisLabels:t,axisWidth:e,reverse:n=!1})=>{let r=[];return n?r=t.map((a,o)=>t.length-1-o):r=t.map((a,o)=>o),lc().domain([-0,e+0]).range(r)},Qi=(t,e)=>or().domain(t.map(n=>n)).range(t.map((n,i)=>e[i])),b4=({axisWidth:t,innerRadius:e,outerRadius:n,padAngle:i,cornerRadius:r})=>{const a=Bn().domain([0,1]).range([0,t/2]),o=a(n);return H1().innerRadius(a(e)).outerRadius(o).padAngle(i).padRadius(o).cornerRadius(r)},Mp={xLabel:"x",y1Label:"y1",y2Label:"y2",xLabelAnchor:"start",y1LabelAnchor:"end",y2LabelAnchor:"start",xLabelOffset:[0,0],y1LabelOffset:[0,0],y2LabelOffset:[0,0],y1LabelColor:We,y2LabelColor:We,y1TickFormat:",.0f",y2TickFormat:",.0f",xTickPadding:20,y1TickPadding:20,y2TickPadding:20,xTickLine:!1,y1TickLine:1,y2TickLine:1,xTickLineDasharray:"none",y1TickLineDasharray:"none",y2TickLineDasharray:"4",y1Ticks:4,y2Ticks:4,axisLineColor:_p,axisLabelColor:We,rotateXLabel:!1,padding:on,xVisible:!0,y1Visible:!0,y2Visible:!0},ii=6;class N8{constructor(e,n){this.width=Ga,this.height=Wa,this.dataset={xScale:go(),y1Scale:Bn(),y2Scale:Bn(),y1MaxValue:0,y2MaxValue:0},this.params=Mp,this.xAxisSelection=void 0,this.y1AxisSelection=void 0,this.y2AxisSelection=void 0,this.xLabelSelection=void 0,this.y1LabelSelection=void 0,this.y2LabelSelection=void 0,this.axisWidth=Vi(this.width,on),this.axisHeight=Zi(this.height,on),this.selection=e}setParams(e){this.params={...this.params,...e}}setDataset(e){this.dataset=e}resize({width:e=this.width,height:n=this.height}){this.width=e,this.height=n,this.axisWidth=Vi(this.width,this.params.padding),this.axisHeight=Zi(this.height,this.params.padding)}render(){this.renderXPointAxis(),this.renderY1LinearAxis(),this.renderY2LinearAxis();const e=this.dataset.y1Scale(0),n=this.dataset.y2Scale(0);this.renderZeroLine(this.selection,[{x1:0,y1:e,x2:this.axisWidth,y2:e},{x1:0,y1:n,x2:this.axisWidth,y2:n}])}remove(){this.selection.remove()}renderXPointAxis(){let e=[];this.params.xVisible&&e.push(this.params);const n=this.selection.selectAll("g.xAxis").data(e),i=n.enter().append("g");this.xAxisSelection=n.merge(i).classed("xAxis",!0).attr("transform",u=>"translate("+u.padding.left+","+(u.padding.top+this.axisHeight)+")"),n.exit().remove();const r=this.selection.selectAll("text.xLabel").data(e),a=r.enter().append("text").classed("xLabel",!0).style("font-size","14px").style("font-weight","bold").style("dominant-baseline","hanging");if(this.xLabelSelection=r.merge(a).attr("x",u=>this.width-u.padding.right+u.xTickPadding).attr("y",u=>u.padding.top+this.axisHeight+u.y2TickPadding+ii).attr("transform",`translate(${this.params.xLabelOffset[0]}, ${this.params.xLabelOffset[1]})`).attr("text-anchor",this.params.xLabelAnchor).style("fill",this.params.axisLabelColor).text(u=>u.xLabel),r.exit().remove(),this.xLabelSelection.size()==0)return;this.xAxis=oh(this.dataset.xScale).scale(this.dataset.xScale).tickSize(this.params.xTickLine&&typeof this.params.xTickLine=="boolean"?-this.axisHeight:this.params.xTickLine&&typeof this.params.xTickLine=="number"?-this.axisHeight*this.params.xTickLine:ii).tickSizeOuter(0).tickFormat(u=>u).tickPadding(this.params.xTickPadding);const o=this.xAxisSelection.transition().duration(50).call(this.xAxis).attr("text-anchor",()=>this.params.rotateXLabel!==!1?"end":"middle");o.selectAll("line").style("fill","none").style("stroke",this.params.axisLineColor).style("stroke-dasharray",this.params.xTickLineDasharray),o.selectAll("path").style("fill","none").style("stroke",this.params.axisLineColor).style("shape-rendering","crispEdges");const s=o.selectAll("text").style("font-family","sans-serif").style("font-size","14px").style("color",this.params.axisLabelColor).attr("transform-origin",`-5 ${this.params.xTickPadding+ii}`);this.params.rotateXLabel===!0?s.attr("transform","translate(0,0) rotate(-45)"):typeof this.params.rotateXLabel=="number"&&s.attr("transform",`translate(0,0) rotate(${this.params.rotateXLabel})`)}renderY1LinearAxis(){let e=[];this.params.y1Visible&&e.push(this.params);const n=this.selection.selectAll("g.y1Axis").data(e),i=n.enter().append("g");this.y1AxisSelection=n.merge(i).classed("y1Axis",!0).attr("transform",s=>"translate("+s.padding.left+","+s.padding.top+")"),n.exit().remove();const r=this.selection.selectAll("text.y1Label").data(e),a=r.enter().append("text").classed("y1Label",!0).style("font-size","14px").style("font-weight","bold");if(this.y1LabelSelection=r.merge(a).attr("fill",s=>s.y1LabelColor).attr("x",s=>s.padding.left-s.xTickPadding).attr("y",s=>s.padding.top-s.y1TickPadding).attr("transform",`translate(${this.params.y1LabelOffset[0]}, ${this.params.y1LabelOffset[1]})`).attr("text-anchor",this.params.y1LabelAnchor).text(s=>s.y1Label),r.exit().remove(),this.y1LabelSelection.size()==0)return;this.y1Axis=sh(this.dataset.y1Scale).scale(this.dataset.y1Scale).ticks(this.dataset.y1MaxValue>this.params.y1Ticks?this.params.y1Ticks:this.dataset.y1MaxValue===0?1:Math.ceil(this.dataset.y1MaxValue)).tickFormat(s=>qf(s,this.params.y1TickFormat)).tickSize(this.params.y1TickLine&&typeof this.params.y1TickLine=="boolean"?-this.axisWidth:this.params.y1TickLine&&typeof this.params.y1TickLine=="number"?-this.axisWidth*this.params.y1TickLine:ii).tickPadding(this.params.y1TickPadding);const o=this.y1AxisSelection.transition().duration(100).call(this.y1Axis);o.selectAll("line").style("fill","none").style("stroke",this.params.axisLineColor).style("stroke-dasharray",this.params.y1TickLineDasharray),o.selectAll("path").style("fill","none").style("stroke","none").style("shape-rendering","crispEdges"),o.selectAll("text").style("font-family","sans-serif").style("font-size","14px").style("color",this.params.axisLabelColor)}renderY2LinearAxis(){let e=[];this.params.y2Visible&&e.push(this.params);const n=this.selection.selectAll("g.y2Axis").data(e),i=n.enter().append("g");this.y2AxisSelection=n.merge(i).classed("y2Axis",!0).attr("transform",s=>"translate("+(this.width-s.padding.right)+","+s.padding.top+")"),n.exit().remove();const r=this.selection.selectAll("text.y2Label").data(e),a=r.enter().append("text").classed("y1Label",!0).style("font-size","14px").style("font-weight","bold");if(this.y2LabelSelection=r.merge(a).attr("fill",s=>s.y2LabelColor).text(s=>s.y2Label).attr("x",s=>this.width-s.padding.right+s.xTickPadding).attr("y",s=>s.padding.top-s.y2TickPadding).attr("transform",`translate(${this.params.y2LabelOffset[0]}, ${this.params.y2LabelOffset[1]})`).attr("text-anchor",this.params.y2LabelAnchor),r.exit().remove(),this.y2LabelSelection.size()==0)return;this.y2Axis=ah(this.dataset.y2Scale).scale(this.dataset.y2Scale).ticks(this.dataset.y2MaxValue>this.params.y2Ticks?this.params.y2Ticks:this.dataset.y2MaxValue===0?1:Math.ceil(this.dataset.y2MaxValue)).tickFormat(s=>qf(s,this.params.y2TickFormat)).tickSize(this.params.y2TickLine&&typeof this.params.y2TickLine=="boolean"?-this.axisWidth:this.params.y2TickLine&&typeof this.params.y2TickLine=="number"?-this.axisWidth*this.params.y2TickLine:ii).tickPadding(this.params.y2TickPadding);const o=this.y2AxisSelection.transition().duration(100).call(this.y2Axis);o.selectAll("line").style("fill","none").style("stroke",this.params.axisLineColor).style("stroke-dasharray",this.params.y2TickLineDasharray),o.selectAll("path").style("fill","none").style("stroke","none").style("shape-rendering","crispEdges"),o.selectAll("text").style("font-family","sans-serif").style("font-size","14px").style("color",this.params.axisLabelColor)}renderZeroLine(e,n){const i=e.selectAll("g.bpchart__zero-line").data(n),r=i.enter().append("g").classed("bpchart__zero-line",!0).attr("transform",o=>"translate("+this.params.padding.left+","+this.params.padding.top+")");i.exit().remove();const a=i.merge(r);r.append("line"),a.select("line").attr("stroke",this.params.axisLabelColor).attr("stroke-width",1).transition().duration(100).attr("x1",o=>o.x1).attr("y1",o=>o.y1).attr("x2",o=>o.x2).attr("y2",o=>o.y2).attr("opacity",o=>o.y1>=0&&o.y1<=this.axisHeight?1:0)}}const ur={lineType:"line",lineCurve:"curveLinear",colors:Mt,highlightTarget:"item",highlightItemId:"",enterDuration:800,labelTextMethod:(t,e)=>"",labelPositionMethod:(t,e)=>"top",labelStyleMethod:(t,e)=>"",labelFontSizeMethod:(t,e)=>10,labelColorMethod:(t,e)=>We,labelPadding:15},z8={barDirection:"right",positionPadding:5};function Y8(t,e=10){var r;const n=document.createElement("canvas").getContext("2d");return(((r=n==null?void 0:n.measureText(t))==null?void 0:r.width)??0)*e/10}const B8=(t,e)=>{const n=t.map(o=>{const s=Y8(o.text,o.fontSize)+2,u=o.fontSize;let c=0,l=0,h="middle",f="central",d=0,g=0,p=0,m=0;return o.position==="left"?(c=o.barX0-e.positionPadding,l=(o.barY0+o.barY1)/2,h="end",f="central",d=c-s,g=c,p=l-u/2,m=l+u/2):o.position==="right"?(c=o.barX1+e.positionPadding,l=(o.barY0+o.barY1)/2,h="start",f="central",d=c,g=c+s,p=l-u/2,m=l+u/2):o.position==="top"?(c=(o.barX0+o.barX1)/2,l=o.barY0-e.positionPadding,h="middle",f="auto",d=c-s/2,g=c+s/2,p=l-u,m=l):o.position==="bottom"?(c=(o.barX0+o.barX1)/2,l=o.barY1+e.positionPadding,h="middle",f="hanging",d=c-s/2,g=c+s/2,p=l,m=l+u):o.position==="center"&&(c=(o.barX0+o.barX1)/2,l=(o.barY0+o.barY1)/2,h="middle",f="central",d=c-s/2,g=c+s/2,p=l,m=l+u),{...o,width:s,height:u,boundaryX0:d,boundaryX1:g,boundaryY0:p,boundaryY1:m,positionX:c,positionY:l,textAnchor:h,dominantBaseline:f,renderX:0,renderY:0,offsetX:0,offsetY:0}}),i=Object.assign([],n).sort((o,s)=>e.barDirection==="left"?s.positionX-o.positionX:e.barDirection==="right"?o.positionX-s.positionX:e.barDirection==="up"?s.positionY-o.positionY:e.barDirection==="down"?o.positionY-s.positionY:o.positionX-s.positionX),r=(o,s)=>s.filter(u=>(u.boundaryX0>=o.boundaryX0&&u.boundaryX0<=o.boundaryX1||u.boundaryX1>=o.boundaryX0&&u.boundaryX1<=o.boundaryX1)&&(u.boundaryY0>=o.boundaryY0&&u.boundaryY0<=o.boundaryY1||u.boundaryY1>=o.boundaryY0&&u.boundaryY1<=o.boundaryY1)),a=[];return i.forEach(o=>{let s=o.positionX,u=o.positionY;const c=r(o,a);let l=0,h=0;c.length&&(e.barDirection==="left"?l=c.reduce((y,v)=>v.boundaryX0<y?v.boundaryX0:y,1/0)-o.boundaryX1:e.barDirection==="right"?l=c.reduce((y,v)=>v.boundaryX1>y?v.boundaryX1:y,-1/0)-o.boundaryX0:e.barDirection==="up"?h=c.reduce((y,v)=>v.boundaryY0<y?v.boundaryY0:y,1/0)-o.boundaryY1:e.barDirection==="down"&&(h=c.reduce((y,v)=>v.boundaryY1>y?v.boundaryY1:y,1/0)-o.boundaryY0));let f=0,d=0;e.barDirection==="left"&&(o.position==="top"||o.position==="bottom"||o.position==="center")&&o.boundaryX1>o.barX1?f=o.barX1-o.boundaryX1:e.barDirection==="right"&&(o.position==="top"||o.position==="bottom"||o.position==="center")&&o.boundaryX0<o.barX0?f=o.barX0-o.boundaryX0:e.barDirection==="up"&&(o.position==="left"||o.position==="right"||o.position==="center")&&o.boundaryY1>o.barY1?d=o.barY1-o.boundaryY1:e.barDirection==="down"&&(o.position==="left"||o.position==="right"||o.position==="center")&&o.boundaryY0<o.barY0&&(d=o.barY0-o.boundaryY0);const g=Math.abs(l)>Math.abs(f)?l:f,p=Math.abs(h)>Math.abs(d)?h:d;a.push({...o,boundaryX0:o.boundaryX0+g,boundaryX1:o.boundaryX1+g,boundaryY0:o.boundaryY0+p,boundaryY1:o.boundaryY1+p,renderX:s,renderY:u,offsetX:g,offsetY:p})}),a};class O8{constructor(e,n){this.data=[],this.params=z8,this.renderData=[],this.selection=e,this.labelGSelection=this.selection.append("g").style("pointer-events","none")}remove(){this.selection.remove()}setParams(e){this.params={...this.params,...e}}setData(e){this.data=e,this.renderData=B8(e,this.params)}render(){const e=this.labelGSelection.selectAll("text").data(this.renderData),n=e.enter().append("text");e.exit().remove(),this.labelSelection=e.merge(n).attr("text-anchor",i=>i.textAnchor).attr("dominant-baseline",i=>i.dominantBaseline).attr("font-size",(i,r)=>i.fontSize).attr("fill",(i,r)=>i.color).attr("style",i=>i.style).text(i=>i.text),n.attr("x",i=>this.params.barDirection==="left"||this.params.barDirection==="right"?0:i.positionX).attr("y",i=>this.params.barDirection==="left"||this.params.barDirection==="right"?i.positionY:0).attr("transform",(i,r)=>this.params.barDirection==="left"||this.params.barDirection==="right"?`translate(0, ${i.offsetY})`:`translate(${i.offsetX}, 0)`),this.labelSelection.transition().duration(200).attr("x",i=>i.positionX).attr("y",i=>i.positionY).attr("transform",(i,r)=>`translate(${i.offsetX}, ${i.offsetY})`)}}const bs=w8,Rr=({lineData:t,data:e,event:n})=>({groupData:[],itemData:t,datum:void 0,itemLabel:t[0].itemLabel,itemIndex:t[0].itemIndex,clientX:n.clientX,clientY:n.clientY,offsetX:n.offsetX,offsetY:n.offsetY}),U8=t=>{let e=[[]],n=0;for(let i in t){if(t[i].value===void 0||t[i].value===null){e[n].length&&(n++,e[n]=[]);continue}e[n].push(t[i])}return e},H8=(t,e)=>{let n=[];return t.forEach((i,r)=>{i.forEach((a,o)=>{const s=[a.itemIndex,a.xIndex];n.push({id:a.id,data:a,barX0:a.x,barX1:a.x,barY0:a.y,barY1:a.y,position:e.labelPositionMethod(a,s),fontSize:e.labelFontSizeMethod(a,s),color:e.labelColorMethod(a,s),style:e.labelStyleMethod(a,s),text:e.labelTextMethod(a,s)})})}),n};let X8=class{constructor(e,n){this.params=ur,this.dataset={data:[],itemLabels:[],axisWidth:0,axisHeight:0,zeroY:0},this.graphicGSelection=void 0,this.linePath=Wi().x(i=>i.x).y(i=>i.y).curve(bs[this.params.lineCurve]),this.axisWidth=0,this.clickCallback=function(){},this.mouseoverCallback=function(){},this.mousemoveCallback=function(){},this.mouseoutCallback=function(){},this.selection=e,this.labelBoxSelection=this.selection.append("g"),this.defsSelection=e.append("defs"),this.utilGraphicBarLabel=new O8(this.labelBoxSelection,{})}setParams(e){e.lineCurve&&e.lineCurve!=this.params.lineCurve&&(this.linePath=Wi().x(n=>n.x).y(n=>n.y).curve(bs[e.lineCurve])),this.params={...this.params,...e},this.colorScale=Qi(this.dataset.itemLabels,this.params.colors),this.initHighlight(),this.params.lineType=="line"?this.renderGraphicItem=this.renderLine:this.params.lineType=="area"?this.renderGraphicItem=this.renderArea:this.params.lineType==="gradientArea"&&(this.renderGraphicItem=this.renderGradientArea),this.utilGraphicBarLabel.setParams({barDirection:"up",positionPadding:this.params.labelPadding})}setDataset(e){this.dataset=e,this.colorScale=Qi(this.dataset.itemLabels,this.params.colors)}render(){this.axisWidth=this.dataset.axisWidth;const e=this.selection.selectAll("g.bpchart__graphic").data(this.dataset.data,(i,r)=>i[0]&&i[0].id?i[0].id:this.dataset.itemLabels[r]),n=e.enter().append("g").classed("bpchart__graphic",!0);if(e.exit().remove(),this.graphicGSelection=e.merge(n),this.graphicGSelection.attr("clip-path",(i,r)=>`url(#bpchart__clipPath_${this.dataset.itemLabels[r]})`),n.size()>0){const i=[];n.each((a,o,s)=>{i.push({id:`bpchart__clipPath_${a[o].itemLabel}`,x:0,y:0,width:0,height:this.dataset.axisHeight})}),this.renderClipPath(i);const r=[];e.each((a,o,s)=>{r.push({id:`bpchart__clipPath_${a[o].itemLabel}`,x:0,y:0,width:this.axisWidth,height:this.dataset.axisHeight})}),this.renderClipPath(i),this.selection.transition().duration(this.params.enterDuration).delay(100).tween("tween",(a,o,s)=>u=>{const c=this.axisWidth*u;n.each((l,h,f)=>{this.setClipPathItemWidth(`bpchart__clipPath_${l[h].itemLabel}`,c)})}).on("end",()=>{this.initHighlight()})}this.graphicGSelection.each((i,r,a)=>{const o=U8(i);this.renderGraphicItem({selection:Q(a[r]),id:this.dataset.itemLabels&&this.dataset.itemLabels[r],data:o,linePath:this.linePath,colorScale:this.colorScale})}),this.graphicGSelection.on("mouseover",null),this.graphicGSelection.on("mouseout",null),this.graphicGSelection.on("click",(i,r)=>{const a=Rr({lineData:i,data:this.dataset.data,event:L});this.clickCallback(a)}).on("mouseover",(i,r,a)=>{const o=Rr({lineData:i,data:this.dataset.data,event:L});this.params.highlightTarget==="item"&&o&&o.itemLabel&&this.highlight(this.graphicGSelection,o.itemLabel),this.mouseoverCallback(o)}).on("mousemove",(i,r)=>{const a=Rr({lineData:i,data:this.dataset.data,event:L});this.mousemoveCallback(a)}).on("mouseout",(i,r)=>{this.params.highlightTarget==="item"&&this.removeHighlight(this.graphicGSelection);const a=Rr({lineData:i,data:this.dataset.data,event:L});this.initHighlight(),this.mouseoutCallback(a)}),this.utilGraphicBarLabel.setData(H8(this.dataset.data,this.params)),this.utilGraphicBarLabel.render()}on(e,n){return e==="click"?this.clickCallback=n:e==="mouseover"?this.mouseoverCallback=n:e==="mousemove"?this.mousemoveCallback=n:e==="mouseout"&&(this.mouseoutCallback=n),this}remove(){this.selection.remove()}renderClipPath(e){const n=this.defsSelection.selectAll("clipPath").data(e),i=n.enter().append("clipPath"),r=n.merge(i).attr("id",a=>a.id);n.exit().remove(),r.each((a,o,s)=>{const u=Q(s[o]).selectAll("rect").data([a]),c=u.enter().append("rect");u.exit().remove(),u.merge(c).attr("x",l=>l.x).attr("y",l=>l.y).attr("width",l=>l.width).attr("height",l=>l.height)})}setClipPathItemWidth(e,n){this.defsSelection.select(`clipPath#${e}`).select("rect").attr("width",n)}renderGraphicItem({selection:e,id:n,data:i,linePath:r,colorScale:a}){}renderLine({selection:e,id:n,data:i,linePath:r,colorScale:a}){const o=e.selectAll("path.bpchart__graphic__line").data(i,(u,c)=>c),s=o.enter().append("path").classed("bpchart__graphic__line",!0).attr("fill","none").attr("stroke-width",2).style("vector-effect","non-scaling-stroke").style("cursor","pointer");o.exit(),o.merge(s).attr("stroke",(u,c)=>n?a(n):Mt[c]).attr("d",u=>r(u))}renderArea({selection:e,id:n,data:i,linePath:r,colorScale:a}){const o=xc().x(c=>c.x).y0(this.dataset.zeroY).y1(c=>c.y).curve(bs[this.params.lineCurve]),s=e.selectAll("path.bpchart__graphic__area").data(i,(c,l)=>l),u=s.enter().append("path").classed("bpchart__graphic__area",!0).style("opacity",.5).style("pointer-events","none");s.exit(),s.merge(u).attr("transform","translate(0,0)").attr("fill",(c,l)=>this.params.lineType==="gradientArea"?`url(#bpchart__gradient__${n})`:n?a(n):Mt[l]).attr("d",c=>o(c))}renderGradientArea({selection:e,id:n,data:i,linePath:r,colorScale:a}){const o=this.defsSelection.selectAll("linearGradient").data(this.dataset.itemLabels,u=>u),s=o.enter().append("linearGradient");o.merge(s).attr("id",(u,c)=>`bpchart__gradient__${this.dataset.itemLabels[Number(c)]}`).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%").attr("spreadMethod","pad").html((u,c)=>`
          <stop offset="0%"   stop-color="${this.params.colors[Number(c)]}" stop-opacity="1"/>
          <stop offset="100%" stop-color="${this.params.colors[Number(c)]}" stop-opacity="0"/>
        `),o.exit().remove(),this.renderLine({selection:e,id:n,data:i,linePath:r,colorScale:a}),this.renderArea({selection:e,id:n,data:i,linePath:r,colorScale:a})}initHighlight(){this.graphicGSelection&&(this.params.highlightItemId?this.highlight(this.graphicGSelection,this.params.highlightItemId):this.removeHighlight(this.graphicGSelection))}highlight(e,n){e&&e.each((i,r,a)=>{i[0].itemLabel===n?Q(a[r]).transition().duration(200).style("opacity",1):Q(a[r]).transition().duration(200).style("opacity",.3)})}removeHighlight(e){this.params.highlightItemId?this.highlight(e,this.params.highlightItemId):this.params.highlightItemId||e.transition().duration(200).style("opacity",1)}};const cr={r:4,fill:"#fff",strokeWidth:2,colors:Mt,highlightTarget:"item",highlightItemId:"",highlightDatumId:"",enterDuration:20};class F8{constructor(e,n){this.params=cr,this.dataset={data:[],itemLabels:[]},this.dotSelection=void 0,this.renderData=[],this.clickCallback=function(){},this.mouseoverCallback=function(){},this.mousemoveCallback=function(){},this.mouseoutCallback=function(){},this.selection=e}setParams(e){this.params={...this.params,...e},this.colorScale=Qi(this.dataset.itemLabels&&this.dataset.itemLabels.length?this.dataset.itemLabels:[""],this.params.colors)}setDataset(e){this.dataset=e,this.renderData=this.dataset.data.map(n=>({...n,itemLabel:n.itemLabel??""})),this.colorScale=Qi(this.dataset.itemLabels&&this.dataset.itemLabels.length?this.dataset.itemLabels:[""],this.params.colors)}render(){this.renderDot({selection:this.selection,data:this.renderData,colorScale:this.colorScale,params:this.params}),this.dotSelection.on("mouseover",null),this.dotSelection.on("mouseout",null),this.dotSelection.on("click",(e,n)=>{this.clickCallback(e)}).on("mouseover",(e,n)=>{this.params.highlightTarget==="item"&&e.itemLabel?this.highlight(this.dotSelection,e.itemLabel,""):this.params.highlightTarget==="datum"&&e.id&&this.highlight(this.dotSelection,"",e.id),this.mouseoverCallback(e)}).on("mousemove",(e,n)=>{this.mousemoveCallback(e)}).on("mouseout",(e,n)=>{this.params.highlightTarget==="item"&&this.removeHighlight(this.dotSelection),this.mouseoutCallback(e)})}on(e,n){return e==="click"?this.clickCallback=n:e==="mouseover"?this.mouseoverCallback=n:e==="mousemove"?this.mousemoveCallback=n:e==="mouseout"&&(this.mouseoutCallback=n),this}remove(){this.selection.remove()}renderDot({selection:e,data:n,colorScale:i,params:r}){const a=e.selectAll("circle.bpchart__circle").data(n,s=>s.id),o=a.enter().append("circle").attr("r",r.r).attr("fill",r.fill).attr("stroke-width",r.strokeWidth).style("cursor","pointer").classed("bpchart__circle",!0).attr("opacity",0);a.exit().remove(),this.dotSelection=a.merge(o),this.dotSelection.attr("stroke",(s,u)=>i(s.itemLabel)),o.attr("cx",s=>s.x).attr("cy",s=>s.y).attr("opacity",0).transition().delay((s,u)=>u*this.params.enterDuration).attr("opacity",1),a.transition().duration(50).attr("cx",s=>s.x).attr("cy",s=>s.y).attr("opacity",1),this.dotSelection.on("end",()=>{this.params.highlightItemId||this.params.highlightDatumId?this.highlight(this.dotSelection,this.params.highlightItemId,this.params.highlightDatumId):this.removeHighlight(this.dotSelection)})}highlight(e,n,i){if(!e)return;let r=[];if(i&&r.push(i),n){const a=this.dataset.data.flat().filter(o=>o.itemLabel===n).map(o=>o.id);r=r.concat(a)}e.each((a,o,s)=>{r.includes(a.id)?Q(s[o]).style("opacity",1):Q(s[o]).transition().duration(200).style("opacity",.3)})}removeHighlight(e){this.params.highlightItemId||this.params.highlightDatumId?this.highlight(e,this.params.highlightItemId,this.params.highlightDatumId):this.params.highlightItemId||e.style("opacity",1)}}const G8={barType:"rect",barWidth:0,barPadding:1,barR:!1,colors:Mt,highlightTarget:"datum",highlightDatumId:"",enterDuration:800},Sp={barType:"rect",barWidth:0,barPadding:1,barGroupPadding:20,barR:!1,colors:Mt,highlightTarget:"item",highlightGroupId:"",highlightItemId:"",highlightDatumId:"",enterDuration:800},W8=(t,e)=>{const n=new Map;return e.forEach((i,r)=>{n.set(i,t[r])}),n},q8=(t,e)=>{const n=new Map;return t.forEach((i,r)=>{i.forEach((a,o)=>{const s=n.get(e[o])??[];s.push(a),n.set(e[o],s)})}),n},V8=(t,e)=>e.map(n=>t.get(n)??[]),Z8=(t,e,n)=>{const i=t/2,r=t*e.length+n.barPadding*e.length;return go().domain(e).range([-r/2+i,r/2-i])},$r=({datum:t,XDataMap:e,ItemDataMap:n,event:i})=>({groupData:e.get(t.xLabel),itemData:n.get(t.itemLabel),datum:t,xLabel:t.xLabel,xIndex:t.xIndex,itemLabel:t.itemLabel,itemIndex:t.itemIndex,clientX:i.clientX,clientY:i.clientY,offsetX:i.offsetX,offsetY:i.offsetY}),Q8=({axisWidth:t,groupAmount:e,barAmountOfGroup:n,barPadding:i=0,barGroupPadding:r=0})=>{const a=(t/e-r)/n-i;return a>1?a:1},K8=(t,e=400)=>e/t;class J8{constructor(e,n){this.params=Sp,this.dataset={data:[],itemLabels:[],xLabels:[],axisWidth:0,zeroY:0},this.graphicData=[],this.graphicGroupSelection=void 0,this.graphicBarSelection=void 0,this.itemLabels=[],this.ItemDataMap=new Map,this.XDataMap=new Map,this.axisWidth=0,this.barWidth=0,this.delayDuration=0,this.clickCallback=function(){},this.mouseoverCallback=function(){},this.mousemoveCallback=function(){},this.mouseoutCallback=function(){},this.selection=e,this.defsSelection=e.append("defs")}setParams(e){this.params={...this.params,...e},this.itemLabels=[],this.params.barType=="rect"?this.renderGraphic=this.renderRect:this.params.barType=="triangle"&&(this.renderGraphic=this.renderTriangle)}setDataset(e){this.dataset=e,this.itemLabels=this.dataset.itemLabels,this.ItemDataMap=W8(this.dataset.data,this.dataset.itemLabels),this.XDataMap=q8(this.dataset.data,this.dataset.xLabels),this.delayDuration=K8(this.dataset.xLabels.length)}render(){if(!this.itemLabels.length)return;this.colorScale=Qi(this.itemLabels,this.params.colors),this.setLinearGradient({defsSelection:this.defsSelection,itemLabels:this.itemLabels,colorScale:this.colorScale}),this.axisWidth=this.dataset.axisWidth,this.barWidth=this.params.barWidth?this.params.barWidth:Q8({axisWidth:this.axisWidth,groupAmount:this.dataset.xLabels.length,barAmountOfGroup:this.dataset.itemLabels.length,barPadding:this.params.barPadding??0,barGroupPadding:this.params.barGroupPadding??0});const e=Z8(this.barWidth,this.dataset.itemLabels,this.params);this.graphicData=V8(this.XDataMap,this.dataset.xLabels),this.renderGraphic({selection:this.selection,graphicData:this.graphicData,xLabels:this.dataset.xLabels,colorScale:this.colorScale,itemScale:e,params:this.params}),this.graphicBarSelection.on("click",(n,i)=>{const r=$r({datum:n,XDataMap:this.XDataMap,ItemDataMap:this.ItemDataMap,event:L});this.clickCallback(r)}).on("mouseover",(n,i,r)=>{const a=$r({datum:n,XDataMap:this.XDataMap,ItemDataMap:this.ItemDataMap,event:L});this.params.highlightTarget!=null&&this.params.highlightTarget!="none"&&(this.params.highlightTarget==="group"?this.highlight(this.graphicBarSelection,a.xLabel,void 0,void 0):this.params.highlightTarget==="item"?this.highlight(this.graphicBarSelection,void 0,a.itemLabel,void 0):this.params.highlightTarget==="datum"&&this.highlight(this.graphicBarSelection,void 0,void 0,a.datum&&a.datum.id)),this.mouseoverCallback(a)}).on("mousemove",(n,i)=>{const r=$r({datum:n,XDataMap:this.XDataMap,ItemDataMap:this.ItemDataMap,event:L});this.mousemoveCallback(r)}).on("mouseout",(n,i)=>{this.params.highlightTarget!=null&&this.params.highlightTarget!="none"&&this.removeHighlight(this.graphicBarSelection);const r=$r({datum:n,XDataMap:this.XDataMap,ItemDataMap:this.ItemDataMap,event:L});this.initHighlight(),this.mouseoutCallback(r)})}on(e,n){return e==="click"?this.clickCallback=n:e==="mouseover"?this.mouseoverCallback=n:e==="mousemove"?this.mousemoveCallback=n:e==="mouseout"&&(this.mouseoutCallback=n),this}remove(){this.selection.remove()}setLinearGradient({defsSelection:e,itemLabels:n,colorScale:i}){const r=e.selectAll("linearGradient").data(n,o=>o),a=r.enter().append("linearGradient").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%").attr("spreadMethod","pad");r.merge(a).attr("id",(o,s)=>`bpchart__lineargradient__${o}`).html((o,s)=>`
          <stop offset="0%"   stop-color="${i(o)}" stop-opacity="1"/>
          <stop offset="100%" stop-color="${i(o)}" stop-opacity="0"/>
        `),r.exit().remove()}renderGraphic({selection:e,graphicData:n,xLabels:i,colorScale:r,itemScale:a,params:o}){}renderRect({selection:e,graphicData:n,xLabels:i,colorScale:r,itemScale:a,params:o}){if(this.barWidth<=0)return;const s=e.selectAll("g.bpchart__bar-g").data(n,(l,h)=>l[0]&&l[0].id?l[0].id:i[h]),u=s.enter().append("g").classed("bpchart__bar-g",!0).attr("cursor","pointer");s.exit().remove(),this.graphicGroupSelection=s.merge(u),u.attr("transform",(l,h)=>`translate(${l[0]?l[0].x:0}, 0)`),s.transition().duration(200).attr("transform",(l,h)=>`translate(${l[0]?l[0].x:0}, 0)`);const c=this.barWidth/2;this.graphicGroupSelection.each((l,h,f)=>{const d=Q(f[h]).selectAll("g").data(l,p=>p.id),g=d.enter().append("g").classed("bpchart__bar",!0);g.append("rect").attr("rx",o.barR==!0?c:o.barR==!1?0:typeof o.barR=="number"?o.barR:0).attr("transform",`translate(${-c}, 0)`).attr("x",p=>a(p.itemLabel)).attr("y",p=>this.dataset.zeroY).attr("width",this.barWidth).attr("height",p=>0),d.merge(g).select("rect").attr("fill",p=>r(p.itemLabel)).transition().duration(this.params.enterDuration).ease(na).delay((p,m)=>p.xIndex*this.delayDuration).attr("transform",`translate(${-c}, 0)`).attr("x",p=>a(p.itemLabel)).attr("y",p=>p.y<this.dataset.zeroY?p.y:this.dataset.zeroY).attr("width",this.barWidth).attr("height",p=>Math.abs(this.dataset.zeroY-p.y)).on("end",()=>this.initHighlight()),d.exit().remove()}),this.graphicBarSelection=this.graphicGroupSelection.selectAll("g.bpchart__bar")}renderTriangle({selection:e,graphicData:n,xLabels:i,colorScale:r,itemScale:a,params:o}){if(this.barWidth<=0)return;const s=e.selectAll("g.bpchart__bar-g").data(n,(l,h)=>l[0]&&l[0].id?l[0].id:i[h]),u=s.enter().append("g").classed("bpchart__bar-g",!0).attr("cursor","pointer");s.exit().remove(),this.graphicGroupSelection=s.merge(u).attr("transform",(l,h)=>`translate(${l[0]?l[0].x:0}, 0)`);const c=this.barWidth/2;this.graphicGroupSelection.each((l,h,f)=>{const d=Q(f[h]).selectAll("g").data(l,p=>p.id),g=d.enter().append("g").classed("bpchart__bar",!0);g.append("path").attr("transform",`translate(${-c}, 0)`).attr("height",p=>0).attr("d",p=>{const m=a(p.itemLabel),y=0,v=y;return`M${m-this.params.barWidth/2},${y} L${m},${v} ${m+this.params.barWidth/2},${y}`}),d.merge(g).select("path").style("fill",p=>`url(#bpchart__lineargradient__${p.itemLabel})`).attr("stroke",p=>r(p.itemLabel)).attr("transform",`translate(${-c}, 0)`).transition().duration(this.params.enterDuration).ease(na).delay((p,m)=>p.xIndex*this.delayDuration).attr("transform",`translate(${-c}, 0)`).attr("height",p=>Math.abs(this.dataset.zeroY-p.y)).attr("d",p=>{const m=a(p.itemLabel),y=this.dataset.zeroY,v=p.y;return`M${m},${y} L${m+this.params.barWidth/2},${v} ${m+this.params.barWidth},${y}`}).on("end",()=>this.initHighlight()),d.exit().remove()}),this.graphicBarSelection=this.graphicGroupSelection.selectAll("g.bpchart__bar")}initHighlight(){this.graphicBarSelection&&(this.params.highlightDatumId||this.params.highlightItemId||this.params.highlightGroupId)&&this.highlight(this.graphicBarSelection,this.params.highlightGroupId,this.params.highlightItemId,this.params.highlightDatumId)}highlight(e,n,i,r){if(!e)return;let a=[];if(r&&a.push(r),i){const o=this.dataset.data.flat().filter(s=>s.itemLabel===i).map(s=>s.id);a=a.concat(o)}if(n){const o=this.dataset.data.flat().filter(s=>s.xLabel===n).map(s=>s.id);a=a.concat(o)}e.each((o,s,u)=>{a.includes(o.id)?Q(u[s]).transition().duration(200).style("opacity",1):Q(u[s]).transition().duration(200).style("opacity",.3)})}removeHighlight(e){this.params.highlightDatumId||this.params.highlightItemId||this.params.highlightGroupId?this.highlight(e,this.params.highlightGroupId,this.params.highlightItemId,this.params.highlightDatumId):e.transition().duration(200).style("opacity",1)}}const j8={barWidth:0,barGroupPadding:1,barR:!1,colors:Mt,highlightTarget:"item",highlightGroupId:"",highlightItemId:"",highlightDatumId:"",enterDuration:800},t4=Mt.map(t=>t).reverse(),lr={axisColumnTwoScales:Mp,tooltipAside:{templateHtml:t=>t.y1.groupData&&t.y2.groupData?`
          <div>
            <div>${t.xLabel}</div>
            <div>${t.y1.groupData.map(e=>e.value).join(",")}</div>          
            <div>${t.y2.groupData.map(e=>e.value).join(",")}</div>          
          </div>
        `:""},y1Colors:Mt,y2Colors:t4,padding:on,highlightTarget:"datum",highlightDatumId:"",highlightItemId:"",highlightGroupId:"",showAuxLine:!1,y1DomainMinValue:0,y1DomainMaxValue:void 0,y1DomainMinRange:void 0,y1DomainMaxRange:.95,y2DomainMinValue:0,y2DomainMaxValue:void 0,y2DomainMinRange:void 0,y2DomainMaxRange:.95,showDot:"hover"};({...lr});const e4={...lr,graphicColumnLine:ur,graphicDot:cr,graphicColumnBarGroup:Sp};({...lr});({...lr});const Zf=(t,e)=>({...t,padding:e}),n4=({dataset:t,activedItemId:e,Y1XDataMap:n,Y2XDataMap:i,Y1ItemDataMap:r,Y2ItemDataMap:a,padding:o,xRangeScale:s,event:u})=>{if(!u||!s)return{dataset:t,y1:{groupData:[],itemData:[],datum:void 0,itemLabel:"",itemIndex:-1},y2:{groupData:[],itemData:[],datum:void 0,itemLabel:"",itemIndex:-1},xLabel:"",xIndex:-1,rangeIndex:-1,clientX:-1,clientY:-1,offsetX:-1,offsetY:-1};const c=Number(u.offsetX)-o.left,l=Number(s(c)??0),h=t.xLabels[l],f=n.get(h)??[],d=i.get(h)??[];let g=[],p,m=[],y;return e&&(g=r.get(e)??[],p=f.find(v=>v.itemLabel===e),m=a.get(e)??[],y=d.find(v=>v.itemLabel===e)),{dataset:t,y1:{groupData:f,itemData:g,datum:p,itemLabel:p?p.itemLabel:"",itemIndex:p?p.itemIndex:-1},y2:{groupData:d,itemData:m,datum:y,itemLabel:y?y.itemLabel:"",itemIndex:y?y.itemIndex:-1},xLabel:h,xIndex:l,rangeIndex:l,clientX:L.clientX,clientY:L.clientY,offsetX:L.offsetX,offsetY:L.offsetY}};class i4{constructor(e,n){this.width=Ga,this.height=Wa,this.dataset={y1Data:[],y2Data:[],xLabels:[],y1ItemLabels:[],y2ItemLabels:[]},this.params=lr,this.graphicY1Selection=void 0,this.graphicY2Selection=void 0,this.axisWidth=0,this.axisHeight=0,this.clickCallback=function(){},this.mouseoverCallback=function(){},this.mousemoveCallback=function(){},this.mouseoutCallback=function(){},this.Y1XDataMap=new Map,this.Y2XDataMap=new Map,this.Y1ItemDataMap=new Map,this.Y2ItemDataMap=new Map,this.y1RenderData=[],this.y2RenderData=[],this.axisParams=this.params.axisColumnTwoScales,this.xAxisSelection=void 0,this.yAxisSelection=void 0,this.xLabelSelection=void 0,this.yLabelSelection=void 0,this.auxLineSelection=void 0,this.y1MinValue=0,this.y1MaxValue=0,this.y2MinValue=0,this.y2MaxValue=0,this.makeActivedCallbackData=(i,r)=>n4({dataset:this.dataset,activedItemId:i,Y1XDataMap:this.Y1XDataMap,Y2XDataMap:this.Y2XDataMap,Y1ItemDataMap:this.Y1ItemDataMap,Y2ItemDataMap:this.Y2ItemDataMap,padding:this.params.padding,xRangeScale:this.xRangeScale,event:r}),this.selection=e,this.axisSelection=e.append("g"),this.axisColumnTwoScales=new N8(this.axisSelection,{}),this.rangeSelection=this.selection.append("rect").attr("opacity",0),this.setRangeEvent(this.rangeSelection),this.graphicY1Selection=e.append("g"),this.graphicY2Selection=e.append("g"),this.coverSelection=this.selection.append("g").classed("bpchart__cover",!0),this.utilAuxLine=new $8(this.coverSelection),this.setCoverEvent(this.selection)}setParams(e){this.params={...this.params,...e,axisColumnTwoScales:{...this.params.axisColumnTwoScales,...e.axisColumnTwoScales}},this.params.tooltipAside&&!this.tooltip&&(this.tooltip=new R8(this.selection,{templateHtml:this.params.tooltipAside.templateHtml,type:this.params.tooltipAside.type??"white",yLine:this.params.tooltipAside.yLine??!1})),this.axisParams=Zf(this.params.axisColumnTwoScales,this.params.padding),this.axisWidth=Vi(this.width,this.params.padding),this.axisHeight=Zi(this.height,this.params.padding),this.axisColumnTwoScales.setParams(this.axisParams),this.graphicY1Selection.attr("transform",`translate(${this.params.padding.left}, ${this.params.padding.top})`),this.graphicY2Selection.attr("transform",`translate(${this.params.padding.left}, ${this.params.padding.top})`),this.coverSelection.attr("transform",`translate(${this.params.padding.left}, ${this.params.padding.top})`),this.initGraphic(this.params)}select(){return this.selection}remove(){this.selection.remove()}resize({width:e=this.width,height:n=this.height}){this.width=e,this.height=n,this.axisParams=Zf(this.params.axisColumnTwoScales,this.params.padding),this.axisWidth=Vi(this.width,this.params.padding),this.axisHeight=Zi(this.height,this.params.padding),this.axisColumnTwoScales.setParams(this.axisParams),this.axisColumnTwoScales.resize({width:e,height:n}),this.rangeSelection.attr("x",this.params.padding.left).attr("y",this.params.padding.top).attr("width",this.axisWidth).attr("height",this.axisHeight)}setDataset(e){this.dataset=e;const[n,i]=this.getY1MinAndMaxValue(this.dataset.y1Data),[r,a]=this.getY2MinAndMaxValue(this.dataset.y2Data);this.y1MinValue=n,this.y1MaxValue=i,this.y2MinValue=r,this.y2MaxValue=a}render(){this.xScale=I8({axisLabels:this.dataset.xLabels,axisWidth:this.axisWidth}),this.y1Scale=Vf({maxValue:this.y1MaxValue,minValue:this.y1MinValue,axisWidth:this.axisHeight,domainMinValue:this.params.y1DomainMinValue,domainMaxValue:this.params.y1DomainMaxValue,domainMinRange:this.params.y1DomainMinRange,domainMaxRange:this.params.y1DomainMaxRange,reverse:!0}),this.y2Scale=Vf({maxValue:this.y2MaxValue,minValue:this.y2MinValue,axisWidth:this.axisHeight,domainMinValue:this.params.y2DomainMinValue,domainMaxValue:this.params.y2DomainMaxValue,domainMinRange:this.params.y2DomainMinRange,domainMaxRange:this.params.y2DomainMaxRange,reverse:!0}),this.xRangeScale=P8({axisLabels:this.dataset.xLabels,axisWidth:this.axisWidth}),this.y1RenderData=this.makeY1GraphicRenderData({dataset:this.dataset,xScale:this.xScale,y1Scale:this.y1Scale}),this.y2RenderData=this.makeY2GraphicRenderData({dataset:this.dataset,xScale:this.xScale,y2Scale:this.y2Scale}),this.Y1XDataMap=this.makeY1XDataMap({y1RenderData:this.y1RenderData,xLabels:this.dataset.xLabels}),this.Y2XDataMap=this.makeY2XDataMap({y2RenderData:this.y2RenderData,xLabels:this.dataset.xLabels}),this.Y1ItemDataMap=this.makeY1ItemDataMap({y1RenderData:this.y1RenderData,y1ItemLabels:this.dataset.y1ItemLabels??[]}),this.Y1ItemDataMap=this.makeY2ItemDataMap({y2RenderData:this.y2RenderData,y2ItemLabels:this.dataset.y2ItemLabels??[]}),this.setGraphicData({y1RenderData:this.y1RenderData,y2RenderData:this.y2RenderData,y1ItemLabels:this.dataset.y1ItemLabels??[],y2ItemLabels:this.dataset.y2ItemLabels??[],xLabels:this.dataset.xLabels,xScale:this.xScale,y1Scale:this.y1Scale,y2Scale:this.y2Scale}),this.axisColumnTwoScales.setDataset({xScale:this.xScale,y1Scale:this.y1Scale,y2Scale:this.y2Scale,y1MaxValue:this.y1MaxValue,y2MaxValue:this.y2MaxValue}),this.axisColumnTwoScales.render(),this.renderGraphic()}on(e,n){return e==="click"?this.clickCallback=n:e==="mouseover"?this.mouseoverCallback=n:e==="mousemove"?this.mousemoveCallback=n:e==="mouseout"&&(this.mouseoutCallback=n),this}setRangeEvent(e){e.on("click",(n,i)=>{const r=this.makeActivedCallbackData("",L);this.clickCallback(r)}).on("mouseover",(n,i)=>{const r=this.makeActivedCallbackData("",L);this.mouseoverCallback(r)}).on("mousemove",n=>{const i=this.makeActivedCallbackData("",L);this.mousemoveCallback(i)}).on("mouseout",n=>{if(L.offsetX>0&&L.offsetX<this.width&&L.offsetY>0&&L.offsetY<this.height)return;const i=this.makeActivedCallbackData("",L);this.mouseoutCallback(i)})}showTooltip(e,n){n&&e&&this.xScale?this.tooltip.setDatum({data:e,x:e.clientX-e.offsetX+this.params.padding.left+this.xScale(e.xLabel),y:L.clientY}):this.tooltip.remove()}setCoverEvent(e){e.on("mouseover",(n,i)=>{const r=this.makeActivedCallbackData("",L);this.coverHighlight(r),this.showTooltip(r,L)}).on("mousemove",n=>{const i=this.makeActivedCallbackData("",L);this.coverHighlight(i),this.showTooltip(i,L)}).on("mouseout",n=>{L.offsetX>0&&L.offsetX<this.width&&L.offsetY>0&&L.offsetY<this.height||(this.coverHighlight(void 0),this.tooltip.remove())})}coverHighlight(e){this.params.showAuxLine&&this.renderAuxLine({coverSelection:this.coverSelection,xLabels:this.dataset.xLabels,activeRangeIndex:e?e.rangeIndex:-1,xScale:this.xScale,padding:this.params.padding,axisHeight:this.axisHeight}),this.renderGraphicCoverHighlight({eventData:e,xScale:this.xScale,y1Scale:this.y1Scale,y2Scale:this.y2Scale,padding:this.params.padding})}renderAuxLine({coverSelection:e,xLabels:n,activeRangeIndex:i,xScale:r,padding:a,axisHeight:o}){if(!r)return;const s=n.map((u,c)=>{const l=r(u)||0;return{x1:l,x2:l,y1:0,y2:o,active:i==c}});this.utilAuxLine.setData(s),this.utilAuxLine.render()}}const vn="__DEFAULT__";class r4 extends i4{constructor(e,n){super(e,n),this.params=e4,this.bar=new J8(this.graphicY1Selection,{}),this.line=new X8(this.graphicY2Selection,{}),this.dot=new F8(this.coverSelection,{})}initGraphic(e){this.params={...this.params,...e},this.params.graphicColumnBarGroup={...this.params.graphicColumnBarGroup,colors:this.params.y1Colors,highlightTarget:this.params.highlightTarget,highlightDatumId:this.params.highlightDatumId,highlightItemId:this.params.highlightItemId,highlightGroupId:this.params.highlightGroupId},this.params.graphicColumnLine={...this.params.graphicColumnLine,colors:this.params.y2Colors,highlightItemId:this.params.highlightItemId,highlightTarget:this.params.highlightTarget==="item"?"item":"none"},this.params.graphicDot={...this.params.graphicDot,colors:this.params.y2Colors,highlightItemId:this.params.highlightItemId,highlightTarget:this.params.highlightTarget==="item"?"item":"none"},this.bar.setParams(this.params.graphicColumnBarGroup),this.bar.on("click",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.clickCallback(i)}).on("mouseover",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.showTooltip(i,L),this.mouseoverCallback(i)}).on("mousemove",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.showTooltip(i,L),this.mousemoveCallback(i)}).on("mouseout",n=>{const i=this.makeActivedCallbackData("",L);this.showTooltip(void 0,L),this.mouseoutCallback(i)}),this.line.setParams(this.params.graphicColumnLine),this.line.on("click",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.clickCallback(i)}).on("mouseover",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.showTooltip(i,L),this.mouseoverCallback(i),this.params.highlightTarget==="item"&&(this.dot.setParams({highlightItemId:n.itemLabel}),this.dot.render())}).on("mousemove",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.showTooltip(i,L),this.mousemoveCallback(i)}).on("mouseout",n=>{const i=this.makeActivedCallbackData("",L);this.showTooltip(void 0,L),this.mouseoutCallback(i),this.params.highlightTarget==="item"&&(this.dot.setParams({highlightItemId:this.params.highlightItemId}),this.dot.render())}),this.dot.setParams(this.params.graphicDot),this.dot.on("click",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.clickCallback(i)}).on("mouseover",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.showTooltip(i,L),this.mouseoverCallback(i),this.params.highlightTarget==="item"&&(this.line.setParams({highlightItemId:n.itemLabel}),this.line.render())}).on("mousemove",n=>{const i=this.makeActivedCallbackData(n.itemLabel??"",L);this.showTooltip(i,L),this.mousemoveCallback(i)}).on("mouseout",n=>{const i=this.makeActivedCallbackData("",L);this.showTooltip(void 0,L),this.mouseoutCallback(i),this.params.highlightTarget==="item"&&(this.line.setParams({highlightItemId:this.params.highlightItemId}),this.line.render())})}makeY1GraphicRenderData({dataset:e,xScale:n,y1Scale:i}){return e.y1Data.map((r,a)=>{const o=e.y1ItemLabels&&e.y1ItemLabels[a]?e.y1ItemLabels[a]:vn;return r.map((s,u)=>{const c=e.xLabels[u];return{...s,id:`${o}_${c}`,itemIndex:a,itemLabel:o,xIndex:u,xLabel:c,x:n(c)||0,y:i(s.value)||0}})})}makeY2GraphicRenderData({dataset:e,xScale:n,y2Scale:i}){return e.y2Data.map((r,a)=>{const o=e.y2ItemLabels&&e.y2ItemLabels[a]?e.y2ItemLabels[a]:vn;return r.map((s,u)=>{const c=e.xLabels[u];return{...s,id:`${o}_${c}`,itemIndex:a,itemLabel:o,xIndex:u,xLabel:c,x:n(c)||0,y:i(s.value)||0}})})}getY1MinAndMaxValue(e){return e.length?e.flat().reduce((n,i)=>[i.value<n[0]?i.value:n[0],i.value>n[1]?i.value:n[1]],[1/0,0]):[0,0]}getY2MinAndMaxValue(e){return e.length?e.flat().reduce((n,i)=>[i.value<n[0]?i.value:n[0],i.value>n[1]?i.value:n[1]],[1/0,0]):[0,0]}makeY1XDataMap({y1RenderData:e,xLabels:n}){let i=new Map;return e.length&&e.forEach((r,a)=>{i.set(n[a]??"",r)}),i}makeY2XDataMap({y2RenderData:e,xLabels:n}){let i=new Map;return e.length&&e.forEach((r,a)=>{r.forEach((o,s)=>{const u=i.get(n[s])??[];u.push(o),i.set(n[s]??"",u)})}),i}makeY1ItemDataMap({y1RenderData:e,y1ItemLabels:n}){let i=new Map;return e.length&&e.forEach((r,a)=>{r.forEach(o=>{const s=i.get(o.itemLabel??"")??[];s.push(o),i.set(o.itemLabel??"",s)})}),i}makeY2ItemDataMap({y2RenderData:e,y2ItemLabels:n}){let i=new Map;return e.length&&e.forEach((r,a)=>{i.set(n[a]??"",r)}),i}setGraphicData({y1RenderData:e,y2RenderData:n,y1ItemLabels:i,y2ItemLabels:r,xLabels:a,xScale:o,y1Scale:s,y2Scale:u}){if(this.bar.setDataset({data:e,itemLabels:i&&i.length?i:[vn],xLabels:a,axisWidth:this.axisWidth,zeroY:s(0)}),this.line.setDataset({data:n,itemLabels:r&&r.length?r:[vn],axisWidth:this.axisWidth,axisHeight:this.axisHeight,zeroY:u(0)}),this.params.showDot==="always"){const c=n.flat();this.dot.setDataset({data:c,itemLabels:r??[vn]})}}renderGraphic(){this.bar.render(),this.line.render(),this.params.showDot==="always"&&this.dot.render()}renderGraphicCoverHighlight({eventData:e,xScale:n,y1Scale:i,y2Scale:r,padding:a}){if(this.params.showDot==="hover"&&this.params.highlightTarget!=="none"){const o=e?e.y2.groupData.map(s=>({...s,id:s.itemLabel,x:n(s.xLabel),y:r(s.value)})):[];this.dot.setDataset({data:o,itemLabels:this.dataset.y2ItemLabels??[vn]}),this.dot.render()}}}const x4={__name:"ChartColumnTwoScalesBarGroupAndLine",props:["columnData"],setup(t){const e={y1Colors:["#FFAB6F","#63ABE9","#8EC48E"],axisColumnTwoScales:{xLabel:"",y1Label:"",y2Visible:!1},padding:{top:50,right:70,bottom:50,left:100},graphicColumnBarGroup:{barType:"rect",barPadding:5,barGroupPadding:20,barwidth:1}},n={y1Data:[],y2Data:[],xLabels:[],y1ItemLabels:["","",""],y2ItemLabels:[]},i=t,r=[];if(i.columnData&&!Array.isArray(i.columnData)){const a=i.columnData.basic.label;r.push(a),n.xLabels.push(r);const o=i.columnData.filter.map(s=>{let u=[];return u.push({value:s.getBallot}),n.y1ItemLabels.push(s.label),u});n.y1Data=o}return Array.isArray(i.columnData)&&i.columnData.length>0&&i.columnData.forEach(o=>{o.filter.forEach(s=>{const u=s.candidateNo-1;n.y1Data[u]||(n.y1Data[u]=[]),n.y1Data[u].push({value:s.getBallot})}),n.xLabels.push(o.basic.label)}),(a,o)=>(Ai(),Vr("div",null,[Ir(xp,{module:Qf(r4),dataset:n,params:e},null,8,["module"])]))}},a4={xLabel:"x",yLabel:"y",xLabelAnchor:"start",yLabelAnchor:"end",xLabelOffset:[0,0],yLabelOffset:[0,0],xTickPadding:20,yTickPadding:20,xTickLine:!0,yTickLine:!1,xTickLineDasharray:"none",yTickLineDasharray:"none",xTickFormat:",.0f",xTicks:4,axisLineColor:_p,axisLabelColor:We,rotateYLabel:!1,padding:on,xVisible:!0,yVisible:!0,yLabelIconMethod:void 0},o4={barWidth:0,barPadding:1,barR:!1,colors:Mt,highlightTarget:"datum",highlightDatumId:"",enterDuration:800},s4={barWidth:0,barPadding:1,barGroupPadding:20,barR:!1,colors:Mt,highlightTarget:"item",highlightGroupId:"",highlightItemId:"",highlightDatumId:"",enterDuration:800},u4={barWidth:0,barGroupPadding:20,barR:!1,colors:Mt,highlightTarget:"item",highlightGroupId:"",highlightItemId:"",highlightDatumId:"",enterDuration:800},c4={groupLayout:[],barPadding:1,barGroupPadding:20,colors:Mt,highlightTarget:"item",highlightGroupId:"",highlightItemId:"",highlightDatumId:"",enterDuration:800,labelTextMethod:(t,e)=>String(t.value),labelPositionMethod:(t,e)=>"top",labelStyleMethod:(t,e)=>"",labelFontSizeMethod:(t,e)=>10,labelColorMethod:(t,e)=>We,labelPadding:5},l4={barWidth:0,barGroupPadding:1,barR:!1,colors:Mt,highlightTarget:"item",highlightGroupId:"",highlightItemId:"",highlightDatumId:"",enterDuration:800},fr={axisRow:a4,tooltipAside:{templateHtml:t=>t.groupData&&t.groupData[0]?`
          <div>
            <div>${t.groupData[0].yLabel}</div>
            <div>${t.groupData.map(e=>e.value).join(",")}</div>          
          </div>
        `:""},colors:Mt,padding:on,highlightTarget:"datum",highlightDatumId:"",highlightItemId:"",showAuxLine:!1,domainMinValue:0,domainMaxValue:void 0,domainMinRange:void 0,domainMaxRange:.95};({...fr});({...fr});({...fr});const _4={...fr,graphicRowBarLayout:c4},w4={...fr,graphicRowBarStack:l4},f4={types:[],colors:Mt,highlightId:void 0,groupMode:"center",padding:on,tooltipFollowing:{templateHtml:t=>`
      <div>${t.label}</div>
      <div>${t.value}</div>
    `,insideBoxMode:!0,type:"black"},force:{strength:.03,velocityDecay:.2,collisionSpacing:2}};class h4 extends wp{constructor(e,n){super(e,n),this.tooltipSelection=void 0,this.setParams(n??this.params)}setParams(e){this.params={...this.params,...e},((e==null?void 0:e.insideBoxMode)??!0)===!0?this.renderTooltip=this.renderInsideBox:this.renderTooltip=this.renderDefault}renderDefault(e){try{this.tooltipSelection.interrupt("fadeout")}catch{}const n=Q("body").selectAll(".bpchat___tooltip").data(e),i=n.enter().append("div").classed("bpchat___tooltip",!0).call(this.setTooltipStyle);this.tooltipSelection=n.merge(i).style("position","fixed").style("z-index",1e4).style("left",r=>`${r.x+this.params.offsetX}px`).style("top",r=>`${r.y+this.params.offsetY}px`).html(r=>r.contentHtml).on("interrupt",(r,a,o)=>{Q(o[a]).style("opacity",1)}),n.exit().transition("fadeout").style("opacity",0).remove().on("interrupt",(r,a,o)=>{Q(o[a]).style("opacity",1)})}renderInsideBox(e){var l;try{this.tooltipSelection.interrupt("fadeout")}catch{}const n=qa(this.selection),i=(l=this.tooltipSelection)!=null&&l.node()?qa(this.tooltipSelection):{width:0,height:0},r=n.x,a=n.x+n.width-i.width,o=n.y,s=n.y+n.height-i.height,u=Q("body").selectAll(".bpchat___tooltip").data(e),c=u.enter().append("div").classed("bpchat___tooltip",!0).call(this.setTooltipStyle);this.tooltipSelection=u.merge(c).style("position","fixed").style("z-index",1e4).style("left",h=>{const f=h.x+this.params.offsetX;return f<r?`${r}px`:f>a?`${a}px`:`${f}px`}).style("top",h=>{const f=h.y+this.params.offsetY;return f<o?`${o}px`:f>s?`${s}px`:`${f}px`}).html(h=>h.contentHtml),u.exit().transition("fadeout").style("opacity",0).remove().on("interrupt",(h,f,d)=>{Q(d[f]).style("opacity",1)})}renderTooltip(e){}remove(){this.tooltipSelection&&this.tooltipSelection.transition("fadeout").style("opacity",0).remove().on("interrupt",(e,n,i)=>{Q(i[n]).style("opacity",1)})}}let d4=class{constructor(e,n){this.params=f4,this.data=[],this.width=Ga,this.height=Wa,this.sourceData=[],this.graphicWidth=Ga,this.graphicHeight=Wa,this.bubbleGroupR=350,this.groupMode="center",this.maxValue=0,this.totalValue=0,this.avgValue=0,this.highlightId="",this.tooltip=void 0,this.mouseoverCallback=function(){},this.mousemoveCallback=function(){},this.mouseoutCallback=function(){},this.clickCallback=function(){},this.selection=e,this.graphicSelection=this.selection.append("g"),this.tooltip=new h4(this.selection)}resize({width:e,height:n}){this.width=e,this.height=n,this.graphicWidth=Vi(this.width,this.params.padding),this.graphicHeight=Zi(this.height,this.params.padding),this.selection.attr("width",e).attr("height",n),this.graphicSelection.attr("width",this.graphicWidth).attr("height",this.graphicHeight);const i=Math.min(this.graphicWidth,this.graphicHeight);this.bubbleGroupR=i/2}setData(e){if(this.sourceData=JSON.parse(JSON.stringify(e)),!this.data.length)this.data=this.sourceData.map((n,i)=>({...n,x:Math.random()*this.graphicWidth,y:Math.random()*this.graphicHeight,r:0}));else{const n=new Map(this.data.map(i=>[i.id,i]));this.data=this.sourceData.map((i,r)=>{const a=n.get(i.id);return a?(a.x,a.y,{...a,value:i.value,label:i.label,type:i.type,r:0}):{...i,x:Math.random()*this.graphicWidth,y:Math.random()*this.graphicHeight,r:0}})}this.data=this.data.sort((n,i)=>i.value-n.value),this.maxValue=Math.max(...this.sourceData.map(n=>n.value)),this.totalValue=this.sourceData.map(n=>n.value).reduce((n,i)=>n+i,0),this.avgValue=this.totalValue/this.sourceData.length}render(){this.calcBubbleR(this.data,this.bubbleGroupR);let e=this.graphicSelection.selectAll("g").data(this.data,i=>i.id),n=e.enter().append("g").attr("cursor","pointer");n.style("font-size",12).style("fill","#ffffff").attr("text-anchor","middle").attr("transform",i=>`translate(${i.x},${i.y})`),n.append("circle").attr("class","node").attr("cx",0).attr("cy",0).attr("fill",i=>this.scaleFillColor(i.type)),n.append("text").style("opacity",.8),e.exit().remove(),this.bubblesSelection=e.merge(n),this.bubblesSelection.select("circle").transition().duration(200).attr("r",i=>i.r).attr("fill",i=>this.scaleFillColor(i.type)),this.bubblesSelection.each((i,r,a)=>{const o=Q(a[r]);let s=!0;i.label.length<5&&(s=!1),E8(o,{text:i.label,radius:i.r*.6,lineHeight:12,isBreakAll:s})}),this.setBubbleMouseEvent(this.bubblesSelection),this.force.nodes(this.data),this.groupMode=="type"?this.splitBubbles():this.groupMode=="rank"?this.rankBubbles():this.groupBubbles()}remove(){this.selection.remove()}select(){return this.selection}setParams(e){this.params={...this.params,...e,force:{...this.params.force,...e.force},tooltipFollowing:{...this.params.tooltipFollowing,...e.tooltipFollowing}},e.highlightId!=null&&this.setHighlight(e.highlightId),e.groupMode!=null&&(this.params.groupMode=e.groupMode,this.groupMode=e.groupMode),e.tooltipFollowing&&this.tooltip.setParams({templateHtml:this.params.tooltipFollowing.templateHtml,insideBoxMode:this.params.tooltipFollowing.insideBoxMode??!0,type:this.params.tooltipFollowing.type??"black"}),this.graphicSelection.attr("transform",`translate(${this.params.padding.left}, ${this.params.padding.top})`),this.scaleFillColor=or().domain(this.params.types).range(this.params.colors),this.force=this.makeForce(this.params),this.force.stop()}on(e,n){return e==="click"?this.clickCallback=n:e==="mouseover"?this.mouseoverCallback=n:e==="mousemove"?this.mousemoveCallback=n:e==="mouseout"&&(this.mouseoutCallback=n),this}makeForce(e){return g0().velocityDecay(e.force.velocityDecay).force("collision",p0().radius(n=>n.r+e.force.collisionSpacing)).force("charge",m0().strength(n=>-Math.pow(n.r,2)*e.force.strength)).on("tick",()=>{this.bubblesSelection&&this.bubblesSelection.attr("transform",n=>`translate(${n.x},${n.y})`)})}calcBubbleR(e,n){const i=()=>{const r=n/Math.sqrt(this.data.length),o=r*r*Math.PI/this.avgValue,s=this.maxValue*o;return Math.pow(s/Math.PI,.5)*.75};this.scaleBubbleR=yo().domain([0,this.maxValue]).range([0,i()]).exponent(.5),e.forEach(r=>{const a=this.scaleBubbleR(r.value);r.r=this.highlightId==r.id?a+10:a})}setBubbleMouseEvent(e){e.on("mouseover",(n,i,r)=>{this.tooltip.setDatum({data:n,x:L.clientX,y:L.clientY}),this.setHighlight(n.id),this.mouseoverCallback(n)}).on("mousemove",(n,i,r)=>{this.tooltip.setDatum({x:L.clientX,y:L.clientY}),this.mousemoveCallback(n)}).on("mouseout",(n,i,r)=>{this.tooltip.remove(),this.setHighlight(""),this.mouseoutCallback(n)}).on("click",(n,i,r)=>{this.clickCallback(n)}).call(this.drag())}drag(){return yh().on("start",e=>{L.active||this.force.alpha(1).restart(),e.fx=e.x,e.fy=e.y}).on("drag",e=>{L.active||this.force.alphaTarget(0),e.fx=L.x,e.fy=L.y}).on("end",e=>{e.fx=null,e.fy=null})}splitBubbles(){const e=this.graphicWidth/(this.params.types.length+1),n=new Map(this.params.types.map((i,r)=>[i,{x:e*(r+1),y:this.graphicHeight/2}]));this.force.force("x",Hr().strength(this.params.force.strength).x(i=>n.get(i.type).x)).force("y",Xr().strength(this.params.force.strength).y(this.graphicHeight/2)),this.force.alpha(3).restart()}groupBubbles(){this.force.force("x",Hr().strength(this.params.force.strength).x(this.graphicWidth/2)).force("y",Xr().strength(this.params.force.strength).y(this.graphicHeight/2)),this.force.alpha(1).restart()}rankBubbles(){if(!this.data.length)return;const e=100,n=10,i=this.graphicWidth-e*2;let r=e,a=e+this.data[0].r,o=0,s=this.data[0].r,u=this.data.map((c,l)=>{let h=r+o+n+c.r,f=a;return h>i&&(h=e+c.r,f+=s+n+c.r,s=c.r),r=h,a=f,o=c.r,{x:h,y:f}});this.force.force("x",Hr().strength(this.params.force.strength).x((c,l)=>u[l].x)).force("y",Xr().strength(this.params.force.strength).y((c,l)=>u[l].y)),this.force.alpha(3).restart()}setHighlight(e){this.params.highlightId=e,this.highlightId=e,this.highlightId==""?this.bubblesSelection.style("opacity",1):this.bubblesSelection.style("opacity",n=>n.id==this.highlightId?1:.5)}};const p4={class:"type-btns"},g4={__name:"ChartBubbleGroup",props:["dataList"],setup(t){const e=t,n=se({colors:["#EA378B","#20AD93","#7C7EB9","#C76C66","#355070"],types:["","","","",""],collisionSpacing:2,groupMode:"center",tooltipFollowing:{templateHtml:s=>`${s.label}<br/>${s.type}${s.value}`}}),i=se("center"),r=se(0),a=s=>{i.value=s,n.value.groupMode=s,r.value+=1},o=[];if(Array.isArray(e.dataList))e.dataList.map(s=>{const{label:u,pollbook:c,remain:l,validBallot:h,invalidBallot:f,ballot:d}=s,g={id:`${u}_`,label:u,value:Number(c),type:""},p={id:`${u}_`,label:u,value:Number(l),type:""},m={id:`${u}_`,label:u,value:Number(h),type:""},y={id:`${u}_`,label:u,value:Number(f),type:""},v={id:`${u}_`,label:u,value:Number(d),type:""};o.push(g,p,m,y,v)});else{const{label:s,pollbook:u,remain:c,validBallot:l,invalidBallot:h,ballot:f}=e.dataList,d={id:`${s}_`,label:s,value:Number(u),type:""},g={id:`${s}_`,label:s,value:Number(c),type:""},p={id:`${s}_`,label:s,value:Number(l),type:""},m={id:`${s}_`,label:s,value:Number(h),type:""},y={id:`${s}_`,label:s,value:Number(f),type:""};o.push(d,g,p,m,y)}return(s,u)=>{const c=Ec("el-button"),l=Ec("el-row");return Ai(),Vr("div",null,[Dp("div",p4,[Ir(l,null,{default:Do(()=>[Ir(c,{onClick:u[0]||(u[0]=h=>a("center")),class:Rc([i.value==="center"?"checked":""])},{default:Do(()=>[$c("")]),_:1},8,["class"]),Ir(c,{onClick:u[1]||(u[1]=h=>a("type")),class:Rc([i.value==="type"?"checked":""])},{default:Do(()=>[$c("")]),_:1},8,["class"])]),_:1})]),(Ai(),Lp(xp,{key:r.value,module:Qf(d4),data:o,params:n.value},null,8,["module","params"]))])}}},S4=vp(g4,[["__scopeId","data-v-b1fbef4a"]]);export{Mt as A,b4 as B,S4 as C,Ga as D,h4 as E,s3 as F,_p as G,We as H,ur as I,cr as J,G8 as K,Sp as L,j8 as M,X8 as N,F8 as O,vp as P,w8 as Q,qx as R,Ix as S,R8 as T,O8 as U,Tm as V,x4 as _,Wa as a,a4 as b,Vi as c,Zi as d,sh as e,y4 as f,oh as g,qf as h,on as i,c4 as j,Qi as k,Bn as l,Y8 as m,L as n,na as o,go as p,l4 as q,fr as r,Q as s,$8 as t,I8 as u,Vf as v,P8 as w,_4 as x,w4 as y,xp as z};
